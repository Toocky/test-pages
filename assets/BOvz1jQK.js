import{z as R,bs as Vt,bt as Jt,ac as U,g as H,B as Pt,af as Z,aT as Qt,ae as $t,j as jt,bu as xt,q as Ft,ab as q,bv as tr,F as rr,a0 as ir,G as er,bw as lt,bx as dt,K as nr,l as or,N as vt,T as sr,a as ar,P as ur,by as fr,Q as hr,a4 as Xt,bz as Yt,bA as K,bB as lr}from"./DgrlDNDf.js";var M=function(){function t(r,i){this.target=r,this.topTarget=i&&i.topTarget}return t}(),dr=function(){function t(r){this.handler=r,r.on("mousedown",this._dragStart,this),r.on("mousemove",this._drag,this),r.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(r){for(var i=r.target;i&&!i.draggable;)i=i.parent||i.__hostTarget;i&&(this._draggingTarget=i,i.dragging=!0,this._x=r.offsetX,this._y=r.offsetY,this.handler.dispatchToElement(new M(i,r),"dragstart",r.event))},t.prototype._drag=function(r){var i=this._draggingTarget;if(i){var e=r.offsetX,n=r.offsetY,o=e-this._x,s=n-this._y;this._x=e,this._y=n,i.drift(o,s,r),this.handler.dispatchToElement(new M(i,r),"drag",r.event);var a=this.handler.findHover(e,n,i).target,u=this._dropTarget;this._dropTarget=a,i!==a&&(u&&a!==u&&this.handler.dispatchToElement(new M(u,r),"dragleave",r.event),a&&a!==u&&this.handler.dispatchToElement(new M(a,r),"dragenter",r.event))}},t.prototype._dragEnd=function(r){var i=this._draggingTarget;i&&(i.dragging=!1),this.handler.dispatchToElement(new M(i,r),"dragend",r.event),this._dropTarget&&this.handler.dispatchToElement(new M(this._dropTarget,r),"drop",r.event),this._draggingTarget=null,this._dropTarget=null},t}(),vr=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,V=[],pr=R.browser.firefox&&+R.browser.version.split(".")[0]<39;function nt(t,r,i,e){return i=i||{},e?pt(t,r,i):pr&&r.layerX!=null&&r.layerX!==r.offsetX?(i.zrX=r.layerX,i.zrY=r.layerY):r.offsetX!=null?(i.zrX=r.offsetX,i.zrY=r.offsetY):pt(t,r,i),i}function pt(t,r,i){if(R.domSupported&&t.getBoundingClientRect){var e=r.clientX,n=r.clientY;if(Vt(t)){var o=t.getBoundingClientRect();i.zrX=e-o.left,i.zrY=n-o.top;return}else if(Jt(V,t,e,n)){i.zrX=V[0],i.zrY=V[1];return}}i.zrX=i.zrY=0}function ht(t){return t||window.event}function L(t,r,i){if(r=ht(r),r.zrX!=null)return r;var e=r.type,n=e&&e.indexOf("touch")>=0;if(n){var s=e!=="touchend"?r.targetTouches[0]:r.changedTouches[0];s&&nt(t,s,r,i)}else{nt(t,r,r,i);var o=gr(r);r.zrDelta=o?o/120:-(r.detail||0)/3}var a=r.button;return r.which==null&&a!==void 0&&vr.test(r.type)&&(r.which=a&1?1:a&2?3:a&4?2:0),r}function gr(t){var r=t.wheelDelta;if(r)return r;var i=t.deltaX,e=t.deltaY;if(i==null||e==null)return r;var n=Math.abs(e!==0?e:i),o=e>0?-1:e<0?1:i>0?-1:1;return 3*n*o}function _r(t,r,i,e){t.addEventListener(r,i,e)}function cr(t,r,i,e){t.removeEventListener(r,i,e)}var mr=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function hi(t){return t.which===2||t.which===3}var wr=function(){function t(){this._track=[]}return t.prototype.recognize=function(r,i,e){return this._doTrack(r,i,e),this._recognize(r)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(r,i,e){var n=r.touches;if(n){for(var o={points:[],touches:[],target:i,event:r},s=0,a=n.length;s<a;s++){var u=n[s],l=nt(e,u,{});o.points.push([l.zrX,l.zrY]),o.touches.push(u)}this._track.push(o)}},t.prototype._recognize=function(r){for(var i in J)if(J.hasOwnProperty(i)){var e=J[i](this._track,r);if(e)return e}},t}();function gt(t){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(r*r+i*i)}function Tr(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var J={pinch:function(t,r){var i=t.length;if(i){var e=(t[i-1]||{}).points,n=(t[i-2]||{}).points||e;if(n&&n.length>1&&e&&e.length>1){var o=gt(e)/gt(n);!isFinite(o)&&(o=1),r.pinchScale=o;var s=Tr(e);return r.pinchX=s[0],r.pinchY=s[1],{type:"pinch",target:t[0].target,event:r}}}}},Gt="silent";function yr(t,r,i){return{type:t,event:i,target:r.target,topTarget:r.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:br}}function br(){mr(this.event)}var Er=function(t){U(r,t);function r(){var i=t!==null&&t.apply(this,arguments)||this;return i.handler=null,i}return r.prototype.dispose=function(){},r.prototype.setCursor=function(){},r}(Z),P=function(){function t(r,i){this.x=r,this.y=i}return t}(),Sr=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Q=new Pt(0,0,0,0),Wt=function(t){U(r,t);function r(i,e,n,o,s){var a=t.call(this)||this;return a._hovered=new P(0,0),a.storage=i,a.painter=e,a.painterRoot=o,a._pointerSize=s,n=n||new Er,a.proxy=null,a.setHandlerProxy(n),a._draggingMgr=new dr(a),a}return r.prototype.setHandlerProxy=function(i){this.proxy&&this.proxy.dispose(),i&&(H(Sr,function(e){i.on&&i.on(e,this[e],this)},this),i.handler=this),this.proxy=i},r.prototype.mousemove=function(i){var e=i.zrX,n=i.zrY,o=It(this,e,n),s=this._hovered,a=s.target;a&&!a.__zr&&(s=this.findHover(s.x,s.y),a=s.target);var u=this._hovered=o?new P(e,n):this.findHover(e,n),l=u.target,h=this.proxy;h.setCursor&&h.setCursor(l?l.cursor:"default"),a&&l!==a&&this.dispatchToElement(s,"mouseout",i),this.dispatchToElement(u,"mousemove",i),l&&l!==a&&this.dispatchToElement(u,"mouseover",i)},r.prototype.mouseout=function(i){var e=i.zrEventControl;e!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",i),e!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:i})},r.prototype.resize=function(){this._hovered=new P(0,0)},r.prototype.dispatch=function(i,e){var n=this[i];n&&n.call(this,e)},r.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},r.prototype.setCursorStyle=function(i){var e=this.proxy;e.setCursor&&e.setCursor(i)},r.prototype.dispatchToElement=function(i,e,n){i=i||{};var o=i.target;if(!(o&&o.silent)){for(var s="on"+e,a=yr(e,i,n);o&&(o[s]&&(a.cancelBubble=!!o[s].call(o,a)),o.trigger(e,a),o=o.__hostTarget?o.__hostTarget:o.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[s]=="function"&&u[s].call(u,a),u.trigger&&u.trigger(e,a)}))}},r.prototype.findHover=function(i,e,n){var o=this.storage.getDisplayList(),s=new P(i,e);if(_t(o,s,i,e,n),this._pointerSize&&!s.target){for(var a=[],u=this._pointerSize,l=u/2,h=new Pt(i-l,e-l,u,u),m=o.length-1;m>=0;m--){var c=o[m];c!==n&&!c.ignore&&!c.ignoreCoarsePointer&&(!c.parent||!c.parent.ignoreCoarsePointer)&&(Q.copy(c.getBoundingRect()),c.transform&&Q.applyTransform(c.transform),Q.intersect(h)&&a.push(c))}if(a.length)for(var d=4,v=Math.PI/12,S=Math.PI*2,p=0;p<l;p+=d)for(var f=0;f<S;f+=v){var _=i+p*Math.cos(f),w=e+p*Math.sin(f);if(_t(a,s,_,w,n),s.target)return s}}return s},r.prototype.processGesture=function(i,e){this._gestureMgr||(this._gestureMgr=new wr);var n=this._gestureMgr;e==="start"&&n.clear();var o=n.recognize(i,this.findHover(i.zrX,i.zrY,null).target,this.proxy.dom);if(e==="end"&&n.clear(),o){var s=o.type;i.gestureEvent=s;var a=new P;a.target=o.target,this.dispatchToElement(a,s,o.event)}},r}(Z);H(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Wt.prototype[t]=function(r){var i=r.zrX,e=r.zrY,n=It(this,i,e),o,s;if((t!=="mouseup"||!n)&&(o=this.findHover(i,e),s=o.target),t==="mousedown")this._downEl=s,this._downPoint=[r.zrX,r.zrY],this._upEl=s;else if(t==="mouseup")this._upEl=s;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||Qt(this._downPoint,[r.zrX,r.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,t,r)}});function Dr(t,r,i){if(t[t.rectHover?"rectContain":"contain"](r,i)){for(var e=t,n=void 0,o=!1;e;){if(e.ignoreClip&&(o=!0),!o){var s=e.getClipPath();if(s&&!s.contain(r,i))return!1}e.silent&&(n=!0);var a=e.__hostTarget;e=a||e.parent}return n?Gt:!0}return!1}function _t(t,r,i,e,n){for(var o=t.length-1;o>=0;o--){var s=t[o],a=void 0;if(s!==n&&!s.ignore&&(a=Dr(s,i,e))&&(!r.topTarget&&(r.topTarget=s),a!==Gt)){r.target=s;break}}}function It(t,r,i){var e=t.painter;return r<0||r>e.getWidth()||i<0||i>e.getHeight()}var Nt=32,F=7;function kr(t){for(var r=0;t>=Nt;)r|=t&1,t>>=1;return t+r}function ct(t,r,i,e){var n=r+1;if(n===i)return 1;if(e(t[n++],t[r])<0){for(;n<i&&e(t[n],t[n-1])<0;)n++;Rr(t,r,n)}else for(;n<i&&e(t[n],t[n-1])>=0;)n++;return n-r}function Rr(t,r,i){for(i--;r<i;){var e=t[r];t[r++]=t[i],t[i--]=e}}function mt(t,r,i,e,n){for(e===r&&e++;e<i;e++){for(var o=t[e],s=r,a=e,u;s<a;)u=s+a>>>1,n(o,t[u])<0?a=u:s=u+1;var l=e-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=o}}function $(t,r,i,e,n,o){var s=0,a=0,u=1;if(o(t,r[i+n])>0){for(a=e-n;u<a&&o(t,r[i+n+u])>0;)s=u,u=(u<<1)+1,u<=0&&(u=a);u>a&&(u=a),s+=n,u+=n}else{for(a=n+1;u<a&&o(t,r[i+n-u])<=0;)s=u,u=(u<<1)+1,u<=0&&(u=a);u>a&&(u=a);var l=s;s=n-u,u=n-l}for(s++;s<u;){var h=s+(u-s>>>1);o(t,r[i+h])>0?s=h+1:u=h}return u}function j(t,r,i,e,n,o){var s=0,a=0,u=1;if(o(t,r[i+n])<0){for(a=n+1;u<a&&o(t,r[i+n-u])<0;)s=u,u=(u<<1)+1,u<=0&&(u=a);u>a&&(u=a);var l=s;s=n-u,u=n-l}else{for(a=e-n;u<a&&o(t,r[i+n+u])>=0;)s=u,u=(u<<1)+1,u<=0&&(u=a);u>a&&(u=a),s+=n,u+=n}for(s++;s<u;){var h=s+(u-s>>>1);o(t,r[i+h])<0?u=h:s=h+1}return u}function zr(t,r){var i=F,e,n,o=0,s=[];e=[],n=[];function a(d,v){e[o]=d,n[o]=v,o+=1}function u(){for(;o>1;){var d=o-2;if(d>=1&&n[d-1]<=n[d]+n[d+1]||d>=2&&n[d-2]<=n[d]+n[d-1])n[d-1]<n[d+1]&&d--;else if(n[d]>n[d+1])break;h(d)}}function l(){for(;o>1;){var d=o-2;d>0&&n[d-1]<n[d+1]&&d--,h(d)}}function h(d){var v=e[d],S=n[d],p=e[d+1],f=n[d+1];n[d]=S+f,d===o-3&&(e[d+1]=e[d+2],n[d+1]=n[d+2]),o--;var _=j(t[p],t,v,S,0,r);v+=_,S-=_,S!==0&&(f=$(t[v+S-1],t,p,f,f-1,r),f!==0&&(S<=f?m(v,S,p,f):c(v,S,p,f)))}function m(d,v,S,p){var f=0;for(f=0;f<v;f++)s[f]=t[d+f];var _=0,w=S,g=d;if(t[g++]=t[w++],--p===0){for(f=0;f<v;f++)t[g+f]=s[_+f];return}if(v===1){for(f=0;f<p;f++)t[g+f]=t[w+f];t[g+p]=s[_];return}for(var b=i,y,E,T;;){y=0,E=0,T=!1;do if(r(t[w],s[_])<0){if(t[g++]=t[w++],E++,y=0,--p===0){T=!0;break}}else if(t[g++]=s[_++],y++,E=0,--v===1){T=!0;break}while((y|E)<b);if(T)break;do{if(y=j(t[w],s,_,v,0,r),y!==0){for(f=0;f<y;f++)t[g+f]=s[_+f];if(g+=y,_+=y,v-=y,v<=1){T=!0;break}}if(t[g++]=t[w++],--p===0){T=!0;break}if(E=$(s[_],t,w,p,0,r),E!==0){for(f=0;f<E;f++)t[g+f]=t[w+f];if(g+=E,w+=E,p-=E,p===0){T=!0;break}}if(t[g++]=s[_++],--v===1){T=!0;break}b--}while(y>=F||E>=F);if(T)break;b<0&&(b=0),b+=2}if(i=b,i<1&&(i=1),v===1){for(f=0;f<p;f++)t[g+f]=t[w+f];t[g+p]=s[_]}else{if(v===0)throw new Error;for(f=0;f<v;f++)t[g+f]=s[_+f]}}function c(d,v,S,p){var f=0;for(f=0;f<p;f++)s[f]=t[S+f];var _=d+v-1,w=p-1,g=S+p-1,b=0,y=0;if(t[g--]=t[_--],--v===0){for(b=g-(p-1),f=0;f<p;f++)t[b+f]=s[f];return}if(p===1){for(g-=v,_-=v,y=g+1,b=_+1,f=v-1;f>=0;f--)t[y+f]=t[b+f];t[g]=s[w];return}for(var E=i;;){var T=0,k=0,z=!1;do if(r(s[w],t[_])<0){if(t[g--]=t[_--],T++,k=0,--v===0){z=!0;break}}else if(t[g--]=s[w--],k++,T=0,--p===1){z=!0;break}while((T|k)<E);if(z)break;do{if(T=v-j(s[w],t,d,v,v-1,r),T!==0){for(g-=T,_-=T,v-=T,y=g+1,b=_+1,f=T-1;f>=0;f--)t[y+f]=t[b+f];if(v===0){z=!0;break}}if(t[g--]=s[w--],--p===1){z=!0;break}if(k=p-$(t[_],s,0,p,p-1,r),k!==0){for(g-=k,w-=k,p-=k,y=g+1,b=w+1,f=0;f<k;f++)t[y+f]=s[b+f];if(p<=1){z=!0;break}}if(t[g--]=t[_--],--v===0){z=!0;break}E--}while(T>=F||k>=F);if(z)break;E<0&&(E=0),E+=2}if(i=E,i<1&&(i=1),p===1){for(g-=v,_-=v,y=g+1,b=_+1,f=v-1;f>=0;f--)t[y+f]=t[b+f];t[g]=s[w]}else{if(p===0)throw new Error;for(b=g-(p-1),f=0;f<p;f++)t[b+f]=s[f]}}return{mergeRuns:u,forceMergeRuns:l,pushRun:a}}function Lr(t,r,i,e){i||(i=0),e||(e=t.length);var n=e-i;if(!(n<2)){var o=0;if(n<Nt){o=ct(t,i,e,r),mt(t,i,e,i+o,r);return}var s=zr(t,r),a=kr(n);do{if(o=ct(t,i,e,r),o<a){var u=n;u>a&&(u=a),mt(t,i,i+u,i+o,r),o=u}s.pushRun(i,o),s.mergeRuns(),n-=o,i+=o}while(n!==0);s.forceMergeRuns()}}var wt=!1;function x(){wt||(wt=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Tt(t,r){return t.zlevel===r.zlevel?t.z===r.z?t.z2-r.z2:t.z-r.z:t.zlevel-r.zlevel}var Cr=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Tt}return t.prototype.traverse=function(r,i){for(var e=0;e<this._roots.length;e++)this._roots[e].traverse(r,i)},t.prototype.getDisplayList=function(r,i){i=i||!1;var e=this._displayList;return(r||!e.length)&&this.updateDisplayList(i),e},t.prototype.updateDisplayList=function(r){this._displayListLen=0;for(var i=this._roots,e=this._displayList,n=0,o=i.length;n<o;n++)this._updateAndAddDisplayable(i[n],null,r);e.length=this._displayListLen,Lr(e,Tt)},t.prototype._updateAndAddDisplayable=function(r,i,e){if(!(r.ignore&&!e)){r.beforeUpdate(),r.update(),r.afterUpdate();var n=r.getClipPath();if(r.ignoreClip)i=null;else if(n){i?i=i.slice():i=[];for(var o=n,s=r;o;)o.parent=s,o.updateTransform(),i.push(o),s=o,o=o.getClipPath()}if(r.childrenRef){for(var a=r.childrenRef(),u=0;u<a.length;u++){var l=a[u];r.__dirty&&(l.__dirty|=$t),this._updateAndAddDisplayable(l,i,e)}r.__dirty=0}else{var h=r;i&&i.length?h.__clipPaths=i:h.__clipPaths&&h.__clipPaths.length>0&&(h.__clipPaths=[]),isNaN(h.z)&&(x(),h.z=0),isNaN(h.z2)&&(x(),h.z2=0),isNaN(h.zlevel)&&(x(),h.zlevel=0),this._displayList[this._displayListLen++]=h}var m=r.getDecalElement&&r.getDecalElement();m&&this._updateAndAddDisplayable(m,i,e);var c=r.getTextGuideLine();c&&this._updateAndAddDisplayable(c,i,e);var d=r.getTextContent();d&&this._updateAndAddDisplayable(d,i,e)}},t.prototype.addRoot=function(r){r.__zr&&r.__zr.storage===this||this._roots.push(r)},t.prototype.delRoot=function(r){if(r instanceof Array){for(var i=0,e=r.length;i<e;i++)this.delRoot(r[i]);return}var n=jt(this._roots,r);n>=0&&this._roots.splice(n,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),ot;ot=R.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};function B(){return new Date().getTime()}var Hr=function(t){U(r,t);function r(i){var e=t.call(this)||this;return e._running=!1,e._time=0,e._pausedTime=0,e._pauseStart=0,e._paused=!1,i=i||{},e.stage=i.stage||{},e}return r.prototype.addClip=function(i){i.animation&&this.removeClip(i),this._head?(this._tail.next=i,i.prev=this._tail,i.next=null,this._tail=i):this._head=this._tail=i,i.animation=this},r.prototype.addAnimator=function(i){i.animation=this;var e=i.getClip();e&&this.addClip(e)},r.prototype.removeClip=function(i){if(i.animation){var e=i.prev,n=i.next;e?e.next=n:this._head=n,n?n.prev=e:this._tail=e,i.next=i.prev=i.animation=null}},r.prototype.removeAnimator=function(i){var e=i.getClip();e&&this.removeClip(e),i.animation=null},r.prototype.update=function(i){for(var e=B()-this._pausedTime,n=e-this._time,o=this._head;o;){var s=o.next,a=o.step(e,n);a&&(o.ondestroy(),this.removeClip(o)),o=s}this._time=e,i||(this.trigger("frame",n),this.stage.update&&this.stage.update())},r.prototype._startLoop=function(){var i=this;this._running=!0;function e(){i._running&&(ot(e),!i._paused&&i.update())}ot(e)},r.prototype.start=function(){this._running||(this._time=B(),this._pausedTime=0,this._startLoop())},r.prototype.stop=function(){this._running=!1},r.prototype.pause=function(){this._paused||(this._pauseStart=B(),this._paused=!0)},r.prototype.resume=function(){this._paused&&(this._pausedTime+=B()-this._pauseStart,this._paused=!1)},r.prototype.clear=function(){for(var i=this._head;i;){var e=i.next;i.prev=i.next=i.animation=null,i=e}this._head=this._tail=null},r.prototype.isFinished=function(){return this._head==null},r.prototype.animate=function(i,e){e=e||{},this.start();var n=new xt(i,e.loop);return this.addAnimator(n),n},r}(Z),Ar=300,tt=R.domSupported,rt=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],r=["touchstart","touchend","touchmove"],i={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},e=Ft(t,function(n){var o=n.replace("mouse","pointer");return i.hasOwnProperty(o)?o:n});return{mouse:t,touch:r,pointer:e}}(),yt={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},bt=!1;function st(t){var r=t.pointerType;return r==="pen"||r==="touch"}function Or(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function it(t){t&&(t.zrByTouch=!0)}function Mr(t,r){return L(t.dom,new Br(t,r),!0)}function Ut(t,r){for(var i=r,e=!1;i&&i.nodeType!==9&&!(e=i.domBelongToZr||i!==r&&i===t.painterRoot);)i=i.parentNode;return e}var Br=function(){function t(r,i){this.stopPropagation=q,this.stopImmediatePropagation=q,this.preventDefault=q,this.type=i.type,this.target=this.currentTarget=r.dom,this.pointerType=i.pointerType,this.clientX=i.clientX,this.clientY=i.clientY}return t}(),C={mousedown:function(t){t=L(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=L(this.dom,t);var r=this.__mayPointerCapture;r&&(t.zrX!==r[0]||t.zrY!==r[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=L(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=L(this.dom,t);var r=t.toElement||t.relatedTarget;Ut(this,r)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){bt=!0,t=L(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){bt||(t=L(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=L(this.dom,t),it(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),C.mousemove.call(this,t),C.mousedown.call(this,t)},touchmove:function(t){t=L(this.dom,t),it(t),this.handler.processGesture(t,"change"),C.mousemove.call(this,t)},touchend:function(t){t=L(this.dom,t),it(t),this.handler.processGesture(t,"end"),C.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<Ar&&C.click.call(this,t)},pointerdown:function(t){C.mousedown.call(this,t)},pointermove:function(t){st(t)||C.mousemove.call(this,t)},pointerup:function(t){C.mouseup.call(this,t)},pointerout:function(t){st(t)||C.mouseout.call(this,t)}};H(["click","dblclick","contextmenu"],function(t){C[t]=function(r){r=L(this.dom,r),this.trigger(t,r)}});var at={pointermove:function(t){st(t)||at.mousemove.call(this,t)},pointerup:function(t){at.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var r=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),r&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Pr(t,r){var i=r.domHandlers;R.pointerEventsSupported?H(rt.pointer,function(e){G(r,e,function(n){i[e].call(t,n)})}):(R.touchEventsSupported&&H(rt.touch,function(e){G(r,e,function(n){i[e].call(t,n),Or(r)})}),H(rt.mouse,function(e){G(r,e,function(n){n=ht(n),r.touching||i[e].call(t,n)})}))}function Fr(t,r){R.pointerEventsSupported?H(yt.pointer,i):R.touchEventsSupported||H(yt.mouse,i);function i(e){function n(o){o=ht(o),Ut(t,o.target)||(o=Mr(t,o),r.domHandlers[e].call(t,o))}G(r,e,n,{capture:!0})}}function G(t,r,i,e){t.mounted[r]=i,t.listenerOpts[r]=e,_r(t.domTarget,r,i,e)}function et(t){var r=t.mounted;for(var i in r)r.hasOwnProperty(i)&&cr(t.domTarget,i,r[i],t.listenerOpts[i]);t.mounted={}}var Et=function(){function t(r,i){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=r,this.domHandlers=i}return t}(),Xr=function(t){U(r,t);function r(i,e){var n=t.call(this)||this;return n.__pointerCapturing=!1,n.dom=i,n.painterRoot=e,n._localHandlerScope=new Et(i,C),tt&&(n._globalHandlerScope=new Et(document,at)),Pr(n,n._localHandlerScope),n}return r.prototype.dispose=function(){et(this._localHandlerScope),tt&&et(this._globalHandlerScope)},r.prototype.setCursor=function(i){this.dom.style&&(this.dom.style.cursor=i||"default")},r.prototype.__togglePointerCapture=function(i){if(this.__mayPointerCapture=null,tt&&+this.__pointerCapturing^+i){this.__pointerCapturing=i;var e=this._globalHandlerScope;i?Fr(this,e):et(e)}},r}(Z);/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var W={},A={};function Yr(t){delete A[t]}function Gr(t){if(!t)return!1;if(typeof t=="string")return lt(t,1)<dt;if(t.colorStops){for(var r=t.colorStops,i=0,e=r.length,n=0;n<e;n++)i+=lt(r[n].color,1);return i/=e,i<dt}return!1}var Wr=function(){function t(r,i,e){var n=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,e=e||{},this.dom=i,this.id=r;var o=new Cr,s=e.renderer||"canvas";W[s]||(s=rr(W)[0]),e.useDirtyRect=e.useDirtyRect==null?!1:e.useDirtyRect;var a=new W[s](i,o,e,r),u=e.ssr||a.ssrOnly;this.storage=o,this.painter=a;var l=!R.node&&!R.worker&&!u?new Xr(a.getViewportRoot(),a.root):null,h=e.useCoarsePointer,m=h==null||h==="auto"?R.touchEventsSupported:!!h,c=44,d;m&&(d=ir(e.pointerSize,c)),this.handler=new Wt(o,a,l,a.root,d),this.animation=new Hr({stage:{update:u?null:function(){return n._flush(!0)}}}),u||this.animation.start()}return t.prototype.add=function(r){this._disposed||!r||(this.storage.addRoot(r),r.addSelfToZr(this),this.refresh())},t.prototype.remove=function(r){this._disposed||!r||(this.storage.delRoot(r),r.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(r,i){this._disposed||(this.painter.configLayer&&this.painter.configLayer(r,i),this.refresh())},t.prototype.setBackgroundColor=function(r){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(r),this.refresh(),this._backgroundColor=r,this._darkMode=Gr(r))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(r){this._darkMode=r},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(r){this._disposed||(r||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(r){var i,e=B();this._needsRefresh&&(i=!0,this.refreshImmediately(r)),this._needsRefreshHover&&(i=!0,this.refreshHoverImmediately());var n=B();i?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:n-e})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(r){this._sleepAfterStill=r},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(r){this._disposed||(r=r||{},this.painter.resize(r.width,r.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(r){this._disposed||this.handler.setCursorStyle(r)},t.prototype.findHover=function(r,i){if(!this._disposed)return this.handler.findHover(r,i)},t.prototype.on=function(r,i,e){return this._disposed||this.handler.on(r,i,e),this},t.prototype.off=function(r,i){this._disposed||this.handler.off(r,i)},t.prototype.trigger=function(r,i){this._disposed||this.handler.trigger(r,i)},t.prototype.clear=function(){if(!this._disposed){for(var r=this.storage.getRoots(),i=0;i<r.length;i++)r[i]instanceof er&&r[i].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,Yr(this.id))},t}();function Ir(t,r){var i=new Wr(tr(),t,r);return A[i.id]=i,i}function Nr(t){t.dispose()}function Ur(){for(var t in A)A.hasOwnProperty(t)&&A[t].dispose();A={}}function Zr(t){return A[t]}function qr(t,r){W[t]=r}var ut;function Kr(t){if(typeof ut=="function")return ut(t)}function Vr(t){ut=t}var Jr="5.6.1";const li=Object.freeze(Object.defineProperty({__proto__:null,dispose:Nr,disposeAll:Ur,getElementSSRData:Kr,getInstance:Zr,init:Ir,registerPainter:qr,registerSSRDataGetter:Vr,version:Jr},Symbol.toStringTag,{value:"Module"}));function O(t){return isFinite(t)}function Qr(t,r,i){var e=r.x==null?0:r.x,n=r.x2==null?1:r.x2,o=r.y==null?0:r.y,s=r.y2==null?0:r.y2;r.global||(e=e*i.width+i.x,n=n*i.width+i.x,o=o*i.height+i.y,s=s*i.height+i.y),e=O(e)?e:0,n=O(n)?n:1,o=O(o)?o:0,s=O(s)?s:0;var a=t.createLinearGradient(e,o,n,s);return a}function $r(t,r,i){var e=i.width,n=i.height,o=Math.min(e,n),s=r.x==null?.5:r.x,a=r.y==null?.5:r.y,u=r.r==null?.5:r.r;r.global||(s=s*e+i.x,a=a*n+i.y,u=u*o),s=O(s)?s:.5,a=O(a)?a:.5,u=u>=0&&O(u)?u:.5;var l=t.createRadialGradient(s,a,0,s,a,u);return l}function St(t,r,i){for(var e=r.type==="radial"?$r(t,r,i):Qr(t,r,i),n=r.colorStops,o=0;o<n.length;o++)e.addColorStop(n[o].offset,n[o].color);return e}function jr(t,r){if(t===r||!t&&!r)return!1;if(!t||!r||t.length!==r.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==r[i])return!0;return!1}function Y(t){return parseInt(t,10)}function di(t,r,i){var e=["width","height"][r],n=["clientWidth","clientHeight"][r],o=["paddingLeft","paddingTop"][r],s=["paddingRight","paddingBottom"][r];if(i[e]!=null&&i[e]!=="auto")return parseFloat(i[e]);var a=document.defaultView.getComputedStyle(t);return(t[n]||Y(a[e])||Y(t.style[e]))-(Y(a[o])||0)-(Y(a[s])||0)|0}function xr(t,r){return!t||t==="solid"||!(r>0)?null:t==="dashed"?[4*r,2*r]:t==="dotted"?[r]:nr(t)?[t]:or(t)?t:null}function Zt(t){var r=t.style,i=r.lineDash&&r.lineWidth>0&&xr(r.lineDash,r.lineWidth),e=r.lineDashOffset;if(i){var n=r.strokeNoScale&&t.getLineScale?t.getLineScale():1;n&&n!==1&&(i=Ft(i,function(o){return o/n}),e/=n)}return[i,e]}var ti=new ur(!0);function I(t){var r=t.stroke;return!(r==null||r==="none"||!(t.lineWidth>0))}function Dt(t){return typeof t=="string"&&t!=="none"}function N(t){var r=t.fill;return r!=null&&r!=="none"}function kt(t,r){if(r.fillOpacity!=null&&r.fillOpacity!==1){var i=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,t.fill(),t.globalAlpha=i}else t.fill()}function Rt(t,r){if(r.strokeOpacity!=null&&r.strokeOpacity!==1){var i=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,t.stroke(),t.globalAlpha=i}else t.stroke()}function zt(t,r,i){var e=Xt(r.image,r.__image,i);if(Yt(e)){var n=t.createPattern(e,r.repeat||"repeat");if(typeof DOMMatrix=="function"&&n&&n.setTransform){var o=new DOMMatrix;o.translateSelf(r.x||0,r.y||0),o.rotateSelf(0,0,(r.rotation||0)*lr),o.scaleSelf(r.scaleX||1,r.scaleY||1),n.setTransform(o)}return n}}function ri(t,r,i,e){var n,o=I(i),s=N(i),a=i.strokePercent,u=a<1,l=!r.path;(!r.silent||u)&&l&&r.createPathProxy();var h=r.path||ti,m=r.__dirty;if(!e){var c=i.fill,d=i.stroke,v=s&&!!c.colorStops,S=o&&!!d.colorStops,p=s&&!!c.image,f=o&&!!d.image,_=void 0,w=void 0,g=void 0,b=void 0,y=void 0;(v||S)&&(y=r.getBoundingRect()),v&&(_=m?St(t,c,y):r.__canvasFillGradient,r.__canvasFillGradient=_),S&&(w=m?St(t,d,y):r.__canvasStrokeGradient,r.__canvasStrokeGradient=w),p&&(g=m||!r.__canvasFillPattern?zt(t,c,r):r.__canvasFillPattern,r.__canvasFillPattern=g),f&&(b=m||!r.__canvasStrokePattern?zt(t,d,r):r.__canvasStrokePattern,r.__canvasStrokePattern=g),v?t.fillStyle=_:p&&(g?t.fillStyle=g:s=!1),S?t.strokeStyle=w:f&&(b?t.strokeStyle=b:o=!1)}var E=r.getGlobalScale();h.setScale(E[0],E[1],r.segmentIgnoreThreshold);var T,k;t.setLineDash&&i.lineDash&&(n=Zt(r),T=n[0],k=n[1]);var z=!0;(l||m&fr)&&(h.setDPR(t.dpr),u?h.setContext(null):(h.setContext(t),z=!1),h.reset(),r.buildPath(h,r.shape,e),h.toStatic(),r.pathUpdated()),z&&h.rebuildPath(t,u?a:1),T&&(t.setLineDash(T),t.lineDashOffset=k),e||(i.strokeFirst?(o&&Rt(t,i),s&&kt(t,i)):(s&&kt(t,i),o&&Rt(t,i))),T&&t.setLineDash([])}function ii(t,r,i){var e=r.__image=Xt(i.image,r.__image,r,r.onload);if(!(!e||!Yt(e))){var n=i.x||0,o=i.y||0,s=r.getWidth(),a=r.getHeight(),u=e.width/e.height;if(s==null&&a!=null?s=a*u:a==null&&s!=null?a=s/u:s==null&&a==null&&(s=e.width,a=e.height),i.sWidth&&i.sHeight){var l=i.sx||0,h=i.sy||0;t.drawImage(e,l,h,i.sWidth,i.sHeight,n,o,s,a)}else if(i.sx&&i.sy){var l=i.sx,h=i.sy,m=s-l,c=a-h;t.drawImage(e,l,h,m,c,n,o,s,a)}else t.drawImage(e,n,o,s,a)}}function ei(t,r,i){var e,n=i.text;if(n!=null&&(n+=""),n){t.font=i.font||hr,t.textAlign=i.textAlign,t.textBaseline=i.textBaseline;var o=void 0,s=void 0;t.setLineDash&&i.lineDash&&(e=Zt(r),o=e[0],s=e[1]),o&&(t.setLineDash(o),t.lineDashOffset=s),i.strokeFirst?(I(i)&&t.strokeText(n,i.x,i.y),N(i)&&t.fillText(n,i.x,i.y)):(N(i)&&t.fillText(n,i.x,i.y),I(i)&&t.strokeText(n,i.x,i.y)),o&&t.setLineDash([])}}var Lt=["shadowBlur","shadowOffsetX","shadowOffsetY"],Ct=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function qt(t,r,i,e,n){var o=!1;if(!e&&(i=i||{},r===i))return!1;if(e||r.opacity!==i.opacity){D(t,n),o=!0;var s=Math.max(Math.min(r.opacity,1),0);t.globalAlpha=isNaN(s)?K.opacity:s}(e||r.blend!==i.blend)&&(o||(D(t,n),o=!0),t.globalCompositeOperation=r.blend||K.blend);for(var a=0;a<Lt.length;a++){var u=Lt[a];(e||r[u]!==i[u])&&(o||(D(t,n),o=!0),t[u]=t.dpr*(r[u]||0))}return(e||r.shadowColor!==i.shadowColor)&&(o||(D(t,n),o=!0),t.shadowColor=r.shadowColor||K.shadowColor),o}function Ht(t,r,i,e,n){var o=X(r,n.inHover),s=e?null:i&&X(i,n.inHover)||{};if(o===s)return!1;var a=qt(t,o,s,e,n);if((e||o.fill!==s.fill)&&(a||(D(t,n),a=!0),Dt(o.fill)&&(t.fillStyle=o.fill)),(e||o.stroke!==s.stroke)&&(a||(D(t,n),a=!0),Dt(o.stroke)&&(t.strokeStyle=o.stroke)),(e||o.opacity!==s.opacity)&&(a||(D(t,n),a=!0),t.globalAlpha=o.opacity==null?1:o.opacity),r.hasStroke()){var u=o.lineWidth,l=u/(o.strokeNoScale&&r.getLineScale?r.getLineScale():1);t.lineWidth!==l&&(a||(D(t,n),a=!0),t.lineWidth=l)}for(var h=0;h<Ct.length;h++){var m=Ct[h],c=m[0];(e||o[c]!==s[c])&&(a||(D(t,n),a=!0),t[c]=o[c]||m[1])}return a}function ni(t,r,i,e,n){return qt(t,X(r,n.inHover),i&&X(i,n.inHover),e,n)}function Kt(t,r){var i=r.transform,e=t.dpr||1;i?t.setTransform(e*i[0],e*i[1],e*i[2],e*i[3],e*i[4],e*i[5]):t.setTransform(e,0,0,e,0,0)}function oi(t,r,i){for(var e=!1,n=0;n<t.length;n++){var o=t[n];e=e||o.isZeroArea(),Kt(r,o),r.beginPath(),o.buildPath(r,o.shape),r.clip()}i.allClipped=e}function si(t,r){return t&&r?t[0]!==r[0]||t[1]!==r[1]||t[2]!==r[2]||t[3]!==r[3]||t[4]!==r[4]||t[5]!==r[5]:!(!t&&!r)}var At=1,Ot=2,Mt=3,Bt=4;function ai(t){var r=N(t),i=I(t);return!(t.lineDash||!(+r^+i)||r&&typeof t.fill!="string"||i&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function D(t,r){r.batchFill&&t.fill(),r.batchStroke&&t.stroke(),r.batchFill="",r.batchStroke=""}function X(t,r){return r&&t.__hoverStyle||t.style}function vi(t,r){ft(t,r,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function ft(t,r,i,e){var n=r.transform;if(!r.shouldBePainted(i.viewWidth,i.viewHeight,!1,!1)){r.__dirty&=-2,r.__isRendered=!1;return}var o=r.__clipPaths,s=i.prevElClipPaths,a=!1,u=!1;if((!s||jr(o,s))&&(s&&s.length&&(D(t,i),t.restore(),u=a=!0,i.prevElClipPaths=null,i.allClipped=!1,i.prevEl=null),o&&o.length&&(D(t,i),t.save(),oi(o,t,i),a=!0),i.prevElClipPaths=o),i.allClipped){r.__isRendered=!1;return}r.beforeBrush&&r.beforeBrush(),r.innerBeforeBrush();var l=i.prevEl;l||(u=a=!0);var h=r instanceof vt&&r.autoBatch&&ai(r.style);a||si(n,l.transform)?(D(t,i),Kt(t,r)):h||D(t,i);var m=X(r,i.inHover);r instanceof vt?(i.lastDrawType!==At&&(u=!0,i.lastDrawType=At),Ht(t,r,l,u,i),(!h||!i.batchFill&&!i.batchStroke)&&t.beginPath(),ri(t,r,m,h),h&&(i.batchFill=m.fill||"",i.batchStroke=m.stroke||"")):r instanceof sr?(i.lastDrawType!==Mt&&(u=!0,i.lastDrawType=Mt),Ht(t,r,l,u,i),ei(t,r,m)):r instanceof ar?(i.lastDrawType!==Ot&&(u=!0,i.lastDrawType=Ot),ni(t,r,l,u,i),ii(t,r,m)):r.getTemporalDisplayables&&(i.lastDrawType!==Bt&&(u=!0,i.lastDrawType=Bt),ui(t,r,i)),h&&e&&D(t,i),r.innerAfterBrush(),r.afterBrush&&r.afterBrush(),i.prevEl=r,r.__dirty=0,r.__isRendered=!0}function ui(t,r,i){var e=r.getDisplayables(),n=r.getTemporalDisplayables();t.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:i.viewWidth,viewHeight:i.viewHeight,inHover:i.inHover},s,a;for(s=r.getCursor(),a=e.length;s<a;s++){var u=e[s];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),ft(t,u,o,s===a-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),o.prevEl=u}for(var l=0,h=n.length;l<h;l++){var u=n[l];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),ft(t,u,o,l===h-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),o.prevEl=u}r.clearTemporalDisplayables(),r.notClear=!0,t.restore()}export{Kr as a,vi as b,di as c,St as d,zt as e,ft as f,Zt as g,_r as h,hi as i,qr as j,Ir as k,Lr as l,Vr as m,L as n,ot as r,mr as s,li as z};
