import{a6 as G,a4 as re,O as oe,v as pt,S as Ze,a7 as Nr,a8 as he,g as se,a9 as ne,aa as Er,ab as Zt,ac as De,ad as ye,ae as ko,af as ni,X as K,x as ii,ag as Za,ah as oi,ai as aa,aj as Te,ak as $t,al as li,am as lt,m as be,a as st,an as O,y as Tt,ao as or,ap as zo,aq as lr,P as sr,ar as ra,as as Bo,at as Ie,C as si,au as Ct,av as Go,aw as Xt,B as Oo,ax as Yt,ay as na,M as Qe,az as Fo,aA as Rr,aB as Ho,aC as Wo,c as Ee,aD as ui,aE as Mr,aF as kt,aG as Vr,aH as Uo,b as kr,aI as Zo,L as zr,aJ as Br,aK as $o,o as Xo,aL as vi,aM as hi,aN as $a,aO as Yo,d as qo,q as da,aP as Ko,aQ as ci,aR as ya,k as jo,aS as Jo,l as Qo,aT as el,aU as Gr,aV as tl,T as al,K as rl}from"./B8bEpPzb.js";import{c as ze,p as ia}from"./Cy6PEWkj.js";import{c as Ce,a as ee,E as oa,D as nl,F as fi,G as gi,H as pi,I as di,J as yi}from"./LyrMl2Ci.js";import{G as ae,q as J,K as _e,P as il,al as Or,am as Fr,N as me,R as Ae,n as de,b as le,f as Re,Z as Le,g as k,an as ol,p as Pe,ao as Hr,l as Y,ap as ll,h as $,d as fe,aq as mi,ar as Xa,as as ut,B as ot,at as sl,a as Pt,c as ul,au as et,r as vl,av as Si,aw as qt,a3 as hl,F as cl,j as vt,ab as Ya,ax as Wr,ay as fl,az as gl,aA as pl,aB as bi,aC as wi,aD as dl,aE as Dt,i as ur,aF as We,aG as vr,aH as yl,aI as ml,aJ as dt,aK as Ur,aL as qa,aM as Sl,aN as pe,aO as bl,aP as Di,aQ as wl,m as la,aR as Dl,o as _l,a0 as Ka,aS as Al,aT as yt,aU as xl,aV as Zr,aW as Il,aX as Ll,ah as $r,aY as zt,aZ as Tl,a_ as Me}from"./DgrlDNDf.js";import{S as sa,a as ua,i as va,g as _i,b as _t,c as Cl,d as Pl,M as Nl,e as El,f as Rl,R as hr,V as cr,o as Ai,u as xi,h as Ii,j as Li,k as Ti,L as Ci,l as Ml,m as Pi,n as fr,p as Xr,s as Vl,q as kl,r as zl,t as Bl,v as Gl}from"./BMx9qRsR.js";import{i as Kt,b as Ke,l as Ni,d as Ei,S as tt,u as ha,f as ja,h as Ol}from"./eTtyDkgu.js";import{l as Fl,a as Hl,s as Ri,g as Mi}from"./BdFUXAzl.js";import{s as Wl}from"./CfwoEIg3.js";import{D as ca}from"./CoHqWZrp.js";import"./BOvz1jQK.js";var Ul=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return ze(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var a=new ae,n=Ce("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);a.add(n),n.setStyle(e.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),l=i==="none"?"circle":i,s=e.itemHeight*.8,u=Ce(l,(e.itemWidth-s)/2,(e.itemHeight-s)/2,s,s,e.itemStyle.fill);a.add(u),u.setStyle(e.itemStyle);var v=e.iconRotate==="inherit"?o:e.iconRotate||0;return u.rotation=v*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),l.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),a},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(re);function Vi(r,t,e){var a=r.getBaseAxis(),n=r.getOtherAxis(a),i=Zl(n,e),o=a.dim,l=n.dim,s=t.mapDimension(l),u=t.mapDimension(o),v=l==="x"||l==="radius"?1:0,h=J(r.dimensions,function(g){return t.mapDimension(g)}),c=!1,f=t.getCalculationInfo("stackResultDimension");return Kt(t,h[0])&&(c=!0,h[0]=f),Kt(t,h[1])&&(c=!0,h[1]=f),{dataDimsForPoint:h,valueStart:i,valueAxisDim:l,baseAxisDim:o,stacked:!!c,valueDim:s,baseDim:u,baseDataOffset:v,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Zl(r,t){var e=0,a=r.scale.getExtent();return t==="start"?e=a[0]:t==="end"?e=a[1]:_e(t)&&!isNaN(t)?e=t:a[0]>0?e=a[0]:a[1]<0&&(e=a[1]),e}function ki(r,t,e,a){var n=NaN;r.stacked&&(n=e.get(e.getCalculationInfo("stackedOverDimension"),a)),isNaN(n)&&(n=r.valueStart);var i=r.baseDataOffset,o=[];return o[i]=e.get(r.baseDim,a),o[1-i]=n,t.dataToPoint(o)}function $l(r,t){var e=[];return t.diff(r).add(function(a){e.push({cmd:"+",idx:a})}).update(function(a,n){e.push({cmd:"=",idx:n,idx1:a})}).remove(function(a){e.push({cmd:"-",idx:a})}).execute(),e}function Xl(r,t,e,a,n,i,o,l){for(var s=$l(r,t),u=[],v=[],h=[],c=[],f=[],g=[],p=[],d=Vi(n,t,o),S=r.getLayout("points")||[],y=t.getLayout("points")||[],m=0;m<s.length;m++){var b=s[m],w=!0,D=void 0,_=void 0;switch(b.cmd){case"=":D=b.idx*2,_=b.idx1*2;var A=S[D],C=S[D+1],I=y[_],x=y[_+1];(isNaN(A)||isNaN(C))&&(A=I,C=x),u.push(A,C),v.push(I,x),h.push(e[D],e[D+1]),c.push(a[_],a[_+1]),p.push(t.getRawIndex(b.idx1));break;case"+":var L=b.idx,N=d.dataDimsForPoint,P=n.dataToPoint([t.get(N[0],L),t.get(N[1],L)]);_=L*2,u.push(P[0],P[1]),v.push(y[_],y[_+1]);var T=ki(d,n,t,L);h.push(T[0],T[1]),c.push(a[_],a[_+1]),p.push(t.getRawIndex(L));break;case"-":w=!1}w&&(f.push(b),g.push(g.length))}g.sort(function(Z,ie){return p[Z]-p[ie]});for(var E=u.length,M=Ke(E),R=Ke(E),V=Ke(E),B=Ke(E),z=[],m=0;m<g.length;m++){var F=g[m],W=m*2,H=F*2;M[W]=u[H],M[W+1]=u[H+1],R[W]=v[H],R[W+1]=v[H+1],V[W]=h[H],V[W+1]=h[H+1],B[W]=c[H],B[W+1]=c[H+1],z[m]=f[F]}return{current:M,next:R,stackedOnCurrent:V,stackedOnNext:B,status:z}}var Ge=Math.min,Oe=Math.max;function Je(r,t){return isNaN(r)||isNaN(t)}function Ja(r,t,e,a,n,i,o,l,s){for(var u,v,h,c,f,g,p=e,d=0;d<a;d++){var S=t[p*2],y=t[p*2+1];if(p>=n||p<0)break;if(Je(S,y)){if(s){p+=i;continue}break}if(p===e)r[i>0?"moveTo":"lineTo"](S,y),h=S,c=y;else{var m=S-u,b=y-v;if(m*m+b*b<.5){p+=i;continue}if(o>0){for(var w=p+i,D=t[w*2],_=t[w*2+1];D===S&&_===y&&d<a;)d++,w+=i,p+=i,D=t[w*2],_=t[w*2+1],S=t[p*2],y=t[p*2+1],m=S-u,b=y-v;var A=d+1;if(s)for(;Je(D,_)&&A<a;)A++,w+=i,D=t[w*2],_=t[w*2+1];var C=.5,I=0,x=0,L=void 0,N=void 0;if(A>=a||Je(D,_))f=S,g=y;else{I=D-u,x=_-v;var P=S-u,T=D-S,E=y-v,M=_-y,R=void 0,V=void 0;if(l==="x"){R=Math.abs(P),V=Math.abs(T);var B=I>0?1:-1;f=S-B*R*o,g=y,L=S+B*V*o,N=y}else if(l==="y"){R=Math.abs(E),V=Math.abs(M);var z=x>0?1:-1;f=S,g=y-z*R*o,L=S,N=y+z*V*o}else R=Math.sqrt(P*P+E*E),V=Math.sqrt(T*T+M*M),C=V/(V+R),f=S-I*o*(1-C),g=y-x*o*(1-C),L=S+I*o*C,N=y+x*o*C,L=Ge(L,Oe(D,S)),N=Ge(N,Oe(_,y)),L=Oe(L,Ge(D,S)),N=Oe(N,Ge(_,y)),I=L-S,x=N-y,f=S-I*R/V,g=y-x*R/V,f=Ge(f,Oe(u,S)),g=Ge(g,Oe(v,y)),f=Oe(f,Ge(u,S)),g=Oe(g,Ge(v,y)),I=S-f,x=y-g,L=S+I*V/R,N=y+x*V/R}r.bezierCurveTo(h,c,f,g,S,y),h=L,c=N}else r.lineTo(S,y)}u=S,v=y,p+=i}return d}var zi=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),Yl=function(r){G(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polyline",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new zi},t.prototype.buildPath=function(e,a){var n=a.points,i=0,o=n.length/2;if(a.connectNulls){for(;o>0&&Je(n[o*2-2],n[o*2-1]);o--);for(;i<o&&Je(n[i*2],n[i*2+1]);i++);}for(;i<o;)i+=Ja(e,n,i,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},t.prototype.getPointOn=function(e,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n=this.path,i=n.data,o=il.CMD,l,s,u=a==="x",v=[],h=0;h<i.length;){var c=i[h++],f=void 0,g=void 0,p=void 0,d=void 0,S=void 0,y=void 0,m=void 0;switch(c){case o.M:l=i[h++],s=i[h++];break;case o.L:if(f=i[h++],g=i[h++],m=u?(e-l)/(f-l):(e-s)/(g-s),m<=1&&m>=0){var b=u?(g-s)*m+s:(f-l)*m+l;return u?[e,b]:[b,e]}l=f,s=g;break;case o.C:f=i[h++],g=i[h++],p=i[h++],d=i[h++],S=i[h++],y=i[h++];var w=u?Or(l,f,p,S,e,v):Or(s,g,d,y,e,v);if(w>0)for(var D=0;D<w;D++){var _=v[D];if(_<=1&&_>=0){var b=u?Fr(s,g,d,y,_):Fr(l,f,p,S,_);return u?[e,b]:[b,e]}}l=S,s=y;break}}},t}(me),ql=function(r){G(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(zi),Bi=function(r){G(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polygon",a}return t.prototype.getDefaultShape=function(){return new ql},t.prototype.buildPath=function(e,a){var n=a.points,i=a.stackedOnPoints,o=0,l=n.length/2,s=a.smoothMonotone;if(a.connectNulls){for(;l>0&&Je(n[l*2-2],n[l*2-1]);l--);for(;o<l&&Je(n[o*2],n[o*2+1]);o++);}for(;o<l;){var u=Ja(e,n,o,l,l,1,a.smooth,s,a.connectNulls);Ja(e,i,o+u-1,u,l,-1,a.stackedOnSmooth,s,a.connectNulls),o+=u+1,e.closePath()}},t}(me);function Gi(r,t,e,a,n){var i=r.getArea(),o=i.x,l=i.y,s=i.width,u=i.height,v=e.get(["lineStyle","width"])||0;o-=v/2,l-=v/2,s+=v,u+=v,s=Math.ceil(s),o!==Math.floor(o)&&(o=Math.floor(o),s++);var h=new Ae({shape:{x:o,y:l,width:s,height:u}});if(t){var c=r.getBaseAxis(),f=c.isHorizontal(),g=c.inverse;f?(g&&(h.shape.x+=s),h.shape.width=0):(g||(h.shape.y+=u),h.shape.height=0);var p=de(n)?function(d){n(d,h)}:null;oe(h,{shape:{width:s,height:u,x:o,y:l}},e,null,a,p)}return h}function Oi(r,t,e){var a=r.getArea(),n=pt(a.r0,1),i=pt(a.r,1),o=new Ze({shape:{cx:pt(r.cx,1),cy:pt(r.cy,1),r0:n,r:i,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(t){var l=r.getBaseAxis().dim==="angle";l?o.shape.endAngle=a.startAngle:o.shape.r=n,oe(o,{shape:{endAngle:a.endAngle,r:i}},e)}return o}function Nt(r,t,e,a,n){if(r){if(r.type==="polar")return Oi(r,t,e);if(r.type==="cartesian2d")return Gi(r,t,e,a,n)}else return null;return null}function Yr(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function qr(r){for(var t=1/0,e=1/0,a=-1/0,n=-1/0,i=0;i<r.length;){var o=r[i++],l=r[i++];isNaN(o)||(t=Math.min(o,t),a=Math.max(o,a)),isNaN(l)||(e=Math.min(l,e),n=Math.max(l,n))}return[[t,e],[a,n]]}function Kr(r,t){var e=qr(r),a=e[0],n=e[1],i=qr(t),o=i[0],l=i[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(n[0]-l[0]),Math.abs(n[1]-l[1]))}function jr(r){return _e(r)?r:r?.5:0}function Kl(r,t,e){if(!e.valueDim)return[];for(var a=t.count(),n=Ke(a*2),i=0;i<a;i++){var o=ki(e,r,t,i);n[i*2]=o[0],n[i*2+1]=o[1]}return n}function Fe(r,t,e,a,n){var i=e.getBaseAxis(),o=i.dim==="x"||i.dim==="radius"?0:1,l=[],s=0,u=[],v=[],h=[],c=[];if(n){for(s=0;s<r.length;s+=2){var f=t||r;!isNaN(f[s])&&!isNaN(f[s+1])&&c.push(r[s],r[s+1])}r=c}for(s=0;s<r.length-2;s+=2)switch(h[0]=r[s+2],h[1]=r[s+3],v[0]=r[s],v[1]=r[s+1],l.push(v[0],v[1]),a){case"end":u[o]=h[o],u[1-o]=v[1-o],l.push(u[0],u[1]);break;case"middle":var g=(v[o]+h[o])/2,p=[];u[o]=p[o]=g,u[1-o]=v[1-o],p[1-o]=h[1-o],l.push(u[0],u[1]),l.push(p[0],p[1]);break;default:u[o]=v[o],u[1-o]=h[1-o],l.push(u[0],u[1])}return l.push(r[s++],r[s++]),l}function jl(r,t){var e=[],a=r.length,n,i;function o(v,h,c){var f=v.coord,g=(c-f)/(h.coord-f),p=ol(g,[v.color,h.color]);return{coord:c,color:p}}for(var l=0;l<a;l++){var s=r[l],u=s.coord;if(u<0)n=s;else if(u>t){i?e.push(o(i,s,t)):n&&e.push(o(n,s,0),o(n,s,t));break}else n&&(e.push(o(n,s,0)),n=null),e.push(s),i=s}return e}function Jl(r,t,e){var a=r.getVisual("visualMeta");if(!(!a||!a.length||!r.count())&&t.type==="cartesian2d"){for(var n,i,o=a.length-1;o>=0;o--){var l=r.getDimensionInfo(a[o].dimension);if(n=l&&l.coordDim,n==="x"||n==="y"){i=a[o];break}}if(i){var s=t.getAxis(n),u=J(i.stops,function(m){return{coord:s.toGlobalCoord(s.dataToCoord(m.value)),color:m.color}}),v=u.length,h=i.outerColors.slice();v&&u[0].coord>u[v-1].coord&&(u.reverse(),h.reverse());var c=jl(u,n==="x"?e.getWidth():e.getHeight()),f=c.length;if(!f&&v)return u[0].coord<0?h[1]?h[1]:u[v-1].color:h[0]?h[0]:u[0].color;var g=10,p=c[0].coord-g,d=c[f-1].coord+g,S=d-p;if(S<.001)return"transparent";k(c,function(m){m.offset=(m.coord-p)/S}),c.push({offset:f?c[f-1].offset:.5,color:h[1]||"transparent"}),c.unshift({offset:f?c[0].offset:.5,color:h[0]||"transparent"});var y=new ii(0,0,0,0,c,!0);return y[n]=p,y[n+"2"]=d,y}}}function Ql(r,t,e){var a=r.get("showAllSymbol"),n=a==="auto";if(!(a&&!n)){var i=e.getAxesByScale("ordinal")[0];if(i&&!(n&&es(i,t))){var o=t.mapDimension(i.dim),l={};return k(i.getViewLabels(),function(s){var u=i.scale.getRawOrdinalNumber(s.tickValue);l[u]=1}),function(s){return!l.hasOwnProperty(t.get(o,s))}}}}function es(r,t){var e=r.getExtent(),a=Math.abs(e[1]-e[0])/r.scale.count();isNaN(a)&&(a=0);for(var n=t.count(),i=Math.max(1,Math.round(n/5)),o=0;o<n;o+=i)if(ua.getSymbolSize(t,o)[r.isHorizontal()?1:0]*1.5>a)return!1;return!0}function ts(r,t){return isNaN(r)||isNaN(t)}function as(r){for(var t=r.length/2;t>0&&ts(r[t*2-2],r[t*2-1]);t--);return t-1}function Jr(r,t){return[r[t*2],r[t*2+1]]}function rs(r,t,e){for(var a=r.length/2,n=e==="x"?0:1,i,o,l=0,s=-1,u=0;u<a;u++)if(o=r[u*2+n],!(isNaN(o)||isNaN(r[u*2+1-n]))){if(u===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){s=u;break}l=u,i=o}return{range:[l,s],t:(t-i)/(o-i)}}function Fi(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<Za.length;t++)if(r.get([Za[t],"endLabel","show"]))return!0;return!1}function ma(r,t,e,a){if(va(t,"cartesian2d")){var n=a.getModel("endLabel"),i=n.get("valueAnimation"),o=a.getData(),l={lastFrameIndex:0},s=Fi(a)?function(f,g){r._endLabelOnDuring(f,g,o,l,i,n,t)}:null,u=t.getBaseAxis().isHorizontal(),v=Gi(t,e,a,function(){var f=r._endLabel;f&&e&&l.originalX!=null&&f.attr({x:l.originalX,y:l.originalY})},s);if(!a.get("clip",!0)){var h=v.shape,c=Math.max(h.width,h.height);u?(h.y-=c,h.height+=c*2):(h.x-=c,h.width+=c*2)}return s&&s(1,v),v}else return Oi(t,e,a)}function ns(r,t){var e=t.getBaseAxis(),a=e.isHorizontal(),n=e.inverse,i=a?n?"right":"left":"center",o=a?"middle":n?"top":"bottom";return{normal:{align:r.get("align")||i,verticalAlign:r.get("verticalAlign")||o}}}var is=function(r){G(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new ae,a=new sa;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=e,this._changePolyState=le(this._changePolyState,this)},t.prototype.render=function(e,a,n){var i=e.coordinateSystem,o=this.group,l=e.getData(),s=e.getModel("lineStyle"),u=e.getModel("areaStyle"),v=l.getLayout("points")||[],h=i.type==="polar",c=this._coordSys,f=this._symbolDraw,g=this._polyline,p=this._polygon,d=this._lineGroup,S=!a.ssr&&e.get("animation"),y=!u.isEmpty(),m=u.get("origin"),b=Vi(i,l,m),w=y&&Kl(i,l,b),D=e.get("showSymbol"),_=e.get("connectNulls"),A=D&&!h&&Ql(e,l,i),C=this._data;C&&C.eachItemGraphicEl(function(Z,ie){Z.__temp&&(o.remove(Z),C.setItemGraphicEl(ie,null))}),D||f.remove(),o.add(d);var I=h?!1:e.get("step"),x;i&&i.getArea&&e.get("clip",!0)&&(x=i.getArea(),x.width!=null?(x.x-=.1,x.y-=.1,x.width+=.2,x.height+=.2):x.r0&&(x.r0-=.5,x.r+=.5)),this._clipShapeForSymbol=x;var L=Jl(l,i,n)||l.getVisual("style")[l.getVisual("drawType")];if(!(g&&c.type===i.type&&I===this._step))D&&f.updateData(l,{isIgnore:A,clipShape:x,disableAnimation:!0,getSymbolPoint:function(Z){return[v[Z*2],v[Z*2+1]]}}),S&&this._initSymbolLabelAnimation(l,i,x),I&&(w&&(w=Fe(w,v,i,I,_)),v=Fe(v,null,i,I,_)),g=this._newPolyline(v),y?p=this._newPolygon(v,w):p&&(d.remove(p),p=this._polygon=null),h||this._initOrUpdateEndLabel(e,i,Nr(L)),d.setClipPath(ma(this,i,!0,e));else{y&&!p?p=this._newPolygon(v,w):p&&!y&&(d.remove(p),p=this._polygon=null),h||this._initOrUpdateEndLabel(e,i,Nr(L));var N=d.getClipPath();if(N){var P=ma(this,i,!1,e);oe(N,{shape:P.shape},e)}else d.setClipPath(ma(this,i,!0,e));D&&f.updateData(l,{isIgnore:A,clipShape:x,disableAnimation:!0,getSymbolPoint:function(Z){return[v[Z*2],v[Z*2+1]]}}),(!Yr(this._stackedOnPoints,w)||!Yr(this._points,v))&&(S?this._doUpdateAnimation(l,w,i,n,I,m,_):(I&&(w&&(w=Fe(w,v,i,I,_)),v=Fe(v,null,i,I,_)),g.setShape({points:v}),p&&p.setShape({points:v,stackedOnPoints:w})))}var T=e.getModel("emphasis"),E=T.get("focus"),M=T.get("blurScope"),R=T.get("disabled");if(g.useStyle(Re(s.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),he(g,e,"lineStyle"),g.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var V=g.getState("emphasis").style;V.lineWidth=+g.style.lineWidth+1}se(g).seriesIndex=e.seriesIndex,ne(g,E,M,R);var B=jr(e.get("smooth")),z=e.get("smoothMonotone");if(g.setShape({smooth:B,smoothMonotone:z,connectNulls:_}),p){var F=l.getCalculationInfo("stackedOnSeries"),W=0;p.useStyle(Re(u.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),F&&(W=jr(F.get("smooth"))),p.setShape({smooth:B,stackedOnSmooth:W,smoothMonotone:z,connectNulls:_}),he(p,e,"areaStyle"),se(p).seriesIndex=e.seriesIndex,ne(p,E,M,R)}var H=this._changePolyState;l.eachItemGraphicEl(function(Z){Z&&(Z.onHoverStateChange=H)}),this._polyline.onHoverStateChange=H,this._data=l,this._coordSys=i,this._stackedOnPoints=w,this._points=v,this._step=I,this._valueOrigin=m,e.get("triggerLineEvent")&&(this.packEventData(e,g),p&&this.packEventData(e,p))},t.prototype.packEventData=function(e,a){se(a).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,a,n,i){var o=e.getData(),l=Er(o,i);if(this._changePolyState("emphasis"),!(l instanceof Array)&&l!=null&&l>=0){var s=o.getLayout("points"),u=o.getItemGraphicEl(l);if(!u){var v=s[l*2],h=s[l*2+1];if(isNaN(v)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(v,h))return;var c=e.get("zlevel")||0,f=e.get("z")||0;u=new ua(o,l),u.x=v,u.y=h,u.setZ(c,f);var g=u.getSymbolPath().getTextContent();g&&(g.zlevel=c,g.z=f,g.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(l,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else ee.prototype.highlight.call(this,e,a,n,i)},t.prototype.downplay=function(e,a,n,i){var o=e.getData(),l=Er(o,i);if(this._changePolyState("normal"),l!=null&&l>=0){var s=o.getItemGraphicEl(l);s&&(s.__temp?(o.setItemGraphicEl(l,null),this.group.remove(s)):s.downplay())}else ee.prototype.downplay.call(this,e,a,n,i)},t.prototype._changePolyState=function(e){var a=this._polygon;Zt(this._polyline,e),a&&Zt(a,e)},t.prototype._newPolyline=function(e){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new Yl({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},t.prototype._newPolygon=function(e,a){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Bi({shape:{points:e,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,a,n){var i,o,l=a.getBaseAxis(),s=l.inverse;a.type==="cartesian2d"?(i=l.isHorizontal(),o=!1):a.type==="polar"&&(i=l.dim==="angle",o=!0);var u=e.hostModel,v=u.get("animationDuration");de(v)&&(v=v(null));var h=u.get("animationDelay")||0,c=de(h)?h(null):h;e.eachItemGraphicEl(function(f,g){var p=f;if(p){var d=[f.x,f.y],S=void 0,y=void 0,m=void 0;if(n)if(o){var b=n,w=a.pointToCoord(d);i?(S=b.startAngle,y=b.endAngle,m=-w[1]/180*Math.PI):(S=b.r0,y=b.r,m=w[0])}else{var D=n;i?(S=D.x,y=D.x+D.width,m=f.x):(S=D.y+D.height,y=D.y,m=f.y)}var _=y===S?0:(m-S)/(y-S);s&&(_=1-_);var A=de(h)?h(g):v*_+c,C=p.getSymbolPath(),I=C.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:A}),I&&I.animateFrom({style:{opacity:0}},{duration:300,delay:A}),C.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,a,n){var i=e.getModel("endLabel");if(Fi(e)){var o=e.getData(),l=this._polyline,s=o.getLayout("points");if(!s){l.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Le({z2:200}),u.ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var v=as(s);v>=0&&(De(l,ye(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:v,defaultText:function(h,c,f){return f!=null?_i(o,f):_t(o,h)},enableTextSetter:!0},ns(i,a)),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,a,n,i,o,l,s){var u=this._endLabel,v=this._polyline;if(u){e<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var h=n.getLayout("points"),c=n.hostModel,f=c.get("connectNulls"),g=l.get("precision"),p=l.get("distance")||0,d=s.getBaseAxis(),S=d.isHorizontal(),y=d.inverse,m=a.shape,b=y?S?m.x:m.y+m.height:S?m.x+m.width:m.y,w=(S?p:0)*(y?-1:1),D=(S?0:-p)*(y?-1:1),_=S?"x":"y",A=rs(h,b,_),C=A.range,I=C[1]-C[0],x=void 0;if(I>=1){if(I>1&&!f){var L=Jr(h,C[0]);u.attr({x:L[0]+w,y:L[1]+D}),o&&(x=c.getRawValue(C[0]))}else{var L=v.getPointOn(b,_);L&&u.attr({x:L[0]+w,y:L[1]+D});var N=c.getRawValue(C[0]),P=c.getRawValue(C[1]);o&&(x=ko(n,g,N,P,A.t))}i.lastFrameIndex=C[0]}else{var T=e===1||i.lastFrameIndex>0?C[0]:0,L=Jr(h,T);o&&(x=c.getRawValue(T)),u.attr({x:L[0]+w,y:L[1]+D})}if(o){var E=ni(u);typeof E.setLabelText=="function"&&E.setLabelText(x)}}},t.prototype._doUpdateAnimation=function(e,a,n,i,o,l,s){var u=this._polyline,v=this._polygon,h=e.hostModel,c=Xl(this._data,e,this._stackedOnPoints,a,this._coordSys,n,this._valueOrigin),f=c.current,g=c.stackedOnCurrent,p=c.next,d=c.stackedOnNext;if(o&&(g=Fe(c.stackedOnCurrent,c.current,n,o,s),f=Fe(c.current,null,n,o,s),d=Fe(c.stackedOnNext,c.next,n,o,s),p=Fe(c.next,null,n,o,s)),Kr(f,p)>3e3||v&&Kr(g,d)>3e3){u.stopAnimation(),u.setShape({points:p}),v&&(v.stopAnimation(),v.setShape({points:p,stackedOnPoints:d}));return}u.shape.__points=c.current,u.shape.points=f;var S={shape:{points:p}};c.current!==f&&(S.shape.__points=c.next),u.stopAnimation(),K(u,S,h),v&&(v.setShape({points:f,stackedOnPoints:g}),v.stopAnimation(),K(v,{shape:{stackedOnPoints:d}},h),u.shape.points!==v.shape.points&&(v.shape.points=u.shape.points));for(var y=[],m=c.status,b=0;b<m.length;b++){var w=m[b].cmd;if(w==="="){var D=e.getItemGraphicEl(m[b].idx1);D&&y.push({el:D,ptIdx:b})}}u.animators&&u.animators.length&&u.animators[0].during(function(){v&&v.dirtyShape();for(var _=u.shape.__points,A=0;A<y.length;A++){var C=y[A].el,I=y[A].ptIdx*2;C.x=_[I],C.y=_[I+1],C.markRedraw()}})},t.prototype.remove=function(e){var a=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(a.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ee);function Et(r,t){return{seriesType:r,plan:oa(),reset:function(e){var a=e.getData(),n=e.coordinateSystem,i=e.pipelineContext,o=t||i.large;if(n){var l=J(n.dimensions,function(f){return a.mapDimension(f)}).slice(0,2),s=l.length,u=a.getCalculationInfo("stackResultDimension");Kt(a,l[0])&&(l[0]=u),Kt(a,l[1])&&(l[1]=u);var v=a.getStore(),h=a.getDimensionIndex(l[0]),c=a.getDimensionIndex(l[1]);return s&&{progress:function(f,g){for(var p=f.end-f.start,d=o&&Ke(p*s),S=[],y=[],m=f.start,b=0;m<f.end;m++){var w=void 0;if(s===1){var D=v.get(h,m);w=n.dataToPoint(D,null,y)}else S[0]=v.get(h,m),S[1]=v.get(c,m),w=n.dataToPoint(S,null,y);o?(d[b++]=w[0],d[b++]=w[1]):g.setItemLayout(m,w.slice())}o&&g.setLayout("points",d)}}}}}}var os={average:function(r){for(var t=0,e=0,a=0;a<r.length;a++)isNaN(r[a])||(t+=r[a],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},ls=function(r){return Math.round(r.length/2)};function Hi(r){return{seriesType:r,reset:function(t,e,a){var n=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,l=n.count();if(l>10&&o.type==="cartesian2d"&&i){var s=o.getBaseAxis(),u=o.getOtherAxis(s),v=s.getExtent(),h=a.getDevicePixelRatio(),c=Math.abs(v[1]-v[0])*(h||1),f=Math.round(l/c);if(isFinite(f)&&f>1){i==="lttb"?t.setData(n.lttbDownSample(n.mapDimension(u.dim),1/f)):i==="minmax"&&t.setData(n.minmaxDownSample(n.mapDimension(u.dim),1/f));var g=void 0;Pe(i)?g=os[i]:de(i)&&(g=i),g&&t.setData(n.downSample(n.mapDimension(u.dim),1/f,g,ls))}}}}}function tf(r){r.registerChartView(is),r.registerSeriesModel(Ul),r.registerLayout(Et("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),a=t.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",a)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Hi("line"))}var At=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){return ze(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,a,n){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(e),l=i.dataToPoint(o);if(n)k(i.getAxes(),function(c,f){if(c.type==="category"&&a!=null){var g=c.getTicksCoords(),p=c.getTickModel().get("alignWithLabel"),d=o[f],S=a[f]==="x1"||a[f]==="y1";if(S&&!p&&(d+=1),g.length<2)return;if(g.length===2){l[f]=c.toGlobalCoord(c.getExtent()[S?1:0]);return}for(var y=void 0,m=void 0,b=1,w=0;w<g.length;w++){var D=g[w].coord,_=w===g.length-1?g[w-1].tickValue+b:g[w].tickValue;if(_===d){m=D;break}else if(_<d)y=D;else if(y!=null&&_>d){m=(D+y)/2;break}w===1&&(b=_-g[0].tickValue)}m==null&&(y?y&&(m=g[g.length-1].coord):m=g[0].coord),l[f]=c.toGlobalCoord(m)}});else{var s=this.getData(),u=s.getLayout("offset"),v=s.getLayout("size"),h=i.getBaseAxis().isHorizontal()?0:1;l[h]+=u+v/2}return l}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(re);re.registerClass(At);var ss=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return ze(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>e&&(e=a),e},t.prototype.brushSelector=function(e,a,n){return n.rect(a.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=oi(At.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(At),us=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),jt=function(r){G(t,r);function t(e){var a=r.call(this,e)||this;return a.type="sausage",a}return t.prototype.getDefaultShape=function(){return new us},t.prototype.buildPath=function(e,a){var n=a.cx,i=a.cy,o=Math.max(a.r0||0,0),l=Math.max(a.r,0),s=(l-o)*.5,u=o+s,v=a.startAngle,h=a.endAngle,c=a.clockwise,f=Math.PI*2,g=c?h-v<f:v-h<f;g||(v=h-(c?f:-f));var p=Math.cos(v),d=Math.sin(v),S=Math.cos(h),y=Math.sin(h);g?(e.moveTo(p*o+n,d*o+i),e.arc(p*u+n,d*u+i,s,-Math.PI+v,v,!c)):e.moveTo(p*l+n,d*l+i),e.arc(n,i,l,v,h,!c),e.arc(S*u+n,y*u+i,s,h-Math.PI*2,h-Math.PI,!c),o!==0&&e.arc(n,i,o,h,v,c)},t}(me);function vs(r,t){t=t||{};var e=t.isRoundCap;return function(a,n,i){var o=n.position;if(!o||o instanceof Array)return Hr(a,n,i);var l=r(o),s=n.distance!=null?n.distance:5,u=this.shape,v=u.cx,h=u.cy,c=u.r,f=u.r0,g=(c+f)/2,p=u.startAngle,d=u.endAngle,S=(p+d)/2,y=e?Math.abs(c-f)/2:0,m=Math.cos,b=Math.sin,w=v+c*m(p),D=h+c*b(p),_="left",A="top";switch(l){case"startArc":w=v+(f-s)*m(S),D=h+(f-s)*b(S),_="center",A="top";break;case"insideStartArc":w=v+(f+s)*m(S),D=h+(f+s)*b(S),_="center",A="bottom";break;case"startAngle":w=v+g*m(p)+Bt(p,s+y,!1),D=h+g*b(p)+Gt(p,s+y,!1),_="right",A="middle";break;case"insideStartAngle":w=v+g*m(p)+Bt(p,-s+y,!1),D=h+g*b(p)+Gt(p,-s+y,!1),_="left",A="middle";break;case"middle":w=v+g*m(S),D=h+g*b(S),_="center",A="middle";break;case"endArc":w=v+(c+s)*m(S),D=h+(c+s)*b(S),_="center",A="bottom";break;case"insideEndArc":w=v+(c-s)*m(S),D=h+(c-s)*b(S),_="center",A="top";break;case"endAngle":w=v+g*m(d)+Bt(d,s+y,!0),D=h+g*b(d)+Gt(d,s+y,!0),_="left",A="middle";break;case"insideEndAngle":w=v+g*m(d)+Bt(d,-s+y,!0),D=h+g*b(d)+Gt(d,-s+y,!0),_="right",A="middle";break;default:return Hr(a,n,i)}return a=a||{},a.x=w,a.y=D,a.align=_,a.verticalAlign=A,a}}function hs(r,t,e,a){if(_e(a)){r.setTextConfig({rotation:a});return}else if(Y(t)){r.setTextConfig({rotation:0});return}var n=r.shape,i=n.clockwise?n.startAngle:n.endAngle,o=n.clockwise?n.endAngle:n.startAngle,l=(i+o)/2,s,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":s=l;break;case"startAngle":case"insideStartAngle":s=i;break;case"endAngle":case"insideEndAngle":s=o;break;default:r.setTextConfig({rotation:0});return}var v=Math.PI*1.5-s;u==="middle"&&v>Math.PI/2&&v<Math.PI*1.5&&(v-=Math.PI),r.setTextConfig({rotation:v})}function Bt(r,t,e){return t*Math.sin(r)*(e?-1:1)}function Gt(r,t,e){return t*Math.cos(r)*(e?1:-1)}function je(r,t,e){var a=r.get("borderRadius");if(a==null)return e?{cornerRadius:0}:null;Y(a)||(a=[a,a,a,a]);var n=Math.abs(t.r||0-t.r0||0);return{cornerRadius:J(a,function(i){return ll(i,n)})}}var Sa=Math.max,ba=Math.min;function cs(r,t){var e=r.getArea&&r.getArea();if(va(r,"cartesian2d")){var a=r.getBaseAxis();if(a.type!=="category"||!a.onBand){var n=t.getLayout("bandWidth");a.isHorizontal()?(e.x-=n,e.width+=n*2):(e.y-=n,e.height+=n*2)}}return e}var fs=function(r){G(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,a,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,a,n):this._renderNormal(e,a,n,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,a){this._progressiveEls=[],this._incrementalRenderLarge(e,a)},t.prototype.eachRendered=function(e){aa(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var a=e.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(e,a,n,i){var o=this.group,l=e.getData(),s=this._data,u=e.coordinateSystem,v=u.getBaseAxis(),h;u.type==="cartesian2d"?h=v.isHorizontal():u.type==="polar"&&(h=v.dim==="angle");var c=e.isAnimationEnabled()?e:null,f=gs(e,u);f&&this._enableRealtimeSort(f,l,n);var g=e.get("clip",!0)||f,p=cs(u,l);o.removeClipPath();var d=e.get("roundCap",!0),S=e.get("showBackground",!0),y=e.getModel("backgroundStyle"),m=y.get("borderRadius")||0,b=[],w=this._backgroundEls,D=i&&i.isInitSort,_=i&&i.type==="changeAxisOrder";function A(x){var L=Ot[u.type](l,x),N=ws(u,h,L);return N.useStyle(y.getItemStyle()),u.type==="cartesian2d"?N.setShape("r",m):N.setShape("cornerRadius",m),b[x]=N,N}l.diff(s).add(function(x){var L=l.getItemModel(x),N=Ot[u.type](l,x,L);if(S&&A(x),!(!l.hasValue(x)||!rn[u.type](N))){var P=!1;g&&(P=Qr[u.type](p,N));var T=en[u.type](e,l,x,N,h,c,v.model,!1,d);f&&(T.forceLabelAnimation=!0),nn(T,l,x,L,N,e,h,u.type==="polar"),D?T.attr({shape:N}):f?tn(f,c,T,N,x,h,!1,!1):oe(T,{shape:N},e,x),l.setItemGraphicEl(x,T),o.add(T),T.ignore=P}}).update(function(x,L){var N=l.getItemModel(x),P=Ot[u.type](l,x,N);if(S){var T=void 0;w.length===0?T=A(L):(T=w[L],T.useStyle(y.getItemStyle()),u.type==="cartesian2d"?T.setShape("r",m):T.setShape("cornerRadius",m),b[x]=T);var E=Ot[u.type](l,x),M=Ui(h,E,u);K(T,{shape:M},c,x)}var R=s.getItemGraphicEl(L);if(!l.hasValue(x)||!rn[u.type](P)){o.remove(R);return}var V=!1;if(g&&(V=Qr[u.type](p,P),V&&o.remove(R)),R?Te(R):R=en[u.type](e,l,x,P,h,c,v.model,!!R,d),f&&(R.forceLabelAnimation=!0),_){var B=R.getTextContent();if(B){var z=ni(B);z.prevValue!=null&&(z.prevValue=z.value)}}else nn(R,l,x,N,P,e,h,u.type==="polar");D?R.attr({shape:P}):f?tn(f,c,R,P,x,h,!0,_):K(R,{shape:P},e,x,null),l.setItemGraphicEl(x,R),R.ignore=V,o.add(R)}).remove(function(x){var L=s.getItemGraphicEl(x);L&&$t(L,e,x)}).execute();var C=this._backgroundGroup||(this._backgroundGroup=new ae);C.removeAll();for(var I=0;I<b.length;++I)C.add(b[I]);o.add(C),this._backgroundEls=b,this._data=l},t.prototype._renderLarge=function(e,a,n){this._clear(),ln(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,a){this._removeBackground(),ln(a,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var a=e.get("clip",!0)&&Nt(e.coordinateSystem,!1,e),n=this.group;a?n.setClipPath(a):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,a,n){var i=this;if(a.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,e,n),this._isFirstFrame=!1;else{var l=function(s){var u=a.getItemGraphicEl(s),v=u&&u.shape;return v&&Math.abs(o.isHorizontal()?v.height:v.width)||0};this._onRendered=function(){i._updateSortWithinSameData(a,l,o,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,a,n){var i=[];return e.each(e.mapDimension(a.dim),function(o,l){var s=n(l);s=s??NaN,i.push({dataIndex:l,mappedValue:s,ordinalNumber:o})}),i.sort(function(o,l){return l.mappedValue-o.mappedValue}),{ordinalNumbers:J(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,a,n){for(var i=n.scale,o=e.mapDimension(n.dim),l=Number.MAX_VALUE,s=0,u=i.getOrdinalMeta().categories.length;s<u;++s){var v=e.rawIndexOf(o,i.getRawOrdinalNumber(s)),h=v<0?Number.MIN_VALUE:a(e.indexOfRawIndex(v));if(h>l)return!0;l=h}return!1},t.prototype._isOrderDifferentInView=function(e,a){for(var n=a.scale,i=n.getExtent(),o=Math.max(0,i[0]),l=Math.min(i[1],n.getOrdinalMeta().categories.length-1);o<=l;++o)if(e.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,a,n,i){if(this._isOrderChangedWithinSameData(e,a,n)){var o=this._dataSort(e,n,a);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,a,n){var i=a.baseAxis,o=this._dataSort(e,i,function(l){return e.get(e.mapDimension(a.otherAxis.dim),l)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(e,a){this._clear(this._model),this._removeOnRenderedListener(a)},t.prototype.dispose=function(e,a){this._removeOnRenderedListener(a)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var a=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){$t(i,e,se(i).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ee),Qr={cartesian2d:function(r,t){var e=t.width<0?-1:1,a=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var n=r.x+r.width,i=r.y+r.height,o=Sa(t.x,r.x),l=ba(t.x+t.width,n),s=Sa(t.y,r.y),u=ba(t.y+t.height,i),v=l<o,h=u<s;return t.x=v&&o>n?l:o,t.y=h&&s>i?u:s,t.width=v?0:l-o,t.height=h?0:u-s,e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),v||h},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}var n=ba(t.r,r.r),i=Sa(t.r0,r.r0);t.r=n,t.r0=i;var o=n-i<0;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}return o}},en={cartesian2d:function(r,t,e,a,n,i,o,l,s){var u=new Ae({shape:$({},a),z2:1});if(u.__dataIndex=e,u.name="item",i){var v=u.shape,h=n?"height":"width";v[h]=0}return u},polar:function(r,t,e,a,n,i,o,l,s){var u=!n&&s?jt:Ze,v=new u({shape:a,z2:1});v.name="item";var h=Wi(n);if(v.calculateTextPosition=vs(h,{isRoundCap:u===jt}),i){var c=v.shape,f=n?"r":"endAngle",g={};c[f]=n?a.r0:a.startAngle,g[f]=a[f],(l?K:oe)(v,{shape:g},i)}return v}};function gs(r,t){var e=r.get("realtimeSort",!0),a=t.getBaseAxis();if(e&&a.type==="category"&&t.type==="cartesian2d")return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}function tn(r,t,e,a,n,i,o,l){var s,u;i?(u={x:a.x,width:a.width},s={y:a.y,height:a.height}):(u={y:a.y,height:a.height},s={x:a.x,width:a.width}),l||(o?K:oe)(e,{shape:s},t,n,null);var v=t?r.baseAxis.model:null;(o?K:oe)(e,{shape:u},v,n)}function an(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var ps=["x","y","width","height"],ds=["cx","cy","r","startAngle","endAngle"],rn={cartesian2d:function(r){return!an(r,ps)},polar:function(r){return!an(r,ds)}},Ot={cartesian2d:function(r,t,e){var a=r.getItemLayout(t),n=e?ms(e,a):0,i=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+i*n/2,y:a.y+o*n/2,width:a.width-i*n,height:a.height-o*n}},polar:function(r,t,e){var a=r.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function ys(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function Wi(r){return function(t){var e=t?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+e;default:return a}}}(r)}function nn(r,t,e,a,n,i,o,l){var s=t.getItemVisual(e,"style");if(l){if(!i.get("roundCap")){var v=r.shape,h=je(a.getModel("itemStyle"),v,!0);$(v,h),r.setShape(v)}}else{var u=a.get(["itemStyle","borderRadius"])||0;r.setShape("r",u)}r.useStyle(s);var c=a.getShallow("cursor");c&&r.attr("cursor",c);var f=l?o?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":o?n.height>=0?"bottom":"top":n.width>=0?"right":"left",g=ye(a);De(r,g,{labelFetcher:i,labelDataIndex:e,defaultText:_t(i.getData(),e),inheritColor:s.fill,defaultOpacity:s.opacity,defaultOutsidePosition:f});var p=r.getTextContent();if(l&&p){var d=a.get(["label","position"]);r.textConfig.inside=d==="middle"?!0:null,hs(r,d==="outside"?f:d,Wi(o),a.get(["label","rotate"]))}li(p,g,i.getRawValue(e),function(y){return _i(t,y)});var S=a.getModel(["emphasis"]);ne(r,S.get("focus"),S.get("blurScope"),S.get("disabled")),he(r,a),ys(n)&&(r.style.fill="none",r.style.stroke="none",k(r.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function ms(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var a=r.get(["itemStyle","borderWidth"])||0,n=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,n,i)}var Ss=function(){function r(){}return r}(),on=function(r){G(t,r);function t(e){var a=r.call(this,e)||this;return a.type="largeBar",a}return t.prototype.getDefaultShape=function(){return new Ss},t.prototype.buildPath=function(e,a){for(var n=a.points,i=this.baseDimIdx,o=1-this.baseDimIdx,l=[],s=[],u=this.barWidth,v=0;v<n.length;v+=3)s[i]=u,s[o]=n[v+2],l[i]=n[v+i],l[o]=n[v+o],e.rect(l[0],l[1],s[0],s[1])},t}(me);function ln(r,t,e,a){var n=r.getData(),i=n.getLayout("valueAxisHorizontal")?1:0,o=n.getLayout("largeDataIndices"),l=n.getLayout("size"),s=r.getModel("backgroundStyle"),u=n.getLayout("largeBackgroundPoints");if(u){var v=new on({shape:{points:u},incremental:!!a,silent:!0,z2:0});v.baseDimIdx=i,v.largeDataIndices=o,v.barWidth=l,v.useStyle(s.getItemStyle()),t.add(v),e&&e.push(v)}var h=new on({shape:{points:n.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=i,h.largeDataIndices=o,h.barWidth=l,t.add(h),h.useStyle(n.getVisual("style")),h.style.stroke=null,se(h).seriesIndex=r.seriesIndex,r.get("silent")||(h.on("mousedown",sn),h.on("mousemove",sn)),e&&e.push(h)}var sn=nl(function(r){var t=this,e=bs(t,r.offsetX,r.offsetY);se(t).dataIndex=e>=0?e:null},30,!1);function bs(r,t,e){for(var a=r.baseDimIdx,n=1-a,i=r.shape.points,o=r.largeDataIndices,l=[],s=[],u=r.barWidth,v=0,h=i.length/3;v<h;v++){var c=v*3;if(s[a]=u,s[n]=i[c+2],l[a]=i[c+a],l[n]=i[c+n],s[n]<0&&(l[n]+=s[n],s[n]=-s[n]),t>=l[0]&&t<=l[0]+s[0]&&e>=l[1]&&e<=l[1]+s[1])return o[v]}return-1}function Ui(r,t,e){if(va(e,"cartesian2d")){var a=t,n=e.getArea();return{x:r?a.x:n.x,y:r?n.y:a.y,width:r?a.width:n.width,height:r?n.height:a.height}}else{var n=e.getArea(),i=t;return{cx:n.cx,cy:n.cy,r0:r?n.r0:i.r0,r:r?n.r:i.r,startAngle:r?i.startAngle:0,endAngle:r?i.endAngle:Math.PI*2}}}function ws(r,t,e){var a=r.type==="polar"?Ze:Ae;return new a({shape:Ui(t,e,r),silent:!0,z2:0})}function af(r){r.registerChartView(fs),r.registerSeriesModel(ss),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,fe(Ni,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ei("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Hi("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var a=t.componentType||"series";e.eachComponent({mainType:a,query:t},function(n){t.sortInfo&&n.axis.setCategorySortInfo(t.sortInfo)})})}var un=Math.PI*2,Ft=Math.PI/180;function Zi(r,t){return st(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function $i(r,t){var e=Zi(r,t),a=r.get("center"),n=r.get("radius");Y(n)||(n=[0,n]);var i=O(e.width,t.getWidth()),o=O(e.height,t.getHeight()),l=Math.min(i,o),s=O(n[0],l/2),u=O(n[1],l/2),v,h,c=r.coordinateSystem;if(c){var f=c.dataToPoint(a);v=f[0]||0,h=f[1]||0}else Y(a)||(a=[a,a]),v=O(a[0],i)+e.x,h=O(a[1],o)+e.y;return{cx:v,cy:h,r0:s,r:u}}function Ds(r,t,e){t.eachSeriesByType(r,function(a){var n=a.getData(),i=n.mapDimension("value"),o=Zi(a,e),l=$i(a,e),s=l.cx,u=l.cy,v=l.r,h=l.r0,c=-a.get("startAngle")*Ft,f=a.get("endAngle"),g=a.get("padAngle")*Ft;f=f==="auto"?c-un:-f*Ft;var p=a.get("minAngle")*Ft,d=p+g,S=0;n.each(i,function(M){!isNaN(M)&&S++});var y=n.getSum(i),m=Math.PI/(y||S)*2,b=a.get("clockwise"),w=a.get("roseType"),D=a.get("stillShowZeroSum"),_=n.getDataExtent(i);_[0]=0;var A=b?1:-1,C=[c,f],I=A*g/2;mi(C,!b),c=C[0],f=C[1];var x=Xi(a);x.startAngle=c,x.endAngle=f,x.clockwise=b;var L=Math.abs(f-c),N=L,P=0,T=c;if(n.setLayout({viewRect:o,r:v}),n.each(i,function(M,R){var V;if(isNaN(M)){n.setItemLayout(R,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:s,cy:u,r0:h,r:w?NaN:v});return}w!=="area"?V=y===0&&D?m:M*m:V=L/S,V<d?(V=d,N-=d):P+=M;var B=T+A*V,z=0,F=0;g>V?(z=T+A*V/2,F=z):(z=T+I,F=B-I),n.setItemLayout(R,{angle:V,startAngle:z,endAngle:F,clockwise:b,cx:s,cy:u,r0:h,r:w?be(M,_,[h,v]):v}),T=B}),N<un&&S)if(N<=.001){var E=L/S;n.each(i,function(M,R){if(!isNaN(M)){var V=n.getItemLayout(R);V.angle=E;var B=0,z=0;E<g?(B=c+A*(R+1/2)*E,z=B):(B=c+A*R*E+I,z=c+A*(R+1)*E-I),V.startAngle=B,V.endAngle=z}})}else m=N/P,T=c,n.each(i,function(M,R){if(!isNaN(M)){var V=n.getItemLayout(R),B=V.angle===d?d:M*m,z=0,F=0;B<g?(z=T+A*B/2,F=z):(z=T+I,F=T+A*B-I),V.startAngle=z,V.endAngle=F,T+=A*B}})})}var Xi=lt();function Rt(r){return{seriesType:r,reset:function(t,e){var a=e.findComponents({mainType:"legend"});if(!(!a||!a.length)){var n=t.getData();n.filterSelf(function(i){for(var o=n.getName(i),l=0;l<a.length;l++)if(!a[l].isSelected(o))return!1;return!0})}}}}var _s=Math.PI/180;function vn(r,t,e,a,n,i,o,l,s,u){if(r.length<2)return;function v(p){for(var d=p.rB,S=d*d,y=0;y<p.list.length;y++){var m=p.list[y],b=Math.abs(m.label.y-e),w=a+m.len,D=w*w,_=Math.sqrt(Math.abs((1-b*b/S)*D)),A=t+(_+m.len2)*n,C=A-m.label.x,I=m.targetTextWidth-C*n;Yi(m,I,!0),m.label.x=A}}function h(p){for(var d={list:[],maxY:0},S={list:[],maxY:0},y=0;y<p.length;y++)if(p[y].labelAlignTo==="none"){var m=p[y],b=m.label.y>e?S:d,w=Math.abs(m.label.y-e);if(w>=b.maxY){var D=m.label.x-t-m.len2*n,_=a+m.len,A=Math.abs(D)<_?Math.sqrt(w*w/(1-D*D/_/_)):_;b.rB=A,b.maxY=w}b.list.push(m)}v(d),v(S)}for(var c=r.length,f=0;f<c;f++)if(r[f].position==="outer"&&r[f].labelAlignTo==="labelLine"){var g=r[f].label.x-u;r[f].linePoints[1][0]+=g,r[f].label.x=u}Wl(r,s,s+o)&&h(r)}function As(r,t,e,a,n,i,o,l){for(var s=[],u=[],v=Number.MAX_VALUE,h=-Number.MAX_VALUE,c=0;c<r.length;c++){var f=r[c].label;wa(r[c])||(f.x<t?(v=Math.min(v,f.x),s.push(r[c])):(h=Math.max(h,f.x),u.push(r[c])))}for(var c=0;c<r.length;c++){var g=r[c];if(!wa(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var f=g.label,p=g.linePoints,d=void 0;g.labelAlignTo==="edge"?f.x<t?d=p[2][0]-g.labelDistance-o-g.edgeDistance:d=o+n-g.edgeDistance-p[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?f.x<t?d=v-o-g.bleedMargin:d=o+n-h-g.bleedMargin:f.x<t?d=f.x-o-g.bleedMargin:d=o+n-f.x-g.bleedMargin,g.targetTextWidth=d,Yi(g,d)}}vn(u,t,e,a,1,n,i,o,l,h),vn(s,t,e,a,-1,n,i,o,l,v);for(var c=0;c<r.length;c++){var g=r[c];if(!wa(g)&&g.linePoints){var f=g.label,p=g.linePoints,S=g.labelAlignTo==="edge",y=f.style.padding,m=y?y[1]+y[3]:0,b=f.style.backgroundColor?0:m,w=g.rect.width+b,D=p[1][0]-p[2][0];S?f.x<t?p[2][0]=o+g.edgeDistance+w+g.labelDistance:p[2][0]=o+n-g.edgeDistance-w-g.labelDistance:(f.x<t?p[2][0]=f.x+g.labelDistance:p[2][0]=f.x-g.labelDistance,p[1][0]=p[2][0]+D),p[1][1]=p[2][1]=f.y}}}function Yi(r,t,e){if(e===void 0&&(e=!1),r.labelStyleWidth==null){var a=r.label,n=a.style,i=r.rect,o=n.backgroundColor,l=n.padding,s=l?l[1]+l[3]:0,u=n.overflow,v=i.width+(o?0:s);if(t<v||e){var h=i.height;if(u&&u.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",t-s);var c=a.getBoundingRect();a.setStyle("width",Math.ceil(c.width)),a.setStyle("backgroundColor",o)}else{var f=t-s,g=t<v?f:e?f>r.unconstrainedWidth?null:f:null;a.setStyle("width",g)}var p=a.getBoundingRect();i.width=p.width;var d=(a.style.margin||0)+2.1;i.height=p.height+d,i.y-=(i.height-h)/2}}}function wa(r){return r.position==="center"}function xs(r){var t=r.getData(),e=[],a,n,i=!1,o=(r.get("minShowLabelAngle")||0)*_s,l=t.getLayout("viewRect"),s=t.getLayout("r"),u=l.width,v=l.x,h=l.y,c=l.height;function f(D){D.ignore=!0}function g(D){if(!D.ignore)return!0;for(var _ in D.states)if(D.states[_].ignore===!1)return!0;return!1}t.each(function(D){var _=t.getItemGraphicEl(D),A=_.shape,C=_.getTextContent(),I=_.getTextGuideLine(),x=t.getItemModel(D),L=x.getModel("label"),N=L.get("position")||x.get(["emphasis","label","position"]),P=L.get("distanceToLabelLine"),T=L.get("alignTo"),E=O(L.get("edgeDistance"),u),M=L.get("bleedMargin"),R=x.getModel("labelLine"),V=R.get("length");V=O(V,u);var B=R.get("length2");if(B=O(B,u),Math.abs(A.endAngle-A.startAngle)<o){k(C.states,f),C.ignore=!0,I&&(k(I.states,f),I.ignore=!0);return}if(g(C)){var z=(A.startAngle+A.endAngle)/2,F=Math.cos(z),W=Math.sin(z),H,Z,ie,xe;a=A.cx,n=A.cy;var X=N==="inside"||N==="inner";if(N==="center")H=A.cx,Z=A.cy,xe="center";else{var U=(X?(A.r+A.r0)/2*F:A.r*F)+a,j=(X?(A.r+A.r0)/2*W:A.r*W)+n;if(H=U+F*3,Z=j+W*3,!X){var q=U+F*(V+s-A.r),te=j+W*(V+s-A.r),ve=q+(F<0?-1:1)*B,ge=te;T==="edge"?H=F<0?v+E:v+u-E:H=ve+(F<0?-P:P),Z=ge,ie=[[U,j],[q,te],[ve,ge]]}xe=X?"center":T==="edge"?F>0?"right":"left":F>0?"left":"right"}var Q=Math.PI,ue=0,ce=L.get("rotate");if(_e(ce))ue=ce*(Q/180);else if(N==="center")ue=0;else if(ce==="radial"||ce===!0){var Be=F<0?-z+Q:-z;ue=Be}else if(ce==="tangential"&&N!=="outside"&&N!=="outer"){var Ne=Math.atan2(F,W);Ne<0&&(Ne=Q*2+Ne);var Vt=W>0;Vt&&(Ne=Q+Ne),ue=Ne-Q}if(i=!!ue,C.x=H,C.y=Z,C.rotation=ue,C.setStyle({verticalAlign:"middle"}),X){C.setStyle({align:xe});var pa=C.states.select;pa&&(pa.x+=C.x,pa.y+=C.y)}else{var ct=C.getBoundingRect().clone();ct.applyTransform(C.getComputedTransform());var Pr=(C.style.margin||0)+2.1;ct.y-=Pr/2,ct.height+=Pr,e.push({label:C,labelLine:I,position:N,len:V,len2:B,minTurnAngle:R.get("minTurnAngle"),maxSurfaceAngle:R.get("maxSurfaceAngle"),surfaceNormal:new Xa(F,W),linePoints:ie,textAlign:xe,labelDistance:P,labelAlignTo:T,edgeDistance:E,bleedMargin:M,rect:ct,unconstrainedWidth:ct.width,labelStyleWidth:C.style.width})}_.setTextConfig({inside:X})}}),!i&&r.get("avoidLabelOverlap")&&As(e,a,n,s,u,c,v,h);for(var p=0;p<e.length;p++){var d=e[p],S=d.label,y=d.labelLine,m=isNaN(S.x)||isNaN(S.y);if(S){S.setStyle({align:d.textAlign}),m&&(k(S.states,f),S.ignore=!0);var b=S.states.select;b&&(b.x+=S.x,b.y+=S.y)}if(y){var w=d.linePoints;m||!w?(k(y.states,f),y.ignore=!0):(Fl(w,d.minTurnAngle),Hl(w,d.surfaceNormal,d.maxSurfaceAngle),y.setShape({points:w}),S.__hostTarget.textGuideLineConfig={anchor:new Xa(w[0][0],w[0][1])})}}}var Is=function(r){G(t,r);function t(e,a,n){var i=r.call(this)||this;i.z2=2;var o=new Le;return i.setTextContent(o),i.updateData(e,a,n,!0),i}return t.prototype.updateData=function(e,a,n,i){var o=this,l=e.hostModel,s=e.getItemModel(a),u=s.getModel("emphasis"),v=e.getItemLayout(a),h=$(je(s.getModel("itemStyle"),v,!0),v);if(isNaN(h.startAngle)){o.setShape(h);return}if(i){o.setShape(h);var c=l.getShallow("animationType");l.ecModel.ssr?(oe(o,{scaleX:0,scaleY:0},l,{dataIndex:a,isFrom:!0}),o.originX=h.cx,o.originY=h.cy):c==="scale"?(o.shape.r=v.r0,oe(o,{shape:{r:v.r}},l,a)):n!=null?(o.setShape({startAngle:n,endAngle:n}),oe(o,{shape:{startAngle:v.startAngle,endAngle:v.endAngle}},l,a)):(o.shape.endAngle=v.startAngle,K(o,{shape:{endAngle:v.endAngle}},l,a))}else Te(o),K(o,{shape:h},l,a);o.useStyle(e.getItemVisual(a,"style")),he(o,s);var f=(v.startAngle+v.endAngle)/2,g=l.get("selectedOffset"),p=Math.cos(f)*g,d=Math.sin(f)*g,S=s.getShallow("cursor");S&&o.attr("cursor",S),this._updateLabel(l,e,a),o.ensureState("emphasis").shape=$({r:v.r+(u.get("scale")&&u.get("scaleSize")||0)},je(u.getModel("itemStyle"),v)),$(o.ensureState("select"),{x:p,y:d,shape:je(s.getModel(["select","itemStyle"]),v)}),$(o.ensureState("blur"),{shape:je(s.getModel(["blur","itemStyle"]),v)});var y=o.getTextGuideLine(),m=o.getTextContent();y&&$(y.ensureState("select"),{x:p,y:d}),$(m.ensureState("select"),{x:p,y:d}),ne(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,a,n){var i=this,o=a.getItemModel(n),l=o.getModel("labelLine"),s=a.getItemVisual(n,"style"),u=s&&s.fill,v=s&&s.opacity;De(i,ye(o),{labelFetcher:a.hostModel,labelDataIndex:n,inheritColor:u,defaultOpacity:v,defaultText:e.getFormattedLabel(n,"normal")||a.getName(n)});var h=i.getTextContent();i.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var c=e.get(["label","position"]);if(c!=="outside"&&c!=="outer")i.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new Tt,this.setTextGuideLine(f)),Ri(this,Mi(o),{stroke:u,opacity:ut(l.get(["lineStyle","opacity"]),v,1)})}},t}(Ze),Ls=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,a,n,i){var o=e.getData(),l=this._data,s=this.group,u;if(!l&&o.count()>0){for(var v=o.getItemLayout(0),h=1;isNaN(v&&v.startAngle)&&h<o.count();++h)v=o.getItemLayout(h);v&&(u=v.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var c=Xi(e),f=new Ze({shape:$($i(e,n),c)});f.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,s.add(f)}o.diff(l).add(function(g){var p=new Is(o,g,u);o.setItemGraphicEl(g,p),s.add(p)}).update(function(g,p){var d=l.getItemGraphicEl(p);d.updateData(o,g,u),d.off("click"),s.add(d),o.setItemGraphicEl(g,d)}).remove(function(g){var p=l.getItemGraphicEl(g);$t(p,e,g)}).execute(),xs(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,a){var n=a.getData(),i=n.getItemLayout(0);if(i){var o=e[0]-i.cx,l=e[1]-i.cy,s=Math.sqrt(o*o+l*l);return s<=i.r&&s>=i.r0}},t.type="pie",t}(ee);function ht(r,t,e){t=Y(t)&&{coordDimensions:t}||$({encodeDefine:r.getEncode()},t);var a=r.getSource(),n=ia(a,t).dimensions,i=new tt(n,r);return i.initData(a,e),i}var Mt=function(){function r(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},r.prototype.getItemVisual=function(t,e){var a=this._getDataWithEncodedVisual();return a.getItemVisual(t,e)},r}(),Ts=lt(),Cs=function(r){G(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Mt(le(this.getData,this),le(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return ht(this,{coordDimensions:["value"],encodeDefaulter:fe(or,this)})},t.prototype.getDataParams=function(e){var a=this.getData(),n=Ts(a),i=n.seats;if(!i){var o=[];a.each(a.mapDimension("value"),function(s){o.push(s)}),i=n.seats=zo(o,a.hostModel.get("percentPrecision"))}var l=r.prototype.getDataParams.call(this,e);return l.percent=i[e]||0,l.$vars.push("percent"),l},t.prototype._defaultLabelLine=function(e){lr(e,"labelLine",["show"]);var a=e.labelLine,n=e.emphasis.labelLine;a.show=a.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(re);function Ps(r){return{seriesType:r,reset:function(t,e){var a=t.getData();a.filterSelf(function(n){var i=a.mapDimension("value"),o=a.get(i,n);return!(_e(o)&&!isNaN(o)&&o<0)})}}}function rf(r){r.registerChartView(Ls),r.registerSeriesModel(Cs),fi("pie",r.registerAction),r.registerLayout(fe(Ds,"pie")),r.registerProcessor(Rt("pie")),r.registerProcessor(Ps("pie"))}var Ns=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,a){return ze(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,a,n){return n.point(a.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(re),qi=4,Es=function(){function r(){}return r}(),Rs=function(r){G(t,r);function t(e){var a=r.call(this,e)||this;return a._off=0,a.hoverDataIdx=-1,a}return t.prototype.getDefaultShape=function(){return new Es},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,a){var n=a.points,i=a.size,o=this.symbolProxy,l=o.shape,s=e.getContext?e.getContext():e,u=s&&i[0]<qi,v=this.softClipShape,h;if(u){this._ctx=s;return}for(this._ctx=null,h=this._off;h<n.length;){var c=n[h++],f=n[h++];isNaN(c)||isNaN(f)||v&&!v.contain(c,f)||(l.x=c-i[0]/2,l.y=f-i[1]/2,l.width=i[0],l.height=i[1],o.buildPath(e,l,!0))}this.incremental&&(this._off=h,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,a=e.points,n=e.size,i=this._ctx,o=this.softClipShape,l;if(i){for(l=this._off;l<a.length;){var s=a[l++],u=a[l++];isNaN(s)||isNaN(u)||o&&!o.contain(s,u)||i.fillRect(s-n[0]/2,u-n[1]/2,n[0],n[1])}this.incremental&&(this._off=l,this.notClear=!0)}},t.prototype.findDataIndex=function(e,a){for(var n=this.shape,i=n.points,o=n.size,l=Math.max(o[0],4),s=Math.max(o[1],4),u=i.length/2-1;u>=0;u--){var v=u*2,h=i[v]-l/2,c=i[v+1]-s/2;if(e>=h&&a>=c&&e<=h+l&&a<=c+s)return u}return-1},t.prototype.contain=function(e,a){var n=this.transformCoordToLocal(e,a),i=this.getBoundingRect();if(e=n[0],a=n[1],i.contain(e,a)){var o=this.hoverDataIdx=this.findDataIndex(e,a);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var a=this.shape,n=a.points,i=a.size,o=i[0],l=i[1],s=1/0,u=1/0,v=-1/0,h=-1/0,c=0;c<n.length;){var f=n[c++],g=n[c++];s=Math.min(f,s),v=Math.max(f,v),u=Math.min(g,u),h=Math.max(g,h)}e=this._rect=new ot(s-o/2,u-l/2,v-s+o,h-u+l)}return e},t}(me),Ms=function(){function r(){this.group=new ae}return r.prototype.updateData=function(t,e){this._clear();var a=this._create();a.setShape({points:t.getLayout("points")}),this._setCommon(a,t,e)},r.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(a){if(a.startIndex!=null){var n=(a.endIndex-a.startIndex)*2,i=a.startIndex*4*2;e=new Float32Array(e.buffer,i,n)}a.setShape("points",e),a.reset()})},r.prototype.incrementalPrepareUpdate=function(t){this._clear()},r.prototype.incrementalUpdate=function(t,e,a){var n=this._newAdded[0],i=e.getLayout("points"),o=n&&n.shape.points;if(o&&o.length<2e4){var l=o.length,s=new Float32Array(l+i.length);s.set(o),s.set(i,l),n.endIndex=t.end,n.setShape({points:s})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:i}),this._setCommon(u,e,a)}},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new Rs({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},r.prototype._setCommon=function(t,e,a){var n=e.hostModel;a=a||{};var i=e.getVisual("symbolSize");t.setShape("size",i instanceof Array?i:[i,i]),t.softClipShape=a.clipShape||null,t.symbolProxy=Ce(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<qi;t.useStyle(n.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("style"),s=l&&l.fill;s&&t.setColor(s);var u=se(t);u.seriesIndex=n.seriesIndex,t.on("mousemove",function(v){u.dataIndex=null;var h=t.hoverDataIdx;h>=0&&(u.dataIndex=h+(t.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),Vs=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){var i=e.getData(),o=this._updateSymbolDraw(i,e);o.updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,a,n){var i=e.getData(),o=this._updateSymbolDraw(i,e);o.incrementalPrepareUpdate(i),this._finished=!1},t.prototype.incrementalRender=function(e,a,n){this._symbolDraw.incrementalUpdate(e,a.getData(),{clipShape:this._getClipShape(a)}),this._finished=e.end===a.getData().count()},t.prototype.updateTransform=function(e,a,n){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var o=Et("").reset(e,a,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var a=e.coordinateSystem;return a&&a.getArea&&a.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,a){var n=this._symbolDraw,i=a.pipelineContext,o=i.large;return(!n||o!==this._isLargeDraw)&&(n&&n.remove(),n=this._symbolDraw=o?new Ms:new sa,this._isLargeDraw=o,this.group.removeAll()),this.group.add(n.group),n},t.prototype.remove=function(e,a){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ee);function nf(r){ha(Cl),r.registerSeriesModel(Ns),r.registerChartView(Vs),r.registerLayout(Et("scatter"))}function ks(r){r.eachSeriesByType("radar",function(t){var e=t.getData(),a=[],n=t.coordinateSystem;if(n){var i=n.getIndicatorAxes();k(i,function(o,l){e.each(e.mapDimension(i[l].dim),function(s,u){a[u]=a[u]||[];var v=n.dataToPoint(s,l);a[u][l]=hn(v)?v:cn(n)})}),e.each(function(o){var l=sl(a[o],function(s){return hn(s)})||cn(n);a[o].push(l.slice()),e.setItemLayout(o,a[o])})}})}function hn(r){return!isNaN(r[0])&&!isNaN(r[1])}function cn(r){return[r.cx,r.cy]}function zs(r){var t=r.polar;if(t){Y(t)||(t=[t]);var e=[];k(t,function(a,n){a.indicator?(a.type&&!a.shape&&(a.shape=a.type),r.radar=r.radar||[],Y(r.radar)||(r.radar=[r.radar]),r.radar.push(a)):e.push(a)}),r.polar=e}k(r.series,function(a){a&&a.type==="radar"&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}var Bs=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){var i=e.coordinateSystem,o=this.group,l=e.getData(),s=this._data;function u(c,f){var g=c.getItemVisual(f,"symbol")||"circle";if(g!=="none"){var p=gi(c.getItemVisual(f,"symbolSize")),d=Ce(g,-1,-1,2,2),S=c.getItemVisual(f,"symbolRotate")||0;return d.attr({style:{strokeNoScale:!0},z2:100,scaleX:p[0]/2,scaleY:p[1]/2,rotation:S*Math.PI/180||0}),d}}function v(c,f,g,p,d,S){g.removeAll();for(var y=0;y<f.length-1;y++){var m=u(p,d);m&&(m.__dimIdx=y,c[y]?(m.setPosition(c[y]),ra[S?"initProps":"updateProps"](m,{x:f[y][0],y:f[y][1]},e,d)):m.setPosition(f[y]),g.add(m))}}function h(c){return J(c,function(f){return[i.cx,i.cy]})}l.diff(s).add(function(c){var f=l.getItemLayout(c);if(f){var g=new sr,p=new Tt,d={shape:{points:f}};g.shape.points=h(f),p.shape.points=h(f),oe(g,d,e,c),oe(p,d,e,c);var S=new ae,y=new ae;S.add(p),S.add(g),S.add(y),v(p.shape.points,f,y,l,c,!0),l.setItemGraphicEl(c,S)}}).update(function(c,f){var g=s.getItemGraphicEl(f),p=g.childAt(0),d=g.childAt(1),S=g.childAt(2),y={shape:{points:l.getItemLayout(c)}};y.shape.points&&(v(p.shape.points,y.shape.points,S,l,c,!1),Te(d),Te(p),K(p,y,e),K(d,y,e),l.setItemGraphicEl(c,g))}).remove(function(c){o.remove(s.getItemGraphicEl(c))}).execute(),l.eachItemGraphicEl(function(c,f){var g=l.getItemModel(f),p=c.childAt(0),d=c.childAt(1),S=c.childAt(2),y=l.getItemVisual(f,"style"),m=y.fill;o.add(c),p.useStyle(Re(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:m})),he(p,g,"lineStyle"),he(d,g,"areaStyle");var b=g.getModel("areaStyle"),w=b.isEmpty()&&b.parentModel.isEmpty();d.ignore=w,k(["emphasis","select","blur"],function(A){var C=g.getModel([A,"areaStyle"]),I=C.isEmpty()&&C.parentModel.isEmpty();d.ensureState(A).ignore=I&&w}),d.useStyle(Re(b.getAreaStyle(),{fill:m,opacity:.7,decal:y.decal}));var D=g.getModel("emphasis"),_=D.getModel("itemStyle").getItemStyle();S.eachChild(function(A){if(A instanceof Pt){var C=A.style;A.useStyle($({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},y))}else A.useStyle(y),A.setColor(m),A.style.strokeNoScale=!0;var I=A.ensureState("emphasis");I.style=ul(_);var x=l.getStore().get(l.getDimensionIndex(A.__dimIdx),f);(x==null||isNaN(x))&&(x=""),De(A,ye(g),{labelFetcher:l.hostModel,labelDataIndex:f,labelDimIndex:A.__dimIdx,defaultText:x,inheritColor:m,defaultOpacity:y.opacity})}),ne(c,D.get("focus"),D.get("blurScope"),D.get("disabled"))}),this._data=l},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(ee),Gs=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Mt(le(this.getData,this),le(this.getRawData,this))},t.prototype.getInitialData=function(e,a){return ht(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,a,n){var i=this.getData(),o=this.coordinateSystem,l=o.getIndicatorAxes(),s=this.getData().getName(e),u=s===""?this.name:s,v=Bo(this,e);return Ie("section",{header:u,sortBlocks:!0,blocks:J(l,function(h){var c=i.get(i.mapDimension(h.dim),e);return Ie("nameValue",{markerType:"subItem",markerColor:v,name:h.name,value:c,sortParam:c})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var a=this.getData(),n=this.coordinateSystem,i=a.getValues(J(n.dimensions,function(u){return a.mapDimension(u)}),e),o=0,l=i.length;o<l;o++)if(!isNaN(i[o])){var s=n.getIndicatorAxes();return n.coordToPoint(s[o].dataToCoord(i[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(re);function of(r){ha(Pl),r.registerChartView(Bs),r.registerSeriesModel(Gs),r.registerLayout(ks),r.registerProcessor(Rt("radar")),r.registerPreprocessor(zs)}var Os=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n,i){if(!(i&&i.type==="mapToggleSelect"&&i.from===this.uid)){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&i&&i.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===e.id){var l=this._mapDraw;l&&o.add(l.group)}else if(e.needsDrawMap){var l=this._mapDraw||new Nl(n);o.add(l.group),l.draw(e,a,n,this,i),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&a.getComponent("legend")&&this._renderSymbols(e,a,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,a,n){var i=e.originalData,o=this.group;i.each(i.mapDimension("value"),function(l,s){if(!isNaN(l)){var u=i.getItemLayout(s);if(!(!u||!u.point)){var v=u.point,h=u.offset,c=new si({style:{fill:e.getData().getVisual("style").fill},shape:{cx:v[0]+h*9,cy:v[1],r:3},silent:!0,z2:8+(h?0:Ct+1)});if(!h){var f=e.mainSeries.getData(),g=i.getName(s),p=f.indexOfName(g),d=i.getItemModel(s),S=d.getModel("label"),y=f.getItemGraphicEl(p);De(c,ye(d),{labelFetcher:{getFormattedLabel:function(m,b){return e.getFormattedLabel(p,b)}},defaultText:g}),c.disableLabelAnimation=!0,S.get("position")||c.setTextConfig({position:"bottom"}),y.onHoverStateChange=function(m){Zt(c,m)}}o.add(c)}}})},t.type="map",t}(ee),Fs=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(a){if(a!=null){var n=this.getData().getName(a),i=this.coordinateSystem,o=i.getRegion(n);return o&&i.dataToPoint(o.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var a=ht(this,{coordDimensions:["value"],encodeDefaulter:fe(or,this)}),n=et(),i=[],o=0,l=a.count();o<l;o++){var s=a.getName(o);n.set(s,o)}var u=El.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return k(u.regions,function(v){var h=v.name,c=n.get(h),f=v.properties&&v.properties.echartsStyle,g;c==null?(g={name:h},i.push(g)):g=a.getRawDataItem(c),f&&vl(g,f)}),a.appendData(i),a},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return e!=null?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var a=this.getData();return a.get(a.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var a=this.getData();return a.getItemModel(a.indexOfName(e))},t.prototype.formatTooltip=function(e,a,n){for(var i=this.getData(),o=this.getRawValue(e),l=i.getName(e),s=this.seriesGroup,u=[],v=0;v<s.length;v++){var h=s[v].originalData.indexOfName(l),c=i.mapDimension("value");isNaN(s[v].originalData.get(c,h))||u.push(s[v].name)}return Ie("section",{header:u.join(", "),noHeader:!u.length,blocks:[Ie("nameValue",{name:l,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var a=e.icon||"roundRect",n=Ce(a,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke="none",a.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(re);function Hs(r,t){var e={};return k(r,function(a){a.each(a.mapDimension("value"),function(n,i){var o="ec-"+a.getName(i);e[o]=e[o]||[],isNaN(n)||e[o].push(n)})}),r[0].map(r[0].mapDimension("value"),function(a,n){for(var i="ec-"+r[0].getName(n),o=0,l=1/0,s=-1/0,u=e[i].length,v=0;v<u;v++)l=Math.min(l,e[i][v]),s=Math.max(s,e[i][v]),o+=e[i][v];var h;return t==="min"?h=l:t==="max"?h=s:t==="average"?h=o/u:h=o,u===0?NaN:h})}function Ws(r){var t={};r.eachSeriesByType("map",function(e){var a=e.getHostGeoModel(),n=a?"o"+a.id:"i"+e.getMapType();(t[n]=t[n]||[]).push(e)}),k(t,function(e,a){for(var n=Hs(J(e,function(o){return o.getData()}),e[0].get("mapValueCalculation")),i=0;i<e.length;i++)e[i].originalData=e[i].getData();for(var i=0;i<e.length;i++)e[i].seriesGroup=e,e[i].needsDrawMap=i===0&&!e[i].getHostGeoModel(),e[i].setData(n.cloneShallow()),e[i].mainSeries=e[0]})}function Us(r){var t={};r.eachSeriesByType("map",function(e){var a=e.getMapType();if(!(e.getHostGeoModel()||t[a])){var n={};k(e.seriesGroup,function(o){var l=o.coordinateSystem,s=o.originalData;o.get("showLegendSymbol")&&r.getComponent("legend")&&s.each(s.mapDimension("value"),function(u,v){var h=s.getName(v),c=l.getRegion(h);if(!(!c||isNaN(u))){var f=n[h]||0,g=l.dataToPoint(c.getCenter());n[h]=f+1,s.setItemLayout(v,{point:g,offset:f})}})});var i=e.getData();i.each(function(o){var l=i.getName(o),s=i.getItemLayout(o)||{};s.showLabel=!n[l],i.setItemLayout(o,s)}),t[a]=!0}})}function lf(r){ha(Rl),r.registerChartView(Os),r.registerSeriesModel(Fs),r.registerLayout(Us),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Ws),fi("map",r.registerAction)}function Zs(r){var t=r;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[t],a,n;a=e.pop();)if(n=a.children,a.isExpand&&n.length)for(var i=n.length,o=i-1;o>=0;o--){var l=n[o];l.hierNode={defaultAncestor:null,ancestor:l,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},e.push(l)}}function $s(r,t){var e=r.isExpand?r.children:[],a=r.parentNode.children,n=r.hierNode.i?a[r.hierNode.i-1]:null;if(e.length){qs(r);var i=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;n?(r.hierNode.prelim=n.hierNode.prelim+t(r,n),r.hierNode.modifier=r.hierNode.prelim-i):r.hierNode.prelim=i}else n&&(r.hierNode.prelim=n.hierNode.prelim+t(r,n));r.parentNode.hierNode.defaultAncestor=Ks(r,n,r.parentNode.hierNode.defaultAncestor||a[0],t)}function Xs(r){var t=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:t},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function fn(r){return arguments.length?r:Qs}function mt(r,t){return r-=Math.PI/2,{x:t*Math.cos(r),y:t*Math.sin(r)}}function Ys(r,t){return st(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function qs(r){for(var t=r.children,e=t.length,a=0,n=0;--e>=0;){var i=t[e];i.hierNode.prelim+=a,i.hierNode.modifier+=a,n+=i.hierNode.change,a+=i.hierNode.shift+n}}function Ks(r,t,e,a){if(t){for(var n=r,i=r,o=i.parentNode.children[0],l=t,s=n.hierNode.modifier,u=i.hierNode.modifier,v=o.hierNode.modifier,h=l.hierNode.modifier;l=Da(l),i=_a(i),l&&i;){n=Da(n),o=_a(o),n.hierNode.ancestor=r;var c=l.hierNode.prelim+h-i.hierNode.prelim-u+a(l,i);c>0&&(Js(js(l,r,e),r,c),u+=c,s+=c),h+=l.hierNode.modifier,u+=i.hierNode.modifier,s+=n.hierNode.modifier,v+=o.hierNode.modifier}l&&!Da(n)&&(n.hierNode.thread=l,n.hierNode.modifier+=h-s),i&&!_a(o)&&(o.hierNode.thread=i,o.hierNode.modifier+=u-v,e=r)}return e}function Da(r){var t=r.children;return t.length&&r.isExpand?t[t.length-1]:r.hierNode.thread}function _a(r){var t=r.children;return t.length&&r.isExpand?t[0]:r.hierNode.thread}function js(r,t,e){return r.hierNode.ancestor.parentNode===t.parentNode?r.hierNode.ancestor:e}function Js(r,t,e){var a=e/(t.hierNode.i-r.hierNode.i);t.hierNode.change-=a,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,r.hierNode.change+=a}function Qs(r,t){return r.parentNode===t.parentNode?1:2}var eu=function(){function r(){this.parentPoint=[],this.childPoints=[]}return r}(),tu=function(r){G(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new eu},t.prototype.buildPath=function(e,a){var n=a.childPoints,i=n.length,o=a.parentPoint,l=n[0],s=n[i-1];if(i===1){e.moveTo(o[0],o[1]),e.lineTo(l[0],l[1]);return}var u=a.orient,v=u==="TB"||u==="BT"?0:1,h=1-v,c=O(a.forkPosition,1),f=[];f[v]=o[v],f[h]=o[h]+(s[h]-o[h])*c,e.moveTo(o[0],o[1]),e.lineTo(f[0],f[1]),e.moveTo(l[0],l[1]),f[v]=l[v],e.lineTo(f[0],f[1]),f[v]=s[v],e.lineTo(f[0],f[1]),e.lineTo(s[0],s[1]);for(var g=1;g<i-1;g++){var p=n[g];e.moveTo(p[0],p[1]),f[v]=p[v],e.lineTo(f[0],f[1])}},t}(me),au=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new ae,e}return t.prototype.init=function(e,a){this._controller=new hr(a.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,a,n){var i=e.getData(),o=e.layoutInfo,l=this._mainGroup,s=e.get("layout");s==="radial"?(l.x=o.x+o.width/2,l.y=o.y+o.height/2):(l.x=o.x,l.y=o.y),this._updateViewCoordSys(e,n),this._updateController(e,a,n);var u=this._data;i.diff(u).add(function(v){gn(i,v)&&pn(i,v,null,l,e)}).update(function(v,h){var c=u.getItemGraphicEl(h);if(!gn(i,v)){c&&yn(u,h,c,l,e);return}pn(i,v,c,l,e)}).remove(function(v){var h=u.getItemGraphicEl(v);h&&yn(u,v,h,l,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&i.eachItemGraphicEl(function(v,h){v.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=i},t.prototype._updateViewCoordSys=function(e,a){var n=e.getData(),i=[];n.each(function(h){var c=n.getItemLayout(h);c&&!isNaN(c.x)&&!isNaN(c.y)&&i.push([+c.x,+c.y])});var o=[],l=[];Si(i,o,l);var s=this._min,u=this._max;l[0]-o[0]===0&&(o[0]=s?s[0]:o[0]-1,l[0]=u?u[0]:l[0]+1),l[1]-o[1]===0&&(o[1]=s?s[1]:o[1]-1,l[1]=u?u[1]:l[1]+1);var v=e.coordinateSystem=new cr;v.zoomLimit=e.get("scaleLimit"),v.setBoundingRect(o[0],o[1],l[0]-o[0],l[1]-o[1]),v.setCenter(e.get("center"),a),v.setZoom(e.get("zoom")),this.group.attr({x:v.x,y:v.y,scaleX:v.scaleX,scaleY:v.scaleY}),this._min=o,this._max=l},t.prototype._updateController=function(e,a,n){var i=this,o=this._controller,l=this._controllerHost,s=this.group;o.setPointerChecker(function(u,v,h){var c=s.getBoundingRect();return c.applyTransform(s.transform),c.contain(v,h)&&!Ai(u,n,e)}),o.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){xi(l,u.dx,u.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Ii(l,u.scale,u.originX,u.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),i._updateNodeAndLinkScale(e),n.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var a=e.getData(),n=this._getNodeGlobalScale(e);a.eachItemGraphicEl(function(i,o){i.setSymbolScale(n)})},t.prototype._getNodeGlobalScale=function(e){var a=e.coordinateSystem;if(a.type!=="view")return 1;var n=this._nodeScaleRatio,i=a.scaleX||1,o=a.getZoom(),l=(o-1)*n+1;return l/i},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(ee);function gn(r,t){var e=r.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function pn(r,t,e,a,n){var i=!e,o=r.tree.getNodeByDataIndex(t),l=o.getModel(),s=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?s:"#fff",v=r.tree.root,h=o.parentNode===v?o:o.parentNode||o,c=r.getItemGraphicEl(h.dataIndex),f=h.getLayout(),g=c?{x:c.__oldX,y:c.__oldY,rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:f,p=o.getLayout();i?(e=new ua(r,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.x=g.x,e.y=g.y):e.updateData(r,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=p.rawX,e.__radialRawY=p.rawY,a.add(e),r.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,K(e,{x:p.x,y:p.y},n);var d=e.getSymbolPath();if(n.get("layout")==="radial"){var S=v.children[0],y=S.getLayout(),m=S.children.length,b=void 0,w=void 0;if(p.x===y.x&&o.isExpand===!0&&S.children.length){var D={x:(S.children[0].getLayout().x+S.children[m-1].getLayout().x)/2,y:(S.children[0].getLayout().y+S.children[m-1].getLayout().y)/2};b=Math.atan2(D.y-y.y,D.x-y.x),b<0&&(b=Math.PI*2+b),w=D.x<y.x,w&&(b=b-Math.PI)}else b=Math.atan2(p.y-y.y,p.x-y.x),b<0&&(b=Math.PI*2+b),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(w=p.x<y.x,w&&(b=b-Math.PI)):(w=p.x>y.x,w||(b=b-Math.PI));var _=w?"left":"right",A=l.getModel("label"),C=A.get("rotate"),I=C*(Math.PI/180),x=d.getTextContent();x&&(d.setTextConfig({position:A.get("position")||_,rotation:C==null?-b:I,origin:"center"}),x.setStyle("verticalAlign","middle"))}var L=l.get(["emphasis","focus"]),N=L==="relative"?qt(o.getAncestorsIndices(),o.getDescendantIndices()):L==="ancestor"?o.getAncestorsIndices():L==="descendant"?o.getDescendantIndices():null;N&&(se(e).focus=N),ru(n,o,v,e,g,f,p,a),e.__edge&&(e.onHoverStateChange=function(P){if(P!=="blur"){var T=o.parentNode&&r.getItemGraphicEl(o.parentNode.dataIndex);T&&T.hoverState===Go||Zt(e.__edge,P)}})}function ru(r,t,e,a,n,i,o,l){var s=t.getModel(),u=r.get("edgeShape"),v=r.get("layout"),h=r.getOrient(),c=r.get(["lineStyle","curveness"]),f=r.get("edgeForkPosition"),g=s.getModel("lineStyle").getLineStyle(),p=a.__edge;if(u==="curve")t.parentNode&&t.parentNode!==e&&(p||(p=a.__edge=new Oo({shape:Qa(v,h,c,n,n)})),K(p,{shape:Qa(v,h,c,i,o)},r));else if(u==="polyline"&&v==="orthogonal"&&t!==e&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var d=t.children,S=[],y=0;y<d.length;y++){var m=d[y].getLayout();S.push([m.x,m.y])}p||(p=a.__edge=new tu({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:h,forkPosition:f}})),K(p,{shape:{parentPoint:[o.x,o.y],childPoints:S}},r)}p&&!(u==="polyline"&&!t.isExpand)&&(p.useStyle(Re({strokeNoScale:!0,fill:null},g)),he(p,s,"lineStyle"),Yt(p),l.add(p))}function dn(r,t,e,a,n){var i=t.tree.root,o=Ki(i,r),l=o.source,s=o.sourceLayout,u=t.getItemGraphicEl(r.dataIndex);if(u){var v=t.getItemGraphicEl(l.dataIndex),h=v.__edge,c=u.__edge||(l.isExpand===!1||l.children.length===1?h:void 0),f=a.get("edgeShape"),g=a.get("layout"),p=a.get("orient"),d=a.get(["lineStyle","curveness"]);c&&(f==="curve"?Xt(c,{shape:Qa(g,p,d,s,s),style:{opacity:0}},a,{cb:function(){e.remove(c)},removeOpt:n}):f==="polyline"&&a.get("layout")==="orthogonal"&&Xt(c,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},a,{cb:function(){e.remove(c)},removeOpt:n}))}}function Ki(r,t){for(var e=t.parentNode===r?t:t.parentNode||t,a;a=e.getLayout(),a==null;)e=e.parentNode===r?e:e.parentNode||e;return{source:e,sourceLayout:a}}function yn(r,t,e,a,n){var i=r.tree.getNodeByDataIndex(t),o=r.tree.root,l=Ki(o,i).sourceLayout,s={duration:n.get("animationDurationUpdate"),easing:n.get("animationEasingUpdate")};Xt(e,{x:l.x+1,y:l.y+1},n,{cb:function(){a.remove(e),r.setItemGraphicEl(t,null)},removeOpt:s}),e.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:s}),i.children.forEach(function(u){dn(u,r,a,n,s)}),dn(i,r,a,n,s)}function Qa(r,t,e,a,n){var i,o,l,s,u,v,h,c;if(r==="radial"){u=a.rawX,h=a.rawY,v=n.rawX,c=n.rawY;var f=mt(u,h),g=mt(u,h+(c-h)*e),p=mt(v,c+(h-c)*e),d=mt(v,c);return{x1:f.x||0,y1:f.y||0,x2:d.x||0,y2:d.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:p.x||0,cpy2:p.y||0}}else u=a.x,h=a.y,v=n.x,c=n.y,(t==="LR"||t==="RL")&&(i=u+(v-u)*e,o=h,l=v+(u-v)*e,s=c),(t==="TB"||t==="BT")&&(i=u,o=h+(c-h)*e,l=v,s=c+(h-c)*e);return{x1:u,y1:h,x2:v,y2:c,cpx1:i,cpy1:o,cpx2:l,cpy2:s}}var we=lt();function ji(r){var t=r.mainData,e=r.datas;e||(e={main:t},r.datasAttr={main:"data"}),r.datas=r.mainData=null,Ji(t,e,r),k(e,function(a){k(t.TRANSFERABLE_METHODS,function(n){a.wrapMethod(n,fe(nu,r))})}),t.wrapMethod("cloneShallow",fe(ou,r)),k(t.CHANGABLE_METHODS,function(a){t.wrapMethod(a,fe(iu,r))}),hl(e[t.dataType]===t)}function nu(r,t){if(uu(this)){var e=$({},we(this).datas);e[this.dataType]=t,Ji(t,e,r)}else gr(t,this.dataType,we(this).mainData,r);return t}function iu(r,t){return r.struct&&r.struct.update(),t}function ou(r,t){return k(we(t).datas,function(e,a){e!==t&&gr(e.cloneShallow(),a,t,r)}),t}function lu(r){var t=we(this).mainData;return r==null||t==null?t:we(t).datas[r]}function su(){var r=we(this).mainData;return r==null?[{data:r}]:J(cl(we(r).datas),function(t){return{type:t,data:we(r).datas[t]}})}function uu(r){return we(r).mainData===r}function Ji(r,t,e){we(r).datas={},k(t,function(a,n){gr(a,n,r,e)})}function gr(r,t,e,a){we(e).datas[t]=r,we(r).mainData=e,r.dataType=t,a.struct&&(r[a.structAttr]=a.struct,a.struct[a.datasAttr[t]]=r),r.getLinkedData=lu,r.getLinkedDataAll=su}var vu=function(){function r(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(t,e,a){de(t)&&(a=e,e=t,t=null),t=t||{},Pe(t)&&(t={order:t});var n=t.order||"preorder",i=this[t.attr||"children"],o;n==="preorder"&&(o=e.call(a,this));for(var l=0;!o&&l<i.length;l++)i[l].eachNode(t,e,a);n==="postorder"&&e.call(a,this)},r.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var a=0;a<this.children.length;a++){var n=this.children[a];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},r.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,a=this.children,n=a.length;e<n;e++){var i=a[e].getNodeById(t);if(i)return i}},r.prototype.contains=function(t){if(t===this)return!0;for(var e=0,a=this.children,n=a.length;e<n;e++){var i=a[e].contains(t);if(i)return i}},r.prototype.getAncestors=function(t){for(var e=[],a=t?this:this.parentNode;a;)e.push(a),a=a.parentNode;return e.reverse(),e},r.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},r.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},r.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},r.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,a=e.data.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},r.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},r.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},r.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},r}(),pr=function(){function r(t){this.type="tree",this._nodes=[],this.hostModel=t}return r.prototype.eachNode=function(t,e,a){this.root.eachNode(t,e,a)},r.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},r.prototype.getNodeById=function(t){return this.root.getNodeById(t)},r.prototype.update=function(){for(var t=this.data,e=this._nodes,a=0,n=e.length;a<n;a++)e[a].dataIndex=-1;for(var a=0,n=t.count();a<n;a++)e[t.getRawIndex(a)].dataIndex=a},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(t,e,a){var n=new r(e),i=[],o=1;l(t);function l(v,h){var c=v.value;o=Math.max(o,Y(c)?c.length:1),i.push(v);var f=new vu(na(v.name,""),n);h?hu(f,h):n.root=f,n._nodes.push(f);var g=v.children;if(g)for(var p=0;p<g.length;p++)l(g[p],f)}n.root.updateDepthAndHeight(0);var s=ia(i,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new tt(s,e);return u.initData(i),a&&a(u),ji({mainData:u,struct:n,structAttr:"tree"}),n.update(),n},r}();function hu(r,t){var e=t.children;r.parentNode!==t&&(e.push(r),r.parentNode=t)}function xt(r,t,e){if(r&&vt(t,r.type)>=0){var a=e.getData().tree.root,n=r.targetNode;if(Pe(n)&&(n=a.getNodeById(n)),n&&a.contains(n))return{node:n};var i=r.targetNodeId;if(i!=null&&(n=a.getNodeById(i)))return{node:n}}}function Qi(r){for(var t=[];r;)r=r.parentNode,r&&t.push(r);return t.reverse()}function dr(r,t){var e=Qi(r);return vt(e,t)>=0}function fa(r,t){for(var e=[];r;){var a=r.dataIndex;e.push({name:r.name,dataIndex:a,value:t.getRawValue(a)}),r=r.parentNode}return e.reverse(),e}var cu=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e){var a={name:e.name,children:e.data},n=e.leaves||{},i=new Qe(n,this,this.ecModel),o=pr.createTree(a,this,l);function l(h){h.wrapMethod("getItemModel",function(c,f){var g=o.getNodeByDataIndex(f);return g&&g.children.length&&g.isExpand||(c.parentModel=i),c})}var s=0;o.eachNode("preorder",function(h){h.depth>s&&(s=h.depth)});var u=e.expandAndCollapse,v=u&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return o.root.eachNode("preorder",function(h){var c=h.hostTree.data.getRawDataItem(h.dataIndex);h.isExpand=c&&c.collapsed!=null?!c.collapsed:h.depth<=v}),o.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,a,n){for(var i=this.getData().tree,o=i.root.children[0],l=i.getNodeByDataIndex(e),s=l.getValue(),u=l.name;l&&l!==o;)u=l.parentNode.name+"."+u,l=l.parentNode;return Ie("nameValue",{name:u,value:s,noValue:isNaN(s)||s==null})},t.prototype.getDataParams=function(e){var a=r.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return a.treeAncestors=fa(n,this),a.collapsed=!n.isExpand,a},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(re);function fu(r,t,e){for(var a=[r],n=[],i;i=a.pop();)if(n.push(i),i.isExpand){var o=i.children;if(o.length)for(var l=0;l<o.length;l++)a.push(o[l])}for(;i=n.pop();)t(i,e)}function ft(r,t){for(var e=[r],a;a=e.pop();)if(t(a),a.isExpand){var n=a.children;if(n.length)for(var i=n.length-1;i>=0;i--)e.push(n[i])}}function gu(r,t){r.eachSeriesByType("tree",function(e){pu(e,t)})}function pu(r,t){var e=Ys(r,t);r.layoutInfo=e;var a=r.get("layout"),n=0,i=0,o=null;a==="radial"?(n=2*Math.PI,i=Math.min(e.height,e.width)/2,o=fn(function(m,b){return(m.parentNode===b.parentNode?1:2)/m.depth})):(n=e.width,i=e.height,o=fn());var l=r.getData().tree.root,s=l.children[0];if(s){Zs(l),fu(s,$s,o),l.hierNode.modifier=-s.hierNode.prelim,ft(s,Xs);var u=s,v=s,h=s;ft(s,function(m){var b=m.getLayout().x;b<u.getLayout().x&&(u=m),b>v.getLayout().x&&(v=m),m.depth>h.depth&&(h=m)});var c=u===v?1:o(u,v)/2,f=c-u.getLayout().x,g=0,p=0,d=0,S=0;if(a==="radial")g=n/(v.getLayout().x+c+f),p=i/(h.depth-1||1),ft(s,function(m){d=(m.getLayout().x+f)*g,S=(m.depth-1)*p;var b=mt(d,S);m.setLayout({x:b.x,y:b.y,rawX:d,rawY:S},!0)});else{var y=r.getOrient();y==="RL"||y==="LR"?(p=i/(v.getLayout().x+c+f),g=n/(h.depth-1||1),ft(s,function(m){S=(m.getLayout().x+f)*p,d=y==="LR"?(m.depth-1)*g:n-(m.depth-1)*g,m.setLayout({x:d,y:S},!0)})):(y==="TB"||y==="BT")&&(g=n/(v.getLayout().x+c+f),p=i/(h.depth-1||1),ft(s,function(m){d=(m.getLayout().x+f)*g,S=y==="TB"?(m.depth-1)*p:i-(m.depth-1)*p,m.setLayout({x:d,y:S},!0)}))}}}function du(r){r.eachSeriesByType("tree",function(t){var e=t.getData(),a=e.tree;a.eachNode(function(n){var i=n.getModel(),o=i.getModel("itemStyle").getItemStyle(),l=e.ensureUniqueItemVisual(n.dataIndex,"style");$(l,o)})})}function yu(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(a){var n=t.dataIndex,i=a.getData().tree,o=i.getNodeByDataIndex(n);o.isExpand=!o.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,a){e.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var i=n.coordinateSystem,o=Li(i,t,void 0,a);n.setCenter&&n.setCenter(o.center),n.setZoom&&n.setZoom(o.zoom)})})}function sf(r){r.registerChartView(au),r.registerSeriesModel(cu),r.registerLayout(gu),r.registerVisual(du),yu(r)}var mn=["treemapZoomToNode","treemapRender","treemapMove"];function mu(r){for(var t=0;t<mn.length;t++)r.registerAction({type:mn[t],update:"updateView"},Ya);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,a){a.eachComponent({mainType:"series",subType:"treemap",query:e},n);function n(i,o){var l=["treemapZoomToNode","treemapRootToNode"],s=xt(e,l,i);if(s){var u=i.getViewRoot();u&&(e.direction=dr(u,s.node)?"rollUp":"drillDown"),i.resetViewRoot(s.node)}}})}function eo(r){var t=r.getData(),e=t.tree,a={};e.eachNode(function(n){for(var i=n;i&&i.depth>1;)i=i.parentNode;var o=Fo(r.ecModel,i.name||i.dataIndex+"",a);n.setVisual("decal",o)})}var Su=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,a){var n={name:e.name,children:e.data};to(n);var i=e.levels||[],o=this.designatedVisualItemStyle={},l=new Qe({itemStyle:o},this,a);i=e.levels=bu(i,a);var s=J(i||[],function(h){return new Qe(h,l,a)},this),u=pr.createTree(n,this,v);function v(h){h.wrapMethod("getItemModel",function(c,f){var g=u.getNodeByDataIndex(f),p=g?s[g.depth]:null;return c.parentModel=p||l,c})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,a,n){var i=this.getData(),o=this.getRawValue(e),l=i.getName(e);return Ie("nameValue",{name:l,value:o})},t.prototype.getDataParams=function(e){var a=r.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return a.treeAncestors=fa(n,this),a.treePathInfo=a.treeAncestors,a},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},$(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var a=this._idIndexMap;a||(a=this._idIndexMap=et(),this._idIndexMapCount=0);var n=a.get(e);return n==null&&a.set(e,n=this._idIndexMapCount++),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var a=this.getRawData().tree.root;(!e||e!==a&&!a.contains(e))&&(this._viewRoot=a)},t.prototype.enableAriaDecal=function(){eo(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(re);function to(r){var t=0;k(r.children,function(a){to(a);var n=a.value;Y(n)&&(n=n[0]),t+=n});var e=r.value;Y(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Y(r.value)?r.value[0]=e:r.value=e}function bu(r,t){var e=Rr(t.get("color")),a=Rr(t.get(["aria","decal","decals"]));if(e){r=r||[];var n,i;k(r,function(l){var s=new Qe(l),u=s.get("color"),v=s.get("decal");(s.get(["itemStyle","color"])||u&&u!=="none")&&(n=!0),(s.get(["itemStyle","decal"])||v&&v!=="none")&&(i=!0)});var o=r[0]||(r[0]={});return n||(o.color=e.slice()),!i&&a&&(o.decal=a.slice()),r}}var wu=8,Sn=8,Aa=5,Du=function(){function r(t){this.group=new ae,t.add(this.group)}return r.prototype.render=function(t,e,a,n){var i=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!i.get("show")||!a)){var l=i.getModel("itemStyle"),s=i.getModel("emphasis"),u=l.getModel("textStyle"),v=s.getModel(["itemStyle","textStyle"]),h={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(a,h,u),this._renderContent(t,h,l,s,u,v,n),Ho(o,h.pos,h.box)}},r.prototype._prepare=function(t,e,a){for(var n=t;n;n=n.parentNode){var i=na(n.getModel().get("name"),""),o=a.getTextRect(i),l=Math.max(o.width+wu*2,e.emptyItemWidth);e.totalWidth+=l+Sn,e.renderList.push({node:n,text:i,width:l})}},r.prototype._renderContent=function(t,e,a,n,i,o,l){for(var s=0,u=e.emptyItemWidth,v=t.get(["breadcrumb","height"]),h=Wo(e.pos,e.box),c=e.totalWidth,f=e.renderList,g=n.getModel("itemStyle").getItemStyle(),p=f.length-1;p>=0;p--){var d=f[p],S=d.node,y=d.width,m=d.text;c>h.width&&(c-=y-u,y=u,m=null);var b=new sr({shape:{points:_u(s,0,y,v,p===f.length-1,p===0)},style:Re(a.getItemStyle(),{lineJoin:"bevel"}),textContent:new Le({style:Ee(i,{text:m})}),textConfig:{position:"inside"},z2:Ct*1e4,onclick:fe(l,S)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=Ee(o,{text:m}),b.ensureState("emphasis").style=g,ne(b,n.get("focus"),n.get("blurScope"),n.get("disabled")),this.group.add(b),Au(b,t,S),s+=y+Sn}},r.prototype.remove=function(){this.group.removeAll()},r}();function _u(r,t,e,a,n,i){var o=[[n?r:r-Aa,t],[r+e,t],[r+e,t+a],[n?r:r-Aa,t+a]];return!i&&o.splice(2,0,[r+e+Aa,t+a/2]),!n&&o.push([r,t+a/2]),o}function Au(r,t,e){se(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&fa(e,t)}}var xu=function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(t,e,a,n,i){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:a,delay:n,easing:i}),!0)},r.prototype.finished=function(t){return this._finishedCallback=t,this},r.prototype.start=function(){for(var t=this,e=this._storage.length,a=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},n=0,i=this._storage.length;n<i;n++){var o=this._storage[n];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:a,aborted:a})}return this},r}();function Iu(){return new xu}var er=ae,bn=Ae,wn=3,Dn="label",_n="upperLabel",Lu=Ct*10,Tu=Ct*2,Cu=Ct*3,Ye=Uo([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),An=function(r){var t=Ye(r);return t.stroke=t.fill=t.lineWidth=null,t},Jt=lt(),Pu=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=gt(),e}return t.prototype.render=function(e,a,n,i){var o=a.findComponents({mainType:"series",subType:"treemap",query:i});if(!(vt(o,e)<0)){this.seriesModel=e,this.api=n,this.ecModel=a;var l=["treemapZoomToNode","treemapRootToNode"],s=xt(i,l,e),u=i&&i.type,v=e.layoutInfo,h=!this._oldTree,c=this._storage,f=u==="treemapRootToNode"&&s&&c?{rootNodeGroup:c.nodeGroup[s.node.getRawIndex()],direction:i.direction}:null,g=this._giveContainerGroup(v),p=e.get("animation"),d=this._doRender(g,e,f);p&&!h&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(g,d,e,f):d.renderFinally(),this._resetController(n),this._renderBreadcrumb(e,n,s)}},t.prototype._giveContainerGroup=function(e){var a=this._containerGroup;return a||(a=this._containerGroup=new er,this._initEvents(a),this.group.add(a)),a.x=e.x,a.y=e.y,a},t.prototype._doRender=function(e,a,n){var i=a.getData().tree,o=this._oldTree,l=gt(),s=gt(),u=this._storage,v=[];function h(y,m,b,w){return Nu(a,s,u,n,l,v,y,m,b,w)}p(i.root?[i.root]:[],o&&o.root?[o.root]:[],e,i===o||!o,0);var c=d(u);if(this._oldTree=i,this._storage=s,this._controllerHost){var f=this.seriesModel.layoutInfo,g=i.root.getLayout();g.width===f.width&&g.height===f.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:l,willDeleteEls:c,renderFinally:S};function p(y,m,b,w,D){w?(m=y,k(y,function(C,I){!C.isRemoved()&&A(I,I)})):new ca(m,y,_,_).add(A).update(A).remove(fe(A,null)).execute();function _(C){return C.getId()}function A(C,I){var x=C!=null?y[C]:null,L=I!=null?m[I]:null,N=h(x,L,b,D);N&&p(x&&x.viewChildren||[],L&&L.viewChildren||[],N,w,D+1)}}function d(y){var m=gt();return y&&k(y,function(b,w){var D=m[w];k(b,function(_){_&&(D.push(_),Jt(_).willDelete=!0)})}),m}function S(){k(c,function(y){k(y,function(m){m.parent&&m.parent.remove(m)})}),k(v,function(y){y.invisible=!0,y.dirty()})}},t.prototype._doAnimation=function(e,a,n,i){var o=n.get("animationDurationUpdate"),l=n.get("animationEasing"),s=(de(o)?0:o)||0,u=(de(l)?null:l)||"cubicOut",v=Iu();k(a.willDeleteEls,function(h,c){k(h,function(f,g){if(!f.invisible){var p=f.parent,d,S=Jt(p);if(i&&i.direction==="drillDown")d=p===i.rootNodeGroup?{shape:{x:0,y:0,width:S.nodeWidth,height:S.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,m=0;S.willDelete||(y=S.nodeWidth/2,m=S.nodeHeight/2),d=c==="nodeGroup"?{x:y,y:m,style:{opacity:0}}:{shape:{x:y,y:m,width:0,height:0},style:{opacity:0}}}d&&v.add(f,d,s,0,u)}})}),k(this._storage,function(h,c){k(h,function(f,g){var p=a.lastsForAnimation[c][g],d={};p&&(f instanceof ae?p.oldX!=null&&(d.x=f.x,d.y=f.y,f.x=p.oldX,f.y=p.oldY):(p.oldShape&&(d.shape=$({},f.shape),f.setShape(p.oldShape)),p.fadein?(f.setStyle("opacity",0),d.style={opacity:1}):f.style.opacity!==1&&(d.style={opacity:1})),v.add(f,d,s,0,u))})},this),this._state="animating",v.finished(le(function(){this._state="ready",a.renderFinally()},this)).start()},t.prototype._resetController=function(e){var a=this._controller,n=this._controllerHost;n||(this._controllerHost={target:this.group},n=this._controllerHost),a||(a=this._controller=new hr(e.getZr()),a.enable(this.seriesModel.get("roam")),n.zoomLimit=this.seriesModel.get("scaleLimit"),n.zoom=this.seriesModel.get("zoom"),a.on("pan",le(this._onPan,this)),a.on("zoom",le(this._onZoom,this)));var i=new ot(0,0,e.getWidth(),e.getHeight());a.setPointerChecker(function(o,l,s){return i.contain(l,s)})},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>wn||Math.abs(e.dy)>wn)){var a=this.seriesModel.getData().tree.root;if(!a)return;var n=a.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},t.prototype._onZoom=function(e){var a=e.originX,n=e.originY,i=e.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var l=o.getLayout();if(!l)return;var s=new ot(l.x,l.y,l.width,l.height),u=null,v=this._controllerHost;u=v.zoomLimit;var h=v.zoom=v.zoom||1;if(h*=i,u){var c=u.min||0,f=u.max||1/0;h=Math.max(Math.min(f,h),c)}var g=h/v.zoom;v.zoom=h;var p=this.seriesModel.layoutInfo;a-=p.x,n-=p.y;var d=fl();Wr(d,d,[-a,-n]),gl(d,d,[g,g]),Wr(d,d,[a,n]),s.applyTransform(d),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},t.prototype._initEvents=function(e){var a=this;e.on("click",function(n){if(a._state==="ready"){var i=a.seriesModel.get("nodeClick",!0);if(i){var o=a.findTarget(n.offsetX,n.offsetY);if(o){var l=o.node;if(l.getLayout().isLeafRoot)a._rootToNode(o);else if(i==="zoomToNode")a._zoomToNode(o);else if(i==="link"){var s=l.hostTree.data.getItemModel(l.dataIndex),u=s.get("link",!0),v=s.get("target",!0)||"blank";u&&ui(u,v)}}}}},this)},t.prototype._renderBreadcrumb=function(e,a,n){var i=this;n||(n=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(a.getWidth()/2,a.getHeight()/2),n||(n={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Du(this.group))).render(e,a,n.node,function(o){i._state!=="animating"&&(dr(e.getViewRoot(),o)?i._rootToNode({node:o}):i._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=gt(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,a){var n,i=this.seriesModel.getViewRoot();return i.eachNode({attr:"viewChildren",order:"preorder"},function(o){var l=this._storage.background[o.getRawIndex()];if(l){var s=l.transformCoordToLocal(e,a),u=l.shape;if(u.x<=s[0]&&s[0]<=u.x+u.width&&u.y<=s[1]&&s[1]<=u.y+u.height)n={node:o,offsetX:s[0],offsetY:s[1]};else return!1}},this),n},t.type="treemap",t}(ee);function gt(){return{nodeGroup:[],background:[],content:[]}}function Nu(r,t,e,a,n,i,o,l,s,u){if(!o)return;var v=o.getLayout(),h=r.getData(),c=o.getModel();if(h.setItemGraphicEl(o.dataIndex,null),!v||!v.isInView)return;var f=v.width,g=v.height,p=v.borderWidth,d=v.invisible,S=o.getRawIndex(),y=l&&l.getRawIndex(),m=o.viewChildren,b=v.upperHeight,w=m&&m.length,D=c.getModel("itemStyle"),_=c.getModel(["emphasis","itemStyle"]),A=c.getModel(["blur","itemStyle"]),C=c.getModel(["select","itemStyle"]),I=D.get("borderRadius")||0,x=Z("nodeGroup",er);if(!x)return;if(s.add(x),x.x=v.x||0,x.y=v.y||0,x.markRedraw(),Jt(x).nodeWidth=f,Jt(x).nodeHeight=g,v.isAboveViewRoot)return x;var L=Z("background",bn,u,Tu);L&&B(x,L,w&&v.upperLabelHeight);var N=c.getModel("emphasis"),P=N.get("focus"),T=N.get("blurScope"),E=N.get("disabled"),M=P==="ancestor"?o.getAncestorsIndices():P==="descendant"?o.getDescendantIndices():P;if(w)Mr(x)&&kt(x,!1),L&&(kt(L,!E),h.setItemGraphicEl(o.dataIndex,L),Vr(L,M,T));else{var R=Z("content",bn,u,Cu);R&&z(x,R),L.disableMorphing=!0,L&&Mr(L)&&kt(L,!1),kt(x,!E),h.setItemGraphicEl(o.dataIndex,x);var V=c.getShallow("cursor");V&&R.attr("cursor",V),Vr(x,M,T)}return x;function B(X,U,j){var q=se(U);if(q.dataIndex=o.dataIndex,q.seriesIndex=r.seriesIndex,U.setShape({x:0,y:0,width:f,height:g,r:I}),d)F(U);else{U.invisible=!1;var te=o.getVisual("style"),ve=te.stroke,ge=An(D);ge.fill=ve;var Q=Ye(_);Q.fill=_.get("borderColor");var ue=Ye(A);ue.fill=A.get("borderColor");var ce=Ye(C);if(ce.fill=C.get("borderColor"),j){var Be=f-2*p;W(U,ve,te.opacity,{x:p,y:0,width:Be,height:b})}else U.removeTextContent();U.setStyle(ge),U.ensureState("emphasis").style=Q,U.ensureState("blur").style=ue,U.ensureState("select").style=ce,Yt(U)}X.add(U)}function z(X,U){var j=se(U);j.dataIndex=o.dataIndex,j.seriesIndex=r.seriesIndex;var q=Math.max(f-2*p,0),te=Math.max(g-2*p,0);if(U.culling=!0,U.setShape({x:p,y:p,width:q,height:te,r:I}),d)F(U);else{U.invisible=!1;var ve=o.getVisual("style"),ge=ve.fill,Q=An(D);Q.fill=ge,Q.decal=ve.decal;var ue=Ye(_),ce=Ye(A),Be=Ye(C);W(U,ge,ve.opacity,null),U.setStyle(Q),U.ensureState("emphasis").style=ue,U.ensureState("blur").style=ce,U.ensureState("select").style=Be,Yt(U)}X.add(U)}function F(X){!X.invisible&&i.push(X)}function W(X,U,j,q){var te=c.getModel(q?_n:Dn),ve=na(c.get("name"),null),ge=te.getShallow("show");De(X,ye(c,q?_n:Dn),{defaultText:ge?ve:null,inheritColor:U,defaultOpacity:j,labelFetcher:r,labelDataIndex:o.dataIndex});var Q=X.getTextContent();if(Q){var ue=Q.style,ce=pl(ue.padding||0);q&&(X.setTextConfig({layoutRect:q}),Q.disableLabelLayout=!0),Q.beforeUpdate=function(){var Ne=Math.max((q?q.width:X.shape.width)-ce[1]-ce[3],0),Vt=Math.max((q?q.height:X.shape.height)-ce[0]-ce[2],0);(ue.width!==Ne||ue.height!==Vt)&&Q.setStyle({width:Ne,height:Vt})},ue.truncateMinChar=2,ue.lineOverflow="truncate",H(ue,q,v);var Be=Q.getState("emphasis");H(Be?Be.style:null,q,v)}}function H(X,U,j){var q=X?X.text:null;if(!U&&j.isLeafRoot&&q!=null){var te=r.get("drillDownIcon",!0);X.text=te?te+" "+q:q}}function Z(X,U,j,q){var te=y!=null&&e[X][y],ve=n[X];return te?(e[X][y]=null,ie(ve,te)):d||(te=new U,te instanceof bi&&(te.z2=Eu(j,q)),xe(ve,te)),t[X][S]=te}function ie(X,U){var j=X[S]={};U instanceof er?(j.oldX=U.x,j.oldY=U.y):j.oldShape=$({},U.shape)}function xe(X,U){var j=X[S]={},q=o.parentNode,te=U instanceof ae;if(q&&(!a||a.direction==="drillDown")){var ve=0,ge=0,Q=n.background[q.getRawIndex()];!a&&Q&&Q.oldShape&&(ve=Q.oldShape.width,ge=Q.oldShape.height),te?(j.oldX=0,j.oldY=ge):j.oldShape={x:ve,y:ge,width:0,height:0}}j.fadein=!te}}function Eu(r,t){return r*Lu+t}var Ru="itemStyle",ao=lt();const Mu={seriesType:"treemap",reset:function(r){var t=r.getData().tree,e=t.root;e.isRemoved()||ro(e,{},r.getViewRoot().getAncestors(),r)}};function ro(r,t,e,a){var n=r.getModel(),i=r.getLayout(),o=r.hostTree.data;if(!(!i||i.invisible||!i.isInView)){var l=n.getModel(Ru),s=Vu(l,t,a),u=o.ensureUniqueItemVisual(r.dataIndex,"style"),v=l.get("borderColor"),h=l.get("borderColorSaturation"),c;h!=null&&(c=xn(s),v=ku(h,c)),u.stroke=v;var f=r.viewChildren;if(!f||!f.length)c=xn(s),u.fill=c;else{var g=zu(r,n,i,l,s,f);k(f,function(p,d){if(p.depth>=e.length||p===e[p.depth]){var S=Bu(n,s,p,d,g,a);ro(p,S,e,a)}})}}}function Vu(r,t,e){var a=$({},t),n=e.designatedVisualItemStyle;return k(["color","colorAlpha","colorSaturation"],function(i){n[i]=t[i];var o=r.get(i);n[i]=null,o!=null&&(a[i]=o)}),a}function xn(r){var t=xa(r,"color");if(t){var e=xa(r,"colorAlpha"),a=xa(r,"colorSaturation");return a&&(t=wi(t,null,null,a)),e&&(t=dl(t,e)),t}}function ku(r,t){return t!=null?wi(t,null,null,r):null}function xa(r,t){var e=r[t];if(e!=null&&e!=="none")return e}function zu(r,t,e,a,n,i){if(!(!i||!i.length)){var o=Ia(t,"color")||n.color!=null&&n.color!=="none"&&(Ia(t,"colorAlpha")||Ia(t,"colorSaturation"));if(o){var l=t.get("visualMin"),s=t.get("visualMax"),u=e.dataExtent.slice();l!=null&&l<u[0]&&(u[0]=l),s!=null&&s>u[1]&&(u[1]=s);var v=t.get("colorMappingBy"),h={type:o.name,dataExtent:u,visual:o.range};h.type==="color"&&(v==="index"||v==="id")?(h.mappingMethod="category",h.loop=!0):h.mappingMethod="linear";var c=new Ti(h);return ao(c).drColorMappingBy=v,c}}}function Ia(r,t){var e=r.get(t);return Y(e)&&e.length?{name:t,range:e}:null}function Bu(r,t,e,a,n,i){var o=$({},t);if(n){var l=n.type,s=l==="color"&&ao(n).drColorMappingBy,u=s==="index"?a:s==="id"?i.mapIdToIndex(e.getId()):e.getValue(r.get("visualDimension"));o[l]=n.mapValueToVisual(u)}return o}var It=Math.max,Qt=Math.min,In=Dt,yr=k,no=["itemStyle","borderWidth"],Gu=["itemStyle","gapWidth"],Ou=["upperLabel","show"],Fu=["upperLabel","height"];const Hu={seriesType:"treemap",reset:function(r,t,e,a){var n=e.getWidth(),i=e.getHeight(),o=r.option,l=st(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),s=o.size||[],u=O(In(l.width,s[0]),n),v=O(In(l.height,s[1]),i),h=a&&a.type,c=["treemapZoomToNode","treemapRootToNode"],f=xt(a,c,r),g=h==="treemapRender"||h==="treemapMove"?a.rootRect:null,p=r.getViewRoot(),d=Qi(p);if(h!=="treemapMove"){var S=h==="treemapZoomToNode"?Yu(r,f,p,u,v):g?[g.width,g.height]:[u,v],y=o.sort;y&&y!=="asc"&&y!=="desc"&&(y="desc");var m={squareRatio:o.squareRatio,sort:y,leafDepth:o.leafDepth};p.hostTree.clearLayouts();var b={x:0,y:0,width:S[0],height:S[1],area:S[0]*S[1]};p.setLayout(b),io(p,m,!1,0),b=p.getLayout(),yr(d,function(D,_){var A=(d[_+1]||p).getValue();D.setLayout($({dataExtent:[A,A],borderWidth:0,upperHeight:0},b))})}var w=r.getData().tree.root;w.setLayout(qu(l,g,f),!0),r.setLayoutInfo(l),oo(w,new ot(-l.x,-l.y,n,i),d,p,0)}};function io(r,t,e,a){var n,i;if(!r.isRemoved()){var o=r.getLayout();n=o.width,i=o.height;var l=r.getModel(),s=l.get(no),u=l.get(Gu)/2,v=lo(l),h=Math.max(s,v),c=s-u,f=h-u;r.setLayout({borderWidth:s,upperHeight:h,upperLabelHeight:v},!0),n=It(n-2*c,0),i=It(i-c-f,0);var g=n*i,p=Wu(r,l,g,t,e,a);if(p.length){var d={x:c,y:f,width:n,height:i},S=Qt(n,i),y=1/0,m=[];m.area=0;for(var b=0,w=p.length;b<w;){var D=p[b];m.push(D),m.area+=D.getLayout().area;var _=Xu(m,S,t.squareRatio);_<=y?(b++,y=_):(m.area-=m.pop().getLayout().area,Ln(m,S,d,u,!1),S=Qt(d.width,d.height),m.length=m.area=0,y=1/0)}if(m.length&&Ln(m,S,d,u,!0),!e){var A=l.get("childrenVisibleMin");A!=null&&g<A&&(e=!0)}for(var b=0,w=p.length;b<w;b++)io(p[b],t,e,a+1)}}}function Wu(r,t,e,a,n,i){var o=r.children||[],l=a.sort;l!=="asc"&&l!=="desc"&&(l=null);var s=a.leafDepth!=null&&a.leafDepth<=i;if(n&&!s)return r.viewChildren=[];o=ur(o,function(f){return!f.isRemoved()}),Zu(o,l);var u=$u(t,o,l);if(u.sum===0)return r.viewChildren=[];if(u.sum=Uu(t,e,u.sum,l,o),u.sum===0)return r.viewChildren=[];for(var v=0,h=o.length;v<h;v++){var c=o[v].getValue()/u.sum*e;o[v].setLayout({area:c})}return s&&(o.length&&r.setLayout({isLeafRoot:!0},!0),o.length=0),r.viewChildren=o,r.setLayout({dataExtent:u.dataExtent},!0),o}function Uu(r,t,e,a,n){if(!a)return e;for(var i=r.get("visibleMin"),o=n.length,l=o,s=o-1;s>=0;s--){var u=n[a==="asc"?o-s-1:s].getValue();u/e*t<i&&(l=s,e-=u)}return a==="asc"?n.splice(0,o-l):n.splice(l,o-l),e}function Zu(r,t){return t&&r.sort(function(e,a){var n=t==="asc"?e.getValue()-a.getValue():a.getValue()-e.getValue();return n===0?t==="asc"?e.dataIndex-a.dataIndex:a.dataIndex-e.dataIndex:n}),r}function $u(r,t,e){for(var a=0,n=0,i=t.length;n<i;n++)a+=t[n].getValue();var o=r.get("visualDimension"),l;return!t||!t.length?l=[NaN,NaN]:o==="value"&&e?(l=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&l.reverse()):(l=[1/0,-1/0],yr(t,function(s){var u=s.getValue(o);u<l[0]&&(l[0]=u),u>l[1]&&(l[1]=u)})),{sum:a,dataExtent:l}}function Xu(r,t,e){for(var a=0,n=1/0,i=0,o=void 0,l=r.length;i<l;i++)o=r[i].getLayout().area,o&&(o<n&&(n=o),o>a&&(a=o));var s=r.area*r.area,u=t*t*e;return s?It(u*a/s,s/(u*n)):1/0}function Ln(r,t,e,a,n){var i=t===e.width?0:1,o=1-i,l=["x","y"],s=["width","height"],u=e[l[i]],v=t?r.area/t:0;(n||v>e[s[o]])&&(v=e[s[o]]);for(var h=0,c=r.length;h<c;h++){var f=r[h],g={},p=v?f.getLayout().area/v:0,d=g[s[o]]=It(v-2*a,0),S=e[l[i]]+e[s[i]]-u,y=h===c-1||S<p?S:p,m=g[s[i]]=It(y-2*a,0);g[l[o]]=e[l[o]]+Qt(a,d/2),g[l[i]]=u+Qt(a,m/2),u+=y,f.setLayout(g,!0)}e[l[o]]+=v,e[s[o]]-=v}function Yu(r,t,e,a,n){var i=(t||{}).node,o=[a,n];if(!i||i===e)return o;for(var l,s=a*n,u=s*r.option.zoomToNodeRatio;l=i.parentNode;){for(var v=0,h=l.children,c=0,f=h.length;c<f;c++)v+=h[c].getValue();var g=i.getValue();if(g===0)return o;u*=v/g;var p=l.getModel(),d=p.get(no),S=Math.max(d,lo(p));u+=4*d*d+(3*d+S)*Math.pow(u,.5),u>kr&&(u=kr),i=l}u<s&&(u=s);var y=Math.pow(u/s,.5);return[a*y,n*y]}function qu(r,t,e){if(t)return{x:t.x,y:t.y};var a={x:0,y:0};if(!e)return a;var n=e.node,i=n.getLayout();if(!i)return a;for(var o=[i.width/2,i.height/2],l=n;l;){var s=l.getLayout();o[0]+=s.x,o[1]+=s.y,l=l.parentNode}return{x:r.width/2-o[0],y:r.height/2-o[1]}}function oo(r,t,e,a,n){var i=r.getLayout(),o=e[n],l=o&&o===r;if(!(o&&!l||n===e.length&&r!==a)){r.setLayout({isInView:!0,invisible:!l&&!t.intersect(i),isAboveViewRoot:l},!0);var s=new ot(t.x-i.x,t.y-i.y,t.width,t.height);yr(r.viewChildren||[],function(u){oo(u,s,e,a,n+1)})}}function lo(r){return r.get(Ou)?r.get(Fu):0}function uf(r){r.registerSeriesModel(Su),r.registerChartView(Pu),r.registerVisual(Mu),r.registerLayout(Hu),mu(r)}function Ku(r){var t=r.findComponents({mainType:"legend"});!t||!t.length||r.eachSeriesByType("graph",function(e){var a=e.getCategoriesData(),n=e.getGraph(),i=n.data,o=a.mapArray(a.getName);i.filterSelf(function(l){var s=i.getItemModel(l),u=s.getShallow("category");if(u!=null){_e(u)&&(u=o[u]);for(var v=0;v<t.length;v++)if(!t[v].isSelected(u))return!1}return!0})})}function ju(r){var t={};r.eachSeriesByType("graph",function(e){var a=e.getCategoriesData(),n=e.getData(),i={};a.each(function(o){var l=a.getName(o);i["ec-"+l]=o;var s=a.getItemModel(o),u=s.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(l,t)),a.setItemVisual(o,"style",u);for(var v=["symbol","symbolSize","symbolKeepAspect"],h=0;h<v.length;h++){var c=s.getShallow(v[h],!0);c!=null&&a.setItemVisual(o,v[h],c)}}),a.count()&&n.each(function(o){var l=n.getItemModel(o),s=l.getShallow("category");if(s!=null){Pe(s)&&(s=i["ec-"+s]);var u=a.getItemVisual(s,"style"),v=n.ensureUniqueItemVisual(o,"style");$(v,u);for(var h=["symbol","symbolSize","symbolKeepAspect"],c=0;c<h.length;c++)n.setItemVisual(o,h[c],a.getItemVisual(s,h[c]))}})})}function Ht(r){return r instanceof Array||(r=[r,r]),r}function Ju(r){r.eachSeriesByType("graph",function(t){var e=t.getGraph(),a=t.getEdgeData(),n=Ht(t.get("edgeSymbol")),i=Ht(t.get("edgeSymbolSize"));a.setVisual("fromSymbol",n&&n[0]),a.setVisual("toSymbol",n&&n[1]),a.setVisual("fromSymbolSize",i&&i[0]),a.setVisual("toSymbolSize",i&&i[1]),a.setVisual("style",t.getModel("lineStyle").getLineStyle()),a.each(function(o){var l=a.getItemModel(o),s=e.getEdgeByIndex(o),u=Ht(l.getShallow("symbol",!0)),v=Ht(l.getShallow("symbolSize",!0)),h=l.getModel("lineStyle").getLineStyle(),c=a.ensureUniqueItemVisual(o,"style");switch($(c,h),c.stroke){case"source":{var f=s.node1.getVisual("style");c.stroke=f&&f.fill;break}case"target":{var f=s.node2.getVisual("style");c.stroke=f&&f.fill;break}}u[0]&&s.setVisual("fromSymbol",u[0]),u[1]&&s.setVisual("toSymbol",u[1]),v[0]&&s.setVisual("fromSymbolSize",v[0]),v[1]&&s.setVisual("toSymbolSize",v[1])})})}var tr="-->",ga=function(r){return r.get("autoCurveness")||null},so=function(r,t){var e=ga(r),a=20,n=[];if(_e(e))a=e;else if(Y(e)){r.__curvenessList=e;return}t>a&&(a=t);var i=a%2?a+2:a+3;n=[];for(var o=0;o<i;o++)n.push((o%2?o+1:o)/10*(o%2?-1:1));r.__curvenessList=n},Lt=function(r,t,e){var a=[r.id,r.dataIndex].join("."),n=[t.id,t.dataIndex].join(".");return[e.uid,a,n].join(tr)},uo=function(r){var t=r.split(tr);return[t[0],t[2],t[1]].join(tr)},Qu=function(r,t){var e=Lt(r.node1,r.node2,t);return t.__edgeMap[e]},ev=function(r,t){var e=ar(Lt(r.node1,r.node2,t),t),a=ar(Lt(r.node2,r.node1,t),t);return e+a},ar=function(r,t){var e=t.__edgeMap;return e[r]?e[r].length:0};function tv(r){ga(r)&&(r.__curvenessList=[],r.__edgeMap={},so(r))}function av(r,t,e,a){if(ga(e)){var n=Lt(r,t,e),i=e.__edgeMap,o=i[uo(n)];i[n]&&!o?i[n].isForward=!0:o&&i[n]&&(o.isForward=!0,i[n].isForward=!1),i[n]=i[n]||[],i[n].push(a)}}function mr(r,t,e,a){var n=ga(t),i=Y(n);if(!n)return null;var o=Qu(r,t);if(!o)return null;for(var l=-1,s=0;s<o.length;s++)if(o[s]===e){l=s;break}var u=ev(r,t);so(t,u),r.lineStyle=r.lineStyle||{};var v=Lt(r.node1,r.node2,t),h=t.__curvenessList,c=i||u%2?0:1;if(o.isForward)return h[c+l];var f=uo(v),g=ar(f,t),p=h[l+g+c];return a?i?n&&n[0]===0?(g+c)%2?p:-p:((g%2?0:1)+c)%2?p:-p:(g+c)%2?p:-p:h[l+g+c]}function vo(r){var t=r.coordinateSystem;if(!(t&&t.type!=="view")){var e=r.getGraph();e.eachNode(function(a){var n=a.getModel();a.setLayout([+n.get("x"),+n.get("y")])}),Sr(e,r)}}function Sr(r,t){r.eachEdge(function(e,a){var n=ut(e.getModel().get(["lineStyle","curveness"]),-mr(e,t,a,!0),0),i=We(e.node1.getLayout()),o=We(e.node2.getLayout()),l=[i,o];+n&&l.push([(i[0]+o[0])/2-(i[1]-o[1])*n,(i[1]+o[1])/2-(o[0]-i[0])*n]),e.setLayout(l)})}function rv(r,t){r.eachSeriesByType("graph",function(e){var a=e.get("layout"),n=e.coordinateSystem;if(n&&n.type!=="view"){var i=e.getData(),o=[];k(n.dimensions,function(c){o=o.concat(i.mapDimensionsAll(c))});for(var l=0;l<i.count();l++){for(var s=[],u=!1,v=0;v<o.length;v++){var h=i.get(o[v],l);isNaN(h)||(u=!0),s.push(h)}u?i.setItemLayout(l,n.dataToPoint(s)):i.setItemLayout(l,[NaN,NaN])}Sr(i.graph,e)}else(!a||a==="none")&&vo(e)})}function St(r){var t=r.coordinateSystem;if(t.type!=="view")return 1;var e=r.option.nodeScaleRatio,a=t.scaleX,n=t.getZoom(),i=(n-1)*e+1;return i/a}function bt(r){var t=r.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var Tn=Math.PI,La=[];function br(r,t,e,a){var n=r.coordinateSystem;if(!(n&&n.type!=="view")){var i=n.getBoundingRect(),o=r.getData(),l=o.graph,s=i.width/2+i.x,u=i.height/2+i.y,v=Math.min(i.width,i.height)/2,h=o.count();if(o.setLayout({cx:s,cy:u}),!!h){if(e){var c=n.pointToData(a),f=c[0],g=c[1],p=[f-s,g-u];vr(p,p),yl(p,p,v),e.setLayout([s+p[0],u+p[1]],!0);var d=r.get(["circular","rotateLabel"]);ho(e,d,s,u)}nv[t](r,l,o,v,s,u,h),l.eachEdge(function(S,y){var m=ut(S.getModel().get(["lineStyle","curveness"]),mr(S,r,y),0),b=We(S.node1.getLayout()),w=We(S.node2.getLayout()),D,_=(b[0]+w[0])/2,A=(b[1]+w[1])/2;+m&&(m*=3,D=[s*m+_*(1-m),u*m+A*(1-m)]),S.setLayout([b,w,D])})}}}var nv={value:function(r,t,e,a,n,i,o){var l=0,s=e.getSum("value"),u=Math.PI*2/(s||o);t.eachNode(function(v){var h=v.getValue("value"),c=u*(s?h:1)/2;l+=c,v.setLayout([a*Math.cos(l)+n,a*Math.sin(l)+i]),l+=c})},symbolSize:function(r,t,e,a,n,i,o){var l=0;La.length=o;var s=St(r);t.eachNode(function(h){var c=bt(h);isNaN(c)&&(c=2),c<0&&(c=0),c*=s;var f=Math.asin(c/2/a);isNaN(f)&&(f=Tn/2),La[h.dataIndex]=f,l+=f*2});var u=(2*Tn-l)/o/2,v=0;t.eachNode(function(h){var c=u+La[h.dataIndex];v+=c,(!h.getLayout()||!h.getLayout().fixed)&&h.setLayout([a*Math.cos(v)+n,a*Math.sin(v)+i]),v+=c})}};function ho(r,t,e,a){var n=r.getGraphicEl();if(n){var i=r.getModel(),o=i.get(["label","rotate"])||0,l=n.getSymbolPath();if(t){var s=r.getLayout(),u=Math.atan2(s[1]-a,s[0]-e);u<0&&(u=Math.PI*2+u);var v=s[0]<e;v&&(u=u-Math.PI);var h=v?"left":"right";l.setTextConfig({rotation:-u,position:h,origin:"center"});var c=l.ensureState("emphasis");$(c.textConfig||(c.textConfig={}),{position:h})}else l.setTextConfig({rotation:o*=Math.PI/180})}}function iv(r){r.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&br(t,"symbolSize")})}var at=qa;function ov(r,t,e){for(var a=r,n=t,i=e.rect,o=i.width,l=i.height,s=[i.x+o/2,i.y+l/2],u=e.gravity==null?.1:e.gravity,v=0;v<a.length;v++){var h=a[v];h.p||(h.p=ml(o*(Math.random()-.5)+s[0],l*(Math.random()-.5)+s[1])),h.pp=We(h.p),h.edges=null}var c=e.friction==null?.6:e.friction,f=c,g,p;return{warmUp:function(){f=c*.8},setFixed:function(d){a[d].fixed=!0},setUnfixed:function(d){a[d].fixed=!1},beforeStep:function(d){g=d},afterStep:function(d){p=d},step:function(d){g&&g(a,n);for(var S=[],y=a.length,m=0;m<n.length;m++){var b=n[m];if(!b.ignoreForceLayout){var w=b.n1,D=b.n2;dt(S,D.p,w.p);var _=Ur(S)-b.d,A=D.w/(w.w+D.w);isNaN(A)&&(A=0),vr(S,S),!w.fixed&&at(w.p,w.p,S,A*_*f),!D.fixed&&at(D.p,D.p,S,-(1-A)*_*f)}}for(var m=0;m<y;m++){var C=a[m];C.fixed||(dt(S,s,C.p),at(C.p,C.p,S,u*f))}for(var m=0;m<y;m++)for(var w=a[m],I=m+1;I<y;I++){var D=a[I];dt(S,D.p,w.p);var _=Ur(S);_===0&&(Sl(S,Math.random()-.5,Math.random()-.5),_=1);var x=(w.rep+D.rep)/_/_;!w.fixed&&at(w.pp,w.pp,S,x),!D.fixed&&at(D.pp,D.pp,S,-x)}for(var L=[],m=0;m<y;m++){var C=a[m];C.fixed||(dt(L,C.p,C.pp),at(C.p,C.p,L,f),pe(C.pp,C.p))}f=f*.992;var N=f<.01;p&&p(a,n,N),d&&d(N)}}}function lv(r){r.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view"))if(t.get("layout")==="force"){var a=t.preservedPoints||{},n=t.getGraph(),i=n.data,o=n.edgeData,l=t.getModel("force"),s=l.get("initLayout");t.preservedPoints?i.each(function(m){var b=i.getId(m);i.setItemLayout(m,a[b]||[NaN,NaN])}):!s||s==="none"?vo(t):s==="circular"&&br(t,"value");var u=i.getDataExtent("value"),v=o.getDataExtent("value"),h=l.get("repulsion"),c=l.get("edgeLength"),f=Y(h)?h:[h,h],g=Y(c)?c:[c,c];g=[g[1],g[0]];var p=i.mapArray("value",function(m,b){var w=i.getItemLayout(b),D=be(m,u,f);return isNaN(D)&&(D=(f[0]+f[1])/2),{w:D,rep:D,fixed:i.getItemModel(b).get("fixed"),p:!w||isNaN(w[0])||isNaN(w[1])?null:w}}),d=o.mapArray("value",function(m,b){var w=n.getEdgeByIndex(b),D=be(m,v,g);isNaN(D)&&(D=(g[0]+g[1])/2);var _=w.getModel(),A=ut(w.getModel().get(["lineStyle","curveness"]),-mr(w,t,b,!0),0);return{n1:p[w.node1.dataIndex],n2:p[w.node2.dataIndex],d:D,curveness:A,ignoreForceLayout:_.get("ignoreForceLayout")}}),S=e.getBoundingRect(),y=ov(p,d,{rect:S,gravity:l.get("gravity"),friction:l.get("friction")});y.beforeStep(function(m,b){for(var w=0,D=m.length;w<D;w++)m[w].fixed&&pe(m[w].p,n.getNodeByIndex(w).getLayout())}),y.afterStep(function(m,b,w){for(var D=0,_=m.length;D<_;D++)m[D].fixed||n.getNodeByIndex(D).setLayout(m[D].p),a[i.getId(D)]=m[D].p;for(var D=0,_=b.length;D<_;D++){var A=b[D],C=n.getEdgeByIndex(D),I=A.n1.p,x=A.n2.p,L=C.getLayout();L=L?L.slice():[],L[0]=L[0]||[],L[1]=L[1]||[],pe(L[0],I),pe(L[1],x),+A.curveness&&(L[2]=[(I[0]+x[0])/2-(I[1]-x[1])*A.curveness,(I[1]+x[1])/2-(x[0]-I[0])*A.curveness]),C.setLayout(L)}}),t.forceLayout=y,t.preservedPoints=a,y.step()}else t.forceLayout=null})}function sv(r,t,e){var a=$(r.getBoxLayoutParams(),{aspect:e});return st(a,{width:t.getWidth(),height:t.getHeight()})}function uv(r,t){var e=[];return r.eachSeriesByType("graph",function(a){var n=a.get("coordinateSystem");if(!n||n==="view"){var i=a.getData(),o=i.mapArray(function(d){var S=i.getItemModel(d);return[+S.get("x"),+S.get("y")]}),l=[],s=[];Si(o,l,s),s[0]-l[0]===0&&(s[0]+=1,l[0]-=1),s[1]-l[1]===0&&(s[1]+=1,l[1]-=1);var u=(s[0]-l[0])/(s[1]-l[1]),v=sv(a,t,u);isNaN(u)&&(l=[v.x,v.y],s=[v.x+v.width,v.y+v.height]);var h=s[0]-l[0],c=s[1]-l[1],f=v.width,g=v.height,p=a.coordinateSystem=new cr;p.zoomLimit=a.get("scaleLimit"),p.setBoundingRect(l[0],l[1],h,c),p.setViewRect(v.x,v.y,f,g),p.setCenter(a.get("center"),t),p.setZoom(a.get("zoom")),e.push(p)}}),e}var Ta=[],Ca=[],Pa=[],rt=Di,Na=wl,Cn=Math.abs;function Pn(r,t,e){for(var a=r[0],n=r[1],i=r[2],o=1/0,l,s=e*e,u=.1,v=.1;v<=.9;v+=.1){Ta[0]=rt(a[0],n[0],i[0],v),Ta[1]=rt(a[1],n[1],i[1],v);var h=Cn(Na(Ta,t)-s);h<o&&(o=h,l=v)}for(var c=0;c<32;c++){var f=l+u;Ca[0]=rt(a[0],n[0],i[0],l),Ca[1]=rt(a[1],n[1],i[1],l),Pa[0]=rt(a[0],n[0],i[0],f),Pa[1]=rt(a[1],n[1],i[1],f);var h=Na(Ca,t)-s;if(Cn(h)<.01)break;var g=Na(Pa,t)-s;u/=2,h<0?g>=0?l=l+u:l=l-u:g>=0?l=l-u:l=l+u}return l}function Ea(r,t){var e=[],a=bl,n=[[],[],[]],i=[[],[]],o=[];t/=2,r.eachEdge(function(l,s){var u=l.getLayout(),v=l.getVisual("fromSymbol"),h=l.getVisual("toSymbol");u.__original||(u.__original=[We(u[0]),We(u[1])],u[2]&&u.__original.push(We(u[2])));var c=u.__original;if(u[2]!=null){if(pe(n[0],c[0]),pe(n[1],c[2]),pe(n[2],c[1]),v&&v!=="none"){var f=bt(l.node1),g=Pn(n,c[0],f*t);a(n[0][0],n[1][0],n[2][0],g,e),n[0][0]=e[3],n[1][0]=e[4],a(n[0][1],n[1][1],n[2][1],g,e),n[0][1]=e[3],n[1][1]=e[4]}if(h&&h!=="none"){var f=bt(l.node2),g=Pn(n,c[1],f*t);a(n[0][0],n[1][0],n[2][0],g,e),n[1][0]=e[1],n[2][0]=e[2],a(n[0][1],n[1][1],n[2][1],g,e),n[1][1]=e[1],n[2][1]=e[2]}pe(u[0],n[0]),pe(u[1],n[2]),pe(u[2],n[1])}else{if(pe(i[0],c[0]),pe(i[1],c[1]),dt(o,i[1],i[0]),vr(o,o),v&&v!=="none"){var f=bt(l.node1);qa(i[0],i[0],o,f*t)}if(h&&h!=="none"){var f=bt(l.node2);qa(i[1],i[1],o,-f*t)}pe(u[0],i[0]),pe(u[1],i[1])}})}function Nn(r){return r.type==="view"}var vv=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,a){var n=new sa,i=new Ci,o=this.group;this._controller=new hr(a.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},t.prototype.render=function(e,a,n){var i=this,o=e.coordinateSystem;this._model=e;var l=this._symbolDraw,s=this._lineDraw,u=this.group;if(Nn(o)){var v={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?u.attr(v):K(u,v,e)}Ea(e.getGraph(),St(e));var h=e.getData();l.updateData(h);var c=e.getEdgeData();s.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,a,n),clearTimeout(this._layoutTimeout);var f=e.forceLayout,g=e.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,g);var p=e.get("layout");h.graph.eachNode(function(m){var b=m.dataIndex,w=m.getGraphicEl(),D=m.getModel();if(w){w.off("drag").off("dragend");var _=D.get("draggable");_&&w.on("drag",function(C){switch(p){case"force":f.warmUp(),!i._layouting&&i._startForceLayoutIteration(f,g),f.setFixed(b),h.setItemLayout(b,[w.x,w.y]);break;case"circular":h.setItemLayout(b,[w.x,w.y]),m.setLayout({fixed:!0},!0),br(e,"symbolSize",m,[C.offsetX,C.offsetY]),i.updateLayout(e);break;case"none":default:h.setItemLayout(b,[w.x,w.y]),Sr(e.getGraph(),e),i.updateLayout(e);break}}).on("dragend",function(){f&&f.setUnfixed(b)}),w.setDraggable(_,!!D.get("cursor"));var A=D.get(["emphasis","focus"]);A==="adjacency"&&(se(w).focus=m.getAdjacentDataIndices())}}),h.graph.eachEdge(function(m){var b=m.getGraphicEl(),w=m.getModel().get(["emphasis","focus"]);b&&w==="adjacency"&&(se(b).focus={edge:[m.dataIndex],node:[m.node1.dataIndex,m.node2.dataIndex]})});var d=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),S=h.getLayout("cx"),y=h.getLayout("cy");h.graph.eachNode(function(m){ho(m,d,S,y)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,a){var n=this;(function i(){e.step(function(o){n.updateLayout(n._model),(n._layouting=!o)&&(a?n._layoutTimeout=setTimeout(i,16):i())})})()},t.prototype._updateController=function(e,a,n){var i=this,o=this._controller,l=this._controllerHost,s=this.group;if(o.setPointerChecker(function(u,v,h){var c=s.getBoundingRect();return c.applyTransform(s.transform),c.contain(v,h)&&!Ai(u,n,e)}),!Nn(e.coordinateSystem)){o.disable();return}o.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){xi(l,u.dx,u.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Ii(l,u.scale,u.originX,u.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),i._updateNodeAndLinkScale(),Ea(e.getGraph(),St(e)),i._lineDraw.updateLayout(),n.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,a=e.getData(),n=St(e);a.eachItemGraphicEl(function(i,o){i&&i.setSymbolScale(n)})},t.prototype.updateLayout=function(e){Ea(e.getGraph(),St(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(ee);function nt(r){return"_EC_"+r}var hv=function(){function r(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var a=this._nodesMap;if(!a[nt(t)]){var n=new qe(t,e);return n.hostGraph=this,this.nodes.push(n),a[nt(t)]=n,n}},r.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},r.prototype.getNodeById=function(t){return this._nodesMap[nt(t)]},r.prototype.addEdge=function(t,e,a){var n=this._nodesMap,i=this._edgesMap;if(_e(t)&&(t=this.nodes[t]),_e(e)&&(e=this.nodes[e]),t instanceof qe||(t=n[nt(t)]),e instanceof qe||(e=n[nt(e)]),!(!t||!e)){var o=t.id+"-"+e.id,l=new co(t,e,a);return l.hostGraph=this,this._directed&&(t.outEdges.push(l),e.inEdges.push(l)),t.edges.push(l),t!==e&&e.edges.push(l),this.edges.push(l),i[o]=l,l}},r.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},r.prototype.getEdge=function(t,e){t instanceof qe&&(t=t.id),e instanceof qe&&(e=e.id);var a=this._edgesMap;return this._directed?a[t+"-"+e]:a[t+"-"+e]||a[e+"-"+t]},r.prototype.eachNode=function(t,e){for(var a=this.nodes,n=a.length,i=0;i<n;i++)a[i].dataIndex>=0&&t.call(e,a[i],i)},r.prototype.eachEdge=function(t,e){for(var a=this.edges,n=a.length,i=0;i<n;i++)a[i].dataIndex>=0&&a[i].node1.dataIndex>=0&&a[i].node2.dataIndex>=0&&t.call(e,a[i],i)},r.prototype.breadthFirstTraverse=function(t,e,a,n){if(e instanceof qe||(e=this._nodesMap[nt(e)]),!!e){for(var i=a==="out"?"outEdges":a==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(n,e,null))for(var l=[e];l.length;)for(var s=l.shift(),u=s[i],o=0;o<u.length;o++){var v=u[o],h=v.node1===s?v.node2:v.node1;if(!h.__visited){if(t.call(n,h,s))return;l.push(h),h.__visited=!0}}}},r.prototype.update=function(){for(var t=this.data,e=this.edgeData,a=this.nodes,n=this.edges,i=0,o=a.length;i<o;i++)a[i].dataIndex=-1;for(var i=0,o=t.count();i<o;i++)a[t.getRawIndex(i)].dataIndex=i;e.filterSelf(function(l){var s=n[e.getRawIndex(l)];return s.node1.dataIndex>=0&&s.node2.dataIndex>=0});for(var i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(var i=0,o=e.count();i<o;i++)n[e.getRawIndex(i)].dataIndex=i},r.prototype.clone=function(){for(var t=new r(this._directed),e=this.nodes,a=this.edges,n=0;n<e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(var n=0;n<a.length;n++){var i=a[n];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},r}(),qe=function(){function r(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,a=e.data.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var a=this.edges[e];a.dataIndex<0||(t.edge.push(a.dataIndex),t.node.push(a.node1.dataIndex,a.node2.dataIndex))}return t},r.prototype.getTrajectoryDataIndices=function(){for(var t=et(),e=et(),a=0;a<this.edges.length;a++){var n=this.edges[a];if(!(n.dataIndex<0)){t.set(n.dataIndex,!0);for(var i=[n.node1],o=[n.node2],l=0;l<i.length;){var s=i[l];l++,e.set(s.dataIndex,!0);for(var u=0;u<s.inEdges.length;u++)t.set(s.inEdges[u].dataIndex,!0),i.push(s.inEdges[u].node1)}for(l=0;l<o.length;){var v=o[l];l++,e.set(v.dataIndex,!0);for(var u=0;u<v.outEdges.length;u++)t.set(v.outEdges[u].dataIndex,!0),o.push(v.outEdges[u].node2)}}}return{edge:t.keys(),node:e.keys()}},r}(),co=function(){function r(t,e,a){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=a??-1}return r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,a=e.edgeData.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var t=et(),e=et();t.set(this.dataIndex,!0);for(var a=[this.node1],n=[this.node2],i=0;i<a.length;){var o=a[i];i++,e.set(o.dataIndex,!0);for(var l=0;l<o.inEdges.length;l++)t.set(o.inEdges[l].dataIndex,!0),a.push(o.inEdges[l].node1)}for(i=0;i<n.length;){var s=n[i];i++,e.set(s.dataIndex,!0);for(var l=0;l<s.outEdges.length;l++)t.set(s.outEdges[l].dataIndex,!0),n.push(s.outEdges[l].node2)}return{edge:t.keys(),node:e.keys()}},r}();function fo(r,t){return{getValue:function(e){var a=this[r][t];return a.getStore().get(a.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,a){this.dataIndex>=0&&this[r][t].setItemVisual(this.dataIndex,e,a)},getVisual:function(e){return this[r][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,a){this.dataIndex>=0&&this[r][t].setItemLayout(this.dataIndex,e,a)},getLayout:function(){return this[r][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][t].getRawIndex(this.dataIndex)}}}la(qe,fo("hostGraph","data"));la(co,fo("hostGraph","edgeData"));function go(r,t,e,a,n){for(var i=new hv(a),o=0;o<r.length;o++)i.addNode(Dt(r[o].id,r[o].name,o),o);for(var l=[],s=[],u=0,o=0;o<t.length;o++){var v=t[o],h=v.source,c=v.target;i.addEdge(h,c,u)&&(s.push(v),l.push(Dt(na(v.id,null),h+" > "+c)),u++)}var f=e.get("coordinateSystem"),g;if(f==="cartesian2d"||f==="polar")g=ze(r,e);else{var p=pi.get(f),d=p?p.dimensions||[]:[];vt(d,"value")<0&&d.concat(["value"]);var S=ia(r,{coordDimensions:d,encodeDefine:e.getEncode()}).dimensions;g=new tt(S,e),g.initData(r)}var y=new tt(["value"],e);return y.initData(s,l),n&&n(g,y),ji({mainData:g,struct:i,structAttr:"graph",datas:{node:g,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}var cv=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments);var a=this;function n(){return a._categoriesData}this.legendVisualProvider=new Mt(n,n),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){r.prototype.mergeDefaultAndTheme.apply(this,arguments),lr(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,a){var n=e.edges||e.links||[],i=e.data||e.nodes||[],o=this;if(i&&n){tv(this);var l=go(i,n,this,!0,s);return k(l.edges,function(u){av(u.node1,u.node2,this,u.dataIndex)},this),l.data}function s(u,v){u.wrapMethod("getItemModel",function(g){var p=o._categoriesModels,d=g.getShallow("category"),S=p[d];return S&&(S.parentModel=g.parentModel,g.parentModel=S),g});var h=Qe.prototype.getModel;function c(g,p){var d=h.call(this,g,p);return d.resolveParentPath=f,d}v.wrapMethod("getItemModel",function(g){return g.resolveParentPath=f,g.getModel=c,g});function f(g){if(g&&(g[0]==="label"||g[1]==="label")){var p=g.slice();return g[0]==="label"?p[0]="edgeLabel":g[1]==="label"&&(p[1]="edgeLabel"),p}return g}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,a,n){if(n==="edge"){var i=this.getData(),o=this.getDataParams(e,n),l=i.graph.getEdgeByIndex(e),s=i.getName(l.node1.dataIndex),u=i.getName(l.node2.dataIndex),v=[];return s!=null&&v.push(s),u!=null&&v.push(u),Ie("nameValue",{name:v.join(" > "),value:o.value,noValue:o.value==null})}var h=Zo({series:this,dataIndex:e,multipleSeries:a});return h},t.prototype._updateCategoriesData=function(){var e=J(this.option.categories||[],function(n){return n.value!=null?n:$({value:0},n)}),a=new tt(["value"],this);a.initData(e),this._categoriesData=a,this._categoriesModels=a.mapArray(function(n){return a.getItemModel(n)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(re),fv={type:"graphRoam",event:"graphRoam",update:"none"};function vf(r){r.registerChartView(vv),r.registerSeriesModel(cv),r.registerProcessor(Ku),r.registerVisual(ju),r.registerVisual(Ju),r.registerLayout(rv),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,iv),r.registerLayout(lv),r.registerCoordinateSystem("graphView",{dimensions:cr.dimensions,create:uv}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Ya),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Ya),r.registerAction(fv,function(t,e,a){e.eachComponent({mainType:"series",query:t},function(n){var i=n.coordinateSystem,o=Li(i,t,void 0,a);n.setCenter&&n.setCenter(o.center),n.setZoom&&n.setZoom(o.zoom)})})}var gv=function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r}(),pv=function(r){G(t,r);function t(e){var a=r.call(this,e)||this;return a.type="pointer",a}return t.prototype.getDefaultShape=function(){return new gv},t.prototype.buildPath=function(e,a){var n=Math.cos,i=Math.sin,o=a.r,l=a.width,s=a.angle,u=a.x-n(s)*l*(l>=o/3?1:2),v=a.y-i(s)*l*(l>=o/3?1:2);s=a.angle-Math.PI/2,e.moveTo(u,v),e.lineTo(a.x+n(s)*l,a.y+i(s)*l),e.lineTo(a.x+n(a.angle)*o,a.y+i(a.angle)*o),e.lineTo(a.x-n(s)*l,a.y-i(s)*l),e.lineTo(u,v)},t}(me);function dv(r,t){var e=r.get("center"),a=t.getWidth(),n=t.getHeight(),i=Math.min(a,n),o=O(e[0],t.getWidth()),l=O(e[1],t.getHeight()),s=O(r.get("radius"),i/2);return{cx:o,cy:l,r:s}}function Wt(r,t){var e=r==null?"":r+"";return t&&(Pe(t)?e=t.replace("{value}",e):de(t)&&(e=t(r))),e}var yv=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){this.group.removeAll();var i=e.get(["axisLine","lineStyle","color"]),o=dv(e,n);this._renderMain(e,a,n,i,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,a,n,i,o){var l=this.group,s=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,v=-e.get("endAngle")/180*Math.PI,h=e.getModel("axisLine"),c=h.get("roundCap"),f=c?jt:Ze,g=h.get("show"),p=h.getModel("lineStyle"),d=p.get("width"),S=[u,v];mi(S,!s),u=S[0],v=S[1];for(var y=v-u,m=u,b=[],w=0;g&&w<i.length;w++){var D=Math.min(Math.max(i[w][0],0),1);v=u+y*D;var _=new f({shape:{startAngle:m,endAngle:v,cx:o.cx,cy:o.cy,clockwise:s,r0:o.r-d,r:o.r},silent:!0});_.setStyle({fill:i[w][1]}),_.setStyle(p.getLineStyle(["color","width"])),b.push(_),m=v}b.reverse(),k(b,function(C){return l.add(C)});var A=function(C){if(C<=0)return i[0][1];var I;for(I=0;I<i.length;I++)if(i[I][0]>=C&&(I===0?0:i[I-1][0])<C)return i[I][1];return i[I-1][1]};this._renderTicks(e,a,n,A,o,u,v,s,d),this._renderTitleAndDetail(e,a,n,A,o),this._renderAnchor(e,o),this._renderPointer(e,a,n,A,o,u,v,s,d)},t.prototype._renderTicks=function(e,a,n,i,o,l,s,u,v){for(var h=this.group,c=o.cx,f=o.cy,g=o.r,p=+e.get("min"),d=+e.get("max"),S=e.getModel("splitLine"),y=e.getModel("axisTick"),m=e.getModel("axisLabel"),b=e.get("splitNumber"),w=y.get("splitNumber"),D=O(S.get("length"),g),_=O(y.get("length"),g),A=l,C=(s-l)/b,I=C/w,x=S.getModel("lineStyle").getLineStyle(),L=y.getModel("lineStyle").getLineStyle(),N=S.get("distance"),P,T,E=0;E<=b;E++){if(P=Math.cos(A),T=Math.sin(A),S.get("show")){var M=N?N+v:v,R=new zr({shape:{x1:P*(g-M)+c,y1:T*(g-M)+f,x2:P*(g-D-M)+c,y2:T*(g-D-M)+f},style:x,silent:!0});x.stroke==="auto"&&R.setStyle({stroke:i(E/b)}),h.add(R)}if(m.get("show")){var M=m.get("distance")+N,V=Wt(pt(E/b*(d-p)+p),m.get("formatter")),B=i(E/b),z=P*(g-D-M)+c,F=T*(g-D-M)+f,W=m.get("rotate"),H=0;W==="radial"?(H=-A+2*Math.PI,H>Math.PI/2&&(H+=Math.PI)):W==="tangential"?H=-A-Math.PI/2:_e(W)&&(H=W*Math.PI/180),H===0?h.add(new Le({style:Ee(m,{text:V,x:z,y:F,verticalAlign:T<-.8?"top":T>.8?"bottom":"middle",align:P<-.4?"left":P>.4?"right":"center"},{inheritColor:B}),silent:!0})):h.add(new Le({style:Ee(m,{text:V,x:z,y:F,verticalAlign:"middle",align:"center"},{inheritColor:B}),silent:!0,originX:z,originY:F,rotation:H}))}if(y.get("show")&&E!==b){var M=y.get("distance");M=M?M+v:v;for(var Z=0;Z<=w;Z++){P=Math.cos(A),T=Math.sin(A);var ie=new zr({shape:{x1:P*(g-M)+c,y1:T*(g-M)+f,x2:P*(g-_-M)+c,y2:T*(g-_-M)+f},silent:!0,style:L});L.stroke==="auto"&&ie.setStyle({stroke:i((E+Z/w)/b)}),h.add(ie),A+=I}A-=I}else A+=C}},t.prototype._renderPointer=function(e,a,n,i,o,l,s,u,v){var h=this.group,c=this._data,f=this._progressEls,g=[],p=e.get(["pointer","show"]),d=e.getModel("progress"),S=d.get("show"),y=e.getData(),m=y.mapDimension("value"),b=+e.get("min"),w=+e.get("max"),D=[b,w],_=[l,s];function A(I,x){var L=y.getItemModel(I),N=L.getModel("pointer"),P=O(N.get("width"),o.r),T=O(N.get("length"),o.r),E=e.get(["pointer","icon"]),M=N.get("offsetCenter"),R=O(M[0],o.r),V=O(M[1],o.r),B=N.get("keepAspect"),z;return E?z=Ce(E,R-P/2,V-T,P,T,null,B):z=new pv({shape:{angle:-Math.PI/2,width:P,r:T,x:R,y:V}}),z.rotation=-(x+Math.PI/2),z.x=o.cx,z.y=o.cy,z}function C(I,x){var L=d.get("roundCap"),N=L?jt:Ze,P=d.get("overlap"),T=P?d.get("width"):v/y.count(),E=P?o.r-T:o.r-(I+1)*T,M=P?o.r:o.r-I*T,R=new N({shape:{startAngle:l,endAngle:x,cx:o.cx,cy:o.cy,clockwise:u,r0:E,r:M}});return P&&(R.z2=be(y.get(m,I),[b,w],[100,0],!0)),R}(S||p)&&(y.diff(c).add(function(I){var x=y.get(m,I);if(p){var L=A(I,l);oe(L,{rotation:-((isNaN(+x)?_[0]:be(x,D,_,!0))+Math.PI/2)},e),h.add(L),y.setItemGraphicEl(I,L)}if(S){var N=C(I,l),P=d.get("clip");oe(N,{shape:{endAngle:be(x,D,_,P)}},e),h.add(N),Br(e.seriesIndex,y.dataType,I,N),g[I]=N}}).update(function(I,x){var L=y.get(m,I);if(p){var N=c.getItemGraphicEl(x),P=N?N.rotation:l,T=A(I,P);T.rotation=P,K(T,{rotation:-((isNaN(+L)?_[0]:be(L,D,_,!0))+Math.PI/2)},e),h.add(T),y.setItemGraphicEl(I,T)}if(S){var E=f[x],M=E?E.shape.endAngle:l,R=C(I,M),V=d.get("clip");K(R,{shape:{endAngle:be(L,D,_,V)}},e),h.add(R),Br(e.seriesIndex,y.dataType,I,R),g[I]=R}}).execute(),y.each(function(I){var x=y.getItemModel(I),L=x.getModel("emphasis"),N=L.get("focus"),P=L.get("blurScope"),T=L.get("disabled");if(p){var E=y.getItemGraphicEl(I),M=y.getItemVisual(I,"style"),R=M.fill;if(E instanceof Pt){var V=E.style;E.useStyle($({image:V.image,x:V.x,y:V.y,width:V.width,height:V.height},M))}else E.useStyle(M),E.type!=="pointer"&&E.setColor(R);E.setStyle(x.getModel(["pointer","itemStyle"]).getItemStyle()),E.style.fill==="auto"&&E.setStyle("fill",i(be(y.get(m,I),D,[0,1],!0))),E.z2EmphasisLift=0,he(E,x),ne(E,N,P,T)}if(S){var B=g[I];B.useStyle(y.getItemVisual(I,"style")),B.setStyle(x.getModel(["progress","itemStyle"]).getItemStyle()),B.z2EmphasisLift=0,he(B,x),ne(B,N,P,T)}}),this._progressEls=g)},t.prototype._renderAnchor=function(e,a){var n=e.getModel("anchor"),i=n.get("show");if(i){var o=n.get("size"),l=n.get("icon"),s=n.get("offsetCenter"),u=n.get("keepAspect"),v=Ce(l,a.cx-o/2+O(s[0],a.r),a.cy-o/2+O(s[1],a.r),o,o,null,u);v.z2=n.get("showAbove")?1:0,v.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(v)}},t.prototype._renderTitleAndDetail=function(e,a,n,i,o){var l=this,s=e.getData(),u=s.mapDimension("value"),v=+e.get("min"),h=+e.get("max"),c=new ae,f=[],g=[],p=e.isAnimationEnabled(),d=e.get(["pointer","showAbove"]);s.diff(this._data).add(function(S){f[S]=new Le({silent:!0}),g[S]=new Le({silent:!0})}).update(function(S,y){f[S]=l._titleEls[y],g[S]=l._detailEls[y]}).execute(),s.each(function(S){var y=s.getItemModel(S),m=s.get(u,S),b=new ae,w=i(be(m,[v,h],[0,1],!0)),D=y.getModel("title");if(D.get("show")){var _=D.get("offsetCenter"),A=o.cx+O(_[0],o.r),C=o.cy+O(_[1],o.r),I=f[S];I.attr({z2:d?0:2,style:Ee(D,{x:A,y:C,text:s.getName(S),align:"center",verticalAlign:"middle"},{inheritColor:w})}),b.add(I)}var x=y.getModel("detail");if(x.get("show")){var L=x.get("offsetCenter"),N=o.cx+O(L[0],o.r),P=o.cy+O(L[1],o.r),T=O(x.get("width"),o.r),E=O(x.get("height"),o.r),M=e.get(["progress","show"])?s.getItemVisual(S,"style").fill:w,I=g[S],R=x.get("formatter");I.attr({z2:d?0:2,style:Ee(x,{x:N,y:P,text:Wt(m,R),width:isNaN(T)?null:T,height:isNaN(E)?null:E,align:"center",verticalAlign:"middle"},{inheritColor:M})}),li(I,{normal:x},m,function(B){return Wt(B,R)}),p&&$o(I,S,s,e,{getFormattedLabel:function(B,z,F,W,H,Z){return Wt(Z?Z.interpolatedValue:m,R)}}),b.add(I)}c.add(b)}),this.group.add(c),this._titleEls=f,this._detailEls=g},t.type="gauge",t}(ee),mv=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return t.prototype.getInitialData=function(e,a){return ht(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(re);function hf(r){r.registerChartView(yv),r.registerSeriesModel(mv)}var Sv=["itemStyle","opacity"],bv=function(r){G(t,r);function t(e,a){var n=r.call(this)||this,i=n,o=new Tt,l=new Le;return i.setTextContent(l),n.setTextGuideLine(o),n.updateData(e,a,!0),n}return t.prototype.updateData=function(e,a,n){var i=this,o=e.hostModel,l=e.getItemModel(a),s=e.getItemLayout(a),u=l.getModel("emphasis"),v=l.get(Sv);v=v??1,n||Te(i),i.useStyle(e.getItemVisual(a,"style")),i.style.lineJoin="round",n?(i.setShape({points:s.points}),i.style.opacity=0,oe(i,{style:{opacity:v}},o,a)):K(i,{style:{opacity:v},shape:{points:s.points}},o,a),he(i,l),this._updateLabel(e,a),ne(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,a){var n=this,i=this.getTextGuideLine(),o=n.getTextContent(),l=e.hostModel,s=e.getItemModel(a),u=e.getItemLayout(a),v=u.label,h=e.getItemVisual(a,"style"),c=h.fill;De(o,ye(s),{labelFetcher:e.hostModel,labelDataIndex:a,defaultOpacity:h.opacity,defaultText:e.getName(a)},{normal:{align:v.textAlign,verticalAlign:v.verticalAlign}}),n.setTextConfig({local:!0,inside:!!v.inside,insideStroke:c,outsideFill:c});var f=v.linePoints;i.setShape({points:f}),n.textGuideLineConfig={anchor:f?new Xa(f[0][0],f[0][1]):null},K(o,{style:{x:v.x,y:v.y}},l,a),o.attr({rotation:v.rotation,originX:v.x,originY:v.y,z2:10}),Ri(n,Mi(s),{stroke:c})},t}(sr),wv=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,a,n){var i=e.getData(),o=this._data,l=this.group;i.diff(o).add(function(s){var u=new bv(i,s);i.setItemGraphicEl(s,u),l.add(u)}).update(function(s,u){var v=o.getItemGraphicEl(u);v.updateData(i,s),l.add(v),i.setItemGraphicEl(s,v)}).remove(function(s){var u=o.getItemGraphicEl(s);$t(u,e,s)}).execute(),this._data=i},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(ee),Dv=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Mt(le(this.getData,this),le(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,a){return ht(this,{coordDimensions:["value"],encodeDefaulter:fe(or,this)})},t.prototype._defaultLabelLine=function(e){lr(e,"labelLine",["show"]);var a=e.labelLine,n=e.emphasis.labelLine;a.show=a.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var a=this.getData(),n=r.prototype.getDataParams.call(this,e),i=a.mapDimension("value"),o=a.getSum(i);return n.percent=o?+(a.get(i,e)/o*100).toFixed(2):0,n.$vars.push("percent"),n},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(re);function _v(r,t){return st(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Av(r,t){for(var e=r.mapDimension("value"),a=r.mapArray(e,function(s){return s}),n=[],i=t==="ascending",o=0,l=r.count();o<l;o++)n[o]=o;return de(t)?n.sort(t):t!=="none"&&n.sort(function(s,u){return i?a[s]-a[u]:a[u]-a[s]}),n}function xv(r){var t=r.hostModel,e=t.get("orient");r.each(function(a){var n=r.getItemModel(a),i=n.getModel("label"),o=i.get("position"),l=n.getModel("labelLine"),s=r.getItemLayout(a),u=s.points,v=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",h,c,f,g;if(v)o==="insideLeft"?(c=(u[0][0]+u[3][0])/2+5,f=(u[0][1]+u[3][1])/2,h="left"):o==="insideRight"?(c=(u[1][0]+u[2][0])/2-5,f=(u[1][1]+u[2][1])/2,h="right"):(c=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,f=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,h="center"),g=[[c,f],[c,f]];else{var p=void 0,d=void 0,S=void 0,y=void 0,m=l.get("length");o==="left"?(p=(u[3][0]+u[0][0])/2,d=(u[3][1]+u[0][1])/2,S=p-m,c=S-5,h="right"):o==="right"?(p=(u[1][0]+u[2][0])/2,d=(u[1][1]+u[2][1])/2,S=p+m,c=S+5,h="left"):o==="top"?(p=(u[3][0]+u[0][0])/2,d=(u[3][1]+u[0][1])/2,y=d-m,f=y-5,h="center"):o==="bottom"?(p=(u[1][0]+u[2][0])/2,d=(u[1][1]+u[2][1])/2,y=d+m,f=y+5,h="center"):o==="rightTop"?(p=e==="horizontal"?u[3][0]:u[1][0],d=e==="horizontal"?u[3][1]:u[1][1],e==="horizontal"?(y=d-m,f=y-5,h="center"):(S=p+m,c=S+5,h="top")):o==="rightBottom"?(p=u[2][0],d=u[2][1],e==="horizontal"?(y=d+m,f=y+5,h="center"):(S=p+m,c=S+5,h="bottom")):o==="leftTop"?(p=u[0][0],d=e==="horizontal"?u[0][1]:u[1][1],e==="horizontal"?(y=d-m,f=y-5,h="center"):(S=p-m,c=S-5,h="right")):o==="leftBottom"?(p=e==="horizontal"?u[1][0]:u[3][0],d=e==="horizontal"?u[1][1]:u[2][1],e==="horizontal"?(y=d+m,f=y+5,h="center"):(S=p-m,c=S-5,h="right")):(p=(u[1][0]+u[2][0])/2,d=(u[1][1]+u[2][1])/2,e==="horizontal"?(y=d+m,f=y+5,h="center"):(S=p+m,c=S+5,h="left")),e==="horizontal"?(S=p,c=S):(y=d,f=y),g=[[p,d],[S,y]]}s.label={linePoints:g,x:c,y:f,verticalAlign:"middle",textAlign:h,inside:v}})}function Iv(r,t){r.eachSeriesByType("funnel",function(e){var a=e.getData(),n=a.mapDimension("value"),i=e.get("sort"),o=_v(e,t),l=e.get("orient"),s=o.width,u=o.height,v=Av(a,i),h=o.x,c=o.y,f=l==="horizontal"?[O(e.get("minSize"),u),O(e.get("maxSize"),u)]:[O(e.get("minSize"),s),O(e.get("maxSize"),s)],g=a.getDataExtent(n),p=e.get("min"),d=e.get("max");p==null&&(p=Math.min(g[0],0)),d==null&&(d=g[1]);var S=e.get("funnelAlign"),y=e.get("gap"),m=l==="horizontal"?s:u,b=(m-y*(a.count()-1))/a.count(),w=function(P,T){if(l==="horizontal"){var E=a.get(n,P)||0,M=be(E,[p,d],f,!0),R=void 0;switch(S){case"top":R=c;break;case"center":R=c+(u-M)/2;break;case"bottom":R=c+(u-M);break}return[[T,R],[T,R+M]]}var V=a.get(n,P)||0,B=be(V,[p,d],f,!0),z;switch(S){case"left":z=h;break;case"center":z=h+(s-B)/2;break;case"right":z=h+s-B;break}return[[z,T],[z+B,T]]};i==="ascending"&&(b=-b,y=-y,l==="horizontal"?h+=s:c+=u,v=v.reverse());for(var D=0;D<v.length;D++){var _=v[D],A=v[D+1],C=a.getItemModel(_);if(l==="horizontal"){var I=C.get(["itemStyle","width"]);I==null?I=b:(I=O(I,s),i==="ascending"&&(I=-I));var x=w(_,h),L=w(A,h+I);h+=I+y,a.setItemLayout(_,{points:x.concat(L.slice().reverse())})}else{var N=C.get(["itemStyle","height"]);N==null?N=b:(N=O(N,u),i==="ascending"&&(N=-N));var x=w(_,c),L=w(A,c+N);c+=N+y,a.setItemLayout(_,{points:x.concat(L.slice().reverse())})}}xv(a)})}function cf(r){r.registerChartView(wv),r.registerSeriesModel(Dv),r.registerLayout(Iv),r.registerProcessor(Rt("funnel"))}var Lv=.3,Tv=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new ae,e._initialized=!1,e}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,a,n,i){this._progressiveEls=null;var o=this._dataGroup,l=e.getData(),s=this._data,u=e.coordinateSystem,v=u.dimensions,h=Rn(e);l.diff(s).add(c).update(f).remove(g).execute();function c(d){var S=En(l,o,d,v,u);Ra(S,l,d,h)}function f(d,S){var y=s.getItemGraphicEl(S),m=po(l,d,v,u);l.setItemGraphicEl(d,y),K(y,{shape:{points:m}},e,d),Te(y),Ra(y,l,d,h)}function g(d){var S=s.getItemGraphicEl(d);o.remove(S)}if(!this._initialized){this._initialized=!0;var p=Cv(u,e,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(p)}this._data=l},t.prototype.incrementalPrepareRender=function(e,a,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,a,n){for(var i=a.getData(),o=a.coordinateSystem,l=o.dimensions,s=Rn(a),u=this._progressiveEls=[],v=e.start;v<e.end;v++){var h=En(i,this._dataGroup,v,l,o);h.incremental=!0,Ra(h,i,v,s),u.push(h)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(ee);function Cv(r,t,e){var a=r.model,n=r.getRect(),i=new Ae({shape:{x:n.x,y:n.y,width:n.width,height:n.height}}),o=a.get("layout")==="horizontal"?"width":"height";return i.setShape(o,0),oe(i,{shape:{width:n.width,height:n.height}},t,e),i}function po(r,t,e,a){for(var n=[],i=0;i<e.length;i++){var o=e[i],l=r.get(r.mapDimension(o),t);Pv(l,a.getAxis(o).type)||n.push(a.dataToPoint(l,o))}return n}function En(r,t,e,a,n){var i=po(r,e,a,n),o=new Tt({shape:{points:i},z2:10});return t.add(o),r.setItemGraphicEl(e,o),o}function Rn(r){var t=r.get("smooth",!0);return t===!0&&(t=Lv),t=Xo(t),Dl(t)&&(t=0),{smooth:t}}function Ra(r,t,e,a){r.useStyle(t.getItemVisual(e,"style")),r.style.fill=null,r.setShape("smooth",a.smooth);var n=t.getItemModel(e),i=n.getModel("emphasis");he(r,n,"lineStyle"),ne(r,i.get("focus"),i.get("blurScope"),i.get("disabled"))}function Pv(r,t){return t==="category"?r==null:r==null||isNaN(r)}var Nv=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.getInitialData=function(e,a){return ze(null,this,{useEncodeDefaulter:le(Ev,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var a=this.coordinateSystem,n=this.getData(),i=[];return a.eachActiveState(n,function(o,l){e===o&&i.push(n.getRawIndex(l))}),i},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(re);function Ev(r){var t=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(t){var e={};return k(t.dimensions,function(a){var n=Rv(a);e[a]=n}),e}}function Rv(r){return+r.replace("dim","")}var Mv=["lineStyle","opacity"],Vv={seriesType:"parallel",reset:function(r,t){var e=r.coordinateSystem,a={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(n,i){e.eachActiveState(i,function(o,l){var s=a[o];if(o==="normal"&&i.hasItemOption){var u=i.getItemModel(l).get(Mv,!0);u!=null&&(s=u)}var v=i.ensureUniqueItemVisual(l,"style");v.opacity=s},n.start,n.end)}}}};function ff(r){ha(Ml),r.registerChartView(Tv),r.registerSeriesModel(Nv),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,Vv)}var kv=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r}(),zv=function(r){G(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new kv},t.prototype.buildPath=function(e,a){var n=a.extent;e.moveTo(a.x1,a.y1),e.bezierCurveTo(a.cpx1,a.cpy1,a.cpx2,a.cpy2,a.x2,a.y2),a.orient==="vertical"?(e.lineTo(a.x2+n,a.y2),e.bezierCurveTo(a.cpx2+n,a.cpy2,a.cpx1+n,a.cpy1,a.x1+n,a.y1)):(e.lineTo(a.x2,a.y2+n),e.bezierCurveTo(a.cpx2,a.cpy2+n,a.cpx1,a.cpy1+n,a.x1,a.y1+n)),e.closePath()},t.prototype.highlight=function(){vi(this)},t.prototype.downplay=function(){hi(this)},t}(me),Bv=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return t.prototype.render=function(e,a,n){var i=this,o=e.getGraph(),l=this.group,s=e.layoutInfo,u=s.width,v=s.height,h=e.getData(),c=e.getData("edge"),f=e.get("orient");this._model=e,l.removeAll(),l.x=s.x,l.y=s.y,o.eachEdge(function(g){var p=new zv,d=se(p);d.dataIndex=g.dataIndex,d.seriesIndex=e.seriesIndex,d.dataType="edge";var S=g.getModel(),y=S.getModel("lineStyle"),m=y.get("curveness"),b=g.node1.getLayout(),w=g.node1.getModel(),D=w.get("localX"),_=w.get("localY"),A=g.node2.getLayout(),C=g.node2.getModel(),I=C.get("localX"),x=C.get("localY"),L=g.getLayout(),N,P,T,E,M,R,V,B;p.shape.extent=Math.max(1,L.dy),p.shape.orient=f,f==="vertical"?(N=(D!=null?D*u:b.x)+L.sy,P=(_!=null?_*v:b.y)+b.dy,T=(I!=null?I*u:A.x)+L.ty,E=x!=null?x*v:A.y,M=N,R=P*(1-m)+E*m,V=T,B=P*m+E*(1-m)):(N=(D!=null?D*u:b.x)+b.dx,P=(_!=null?_*v:b.y)+L.sy,T=I!=null?I*u:A.x,E=(x!=null?x*v:A.y)+L.ty,M=N*(1-m)+T*m,R=P,V=N*m+T*(1-m),B=E),p.setShape({x1:N,y1:P,x2:T,y2:E,cpx1:M,cpy1:R,cpx2:V,cpy2:B}),p.useStyle(y.getItemStyle()),Mn(p.style,f,g);var z=""+S.get("value"),F=ye(S,"edgeLabel");De(p,F,{labelFetcher:{getFormattedLabel:function(Z,ie,xe,X,U,j){return e.getFormattedLabel(Z,ie,"edge",X,ut(U,F.normal&&F.normal.get("formatter"),z),j)}},labelDataIndex:g.dataIndex,defaultText:z}),p.setTextConfig({position:"inside"});var W=S.getModel("emphasis");he(p,S,"lineStyle",function(Z){var ie=Z.getItemStyle();return Mn(ie,f,g),ie}),l.add(p),c.setItemGraphicEl(g.dataIndex,p);var H=W.get("focus");ne(p,H==="adjacency"?g.getAdjacentDataIndices():H==="trajectory"?g.getTrajectoryDataIndices():H,W.get("blurScope"),W.get("disabled"))}),o.eachNode(function(g){var p=g.getLayout(),d=g.getModel(),S=d.get("localX"),y=d.get("localY"),m=d.getModel("emphasis"),b=d.get(["itemStyle","borderRadius"])||0,w=new Ae({shape:{x:S!=null?S*u:p.x,y:y!=null?y*v:p.y,width:p.dx,height:p.dy,r:b},style:d.getModel("itemStyle").getItemStyle(),z2:10});De(w,ye(d),{labelFetcher:{getFormattedLabel:function(_,A){return e.getFormattedLabel(_,A,"node")}},labelDataIndex:g.dataIndex,defaultText:g.id}),w.disableLabelAnimation=!0,w.setStyle("fill",g.getVisual("color")),w.setStyle("decal",g.getVisual("style").decal),he(w,d),l.add(w),h.setItemGraphicEl(g.dataIndex,w),se(w).dataType="node";var D=m.get("focus");ne(w,D==="adjacency"?g.getAdjacentDataIndices():D==="trajectory"?g.getTrajectoryDataIndices():D,m.get("blurScope"),m.get("disabled"))}),h.eachItemGraphicEl(function(g,p){var d=h.getItemModel(p);d.get("draggable")&&(g.drift=function(S,y){i._focusAdjacencyDisabled=!0,this.shape.x+=S,this.shape.y+=y,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:h.getRawIndex(p),localX:this.shape.x/u,localY:this.shape.y/v})},g.ondragend=function(){i._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&e.isAnimationEnabled()&&l.setClipPath(Gv(l.getBoundingRect(),e,function(){l.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(ee);function Mn(r,t,e){switch(r.fill){case"source":r.fill=e.node1.getVisual("color"),r.decal=e.node1.getVisual("style").decal;break;case"target":r.fill=e.node2.getVisual("color"),r.decal=e.node2.getVisual("style").decal;break;case"gradient":var a=e.node1.getVisual("color"),n=e.node2.getVisual("color");Pe(a)&&Pe(n)&&(r.fill=new ii(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:a,offset:0},{color:n,offset:1}]))}}function Gv(r,t,e){var a=new Ae({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return oe(a,{shape:{width:r.width+20}},t,e),a}var Ov=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){var n=e.edges||e.links||[],i=e.data||e.nodes||[],o=e.levels||[];this.levelModels=[];for(var l=this.levelModels,s=0;s<o.length;s++)o[s].depth!=null&&o[s].depth>=0&&(l[o[s].depth]=new Qe(o[s],this,a));var u=go(i,n,this,!0,v);return u.data;function v(h,c){h.wrapMethod("getItemModel",function(f,g){var p=f.parentModel,d=p.getData().getItemLayout(g);if(d){var S=d.depth,y=p.levelModels[S];y&&(f.parentModel=y)}return f}),c.wrapMethod("getItemModel",function(f,g){var p=f.parentModel,d=p.getGraph().getEdgeByIndex(g),S=d.node1.getLayout();if(S){var y=S.depth,m=p.levelModels[y];m&&(f.parentModel=m)}return f})}},t.prototype.setNodePosition=function(e,a){var n=this.option.data||this.option.nodes,i=n[e];i.localX=a[0],i.localY=a[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,a,n){function i(f){return isNaN(f)||f==null}if(n==="edge"){var o=this.getDataParams(e,n),l=o.data,s=o.value,u=l.source+" -- "+l.target;return Ie("nameValue",{name:u,value:s,noValue:i(s)})}else{var v=this.getGraph().getNodeByIndex(e),h=v.getLayout().value,c=this.getDataParams(e,n).data.name;return Ie("nameValue",{name:c!=null?c+"":null,value:h,noValue:i(h)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,a){var n=r.prototype.getDataParams.call(this,e,a);if(n.value==null&&a==="node"){var i=this.getGraph().getNodeByIndex(e),o=i.getLayout().value;n.value=o}return n},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(re);function Fv(r,t){r.eachSeriesByType("sankey",function(e){var a=e.get("nodeWidth"),n=e.get("nodeGap"),i=Hv(e,t);e.layoutInfo=i;var o=i.width,l=i.height,s=e.getGraph(),u=s.nodes,v=s.edges;Uv(u);var h=ur(u,function(p){return p.getLayout().value===0}),c=h.length!==0?0:e.get("layoutIterations"),f=e.get("orient"),g=e.get("nodeAlign");Wv(u,v,a,n,o,l,c,f,g)})}function Hv(r,t){return st(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Wv(r,t,e,a,n,i,o,l,s){Zv(r,t,e,n,i,l,s),qv(r,t,i,n,a,o,l),nh(r,l)}function Uv(r){k(r,function(t){var e=Ue(t.outEdges,ea),a=Ue(t.inEdges,ea),n=t.getValue()||0,i=Math.max(e,a,n);t.setLayout({value:i},!0)})}function Zv(r,t,e,a,n,i,o){for(var l=[],s=[],u=[],v=[],h=0,c=0;c<t.length;c++)l[c]=1;for(var c=0;c<r.length;c++)s[c]=r[c].inEdges.length,s[c]===0&&u.push(r[c]);for(var f=-1;u.length;){for(var g=0;g<u.length;g++){var p=u[g],d=p.hostGraph.data.getRawDataItem(p.dataIndex),S=d.depth!=null&&d.depth>=0;S&&d.depth>f&&(f=d.depth),p.setLayout({depth:S?d.depth:h},!0),i==="vertical"?p.setLayout({dy:e},!0):p.setLayout({dx:e},!0);for(var y=0;y<p.outEdges.length;y++){var m=p.outEdges[y],b=t.indexOf(m);l[b]=0;var w=m.node2,D=r.indexOf(w);--s[D]===0&&v.indexOf(w)<0&&v.push(w)}}++h,u=v,v=[]}for(var c=0;c<l.length;c++)if(l[c]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var _=f>h-1?f:h-1;o&&o!=="left"&&$v(r,o,i,_);var A=i==="vertical"?(n-e)/_:(a-e)/_;Yv(r,A,i)}function yo(r){var t=r.hostGraph.data.getRawDataItem(r.dataIndex);return t.depth!=null&&t.depth>=0}function $v(r,t,e,a){if(t==="right"){for(var n=[],i=r,o=0;i.length;){for(var l=0;l<i.length;l++){var s=i[l];s.setLayout({skNodeHeight:o},!0);for(var u=0;u<s.inEdges.length;u++){var v=s.inEdges[u];n.indexOf(v.node1)<0&&n.push(v.node1)}}i=n,n=[],++o}k(r,function(h){yo(h)||h.setLayout({depth:Math.max(0,a-h.getLayout().skNodeHeight)},!0)})}else t==="justify"&&Xv(r,a)}function Xv(r,t){k(r,function(e){!yo(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}function Yv(r,t,e){k(r,function(a){var n=a.getLayout().depth*t;e==="vertical"?a.setLayout({y:n},!0):a.setLayout({x:n},!0)})}function qv(r,t,e,a,n,i,o){var l=Kv(r,o);jv(l,t,e,a,n,o),Ma(l,n,e,a,o);for(var s=1;i>0;i--)s*=.99,Jv(l,s,o),Ma(l,n,e,a,o),rh(l,s,o),Ma(l,n,e,a,o)}function Kv(r,t){var e=[],a=t==="vertical"?"y":"x",n=$a(r,function(i){return i.getLayout()[a]});return n.keys.sort(function(i,o){return i-o}),k(n.keys,function(i){e.push(n.buckets.get(i))}),e}function jv(r,t,e,a,n,i){var o=1/0;k(r,function(l){var s=l.length,u=0;k(l,function(h){u+=h.getLayout().value});var v=i==="vertical"?(a-(s-1)*n)/u:(e-(s-1)*n)/u;v<o&&(o=v)}),k(r,function(l){k(l,function(s,u){var v=s.getLayout().value*o;i==="vertical"?(s.setLayout({x:u},!0),s.setLayout({dx:v},!0)):(s.setLayout({y:u},!0),s.setLayout({dy:v},!0))})}),k(t,function(l){var s=+l.getValue()*o;l.setLayout({dy:s},!0)})}function Ma(r,t,e,a,n){var i=n==="vertical"?"x":"y";k(r,function(o){o.sort(function(p,d){return p.getLayout()[i]-d.getLayout()[i]});for(var l,s,u,v=0,h=o.length,c=n==="vertical"?"dx":"dy",f=0;f<h;f++)s=o[f],u=v-s.getLayout()[i],u>0&&(l=s.getLayout()[i]+u,n==="vertical"?s.setLayout({x:l},!0):s.setLayout({y:l},!0)),v=s.getLayout()[i]+s.getLayout()[c]+t;var g=n==="vertical"?a:e;if(u=v-t-g,u>0){l=s.getLayout()[i]-u,n==="vertical"?s.setLayout({x:l},!0):s.setLayout({y:l},!0),v=l;for(var f=h-2;f>=0;--f)s=o[f],u=s.getLayout()[i]+s.getLayout()[c]+t-v,u>0&&(l=s.getLayout()[i]-u,n==="vertical"?s.setLayout({x:l},!0):s.setLayout({y:l},!0)),v=s.getLayout()[i]}})}function Jv(r,t,e){k(r.slice().reverse(),function(a){k(a,function(n){if(n.outEdges.length){var i=Ue(n.outEdges,Qv,e)/Ue(n.outEdges,ea);if(isNaN(i)){var o=n.outEdges.length;i=o?Ue(n.outEdges,eh,e)/o:0}if(e==="vertical"){var l=n.getLayout().x+(i-$e(n,e))*t;n.setLayout({x:l},!0)}else{var s=n.getLayout().y+(i-$e(n,e))*t;n.setLayout({y:s},!0)}}})})}function Qv(r,t){return $e(r.node2,t)*r.getValue()}function eh(r,t){return $e(r.node2,t)}function th(r,t){return $e(r.node1,t)*r.getValue()}function ah(r,t){return $e(r.node1,t)}function $e(r,t){return t==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function ea(r){return r.getValue()}function Ue(r,t,e){for(var a=0,n=r.length,i=-1;++i<n;){var o=+t(r[i],e);isNaN(o)||(a+=o)}return a}function rh(r,t,e){k(r,function(a){k(a,function(n){if(n.inEdges.length){var i=Ue(n.inEdges,th,e)/Ue(n.inEdges,ea);if(isNaN(i)){var o=n.inEdges.length;i=o?Ue(n.inEdges,ah,e)/o:0}if(e==="vertical"){var l=n.getLayout().x+(i-$e(n,e))*t;n.setLayout({x:l},!0)}else{var s=n.getLayout().y+(i-$e(n,e))*t;n.setLayout({y:s},!0)}}})})}function nh(r,t){var e=t==="vertical"?"x":"y";k(r,function(a){a.outEdges.sort(function(n,i){return n.node2.getLayout()[e]-i.node2.getLayout()[e]}),a.inEdges.sort(function(n,i){return n.node1.getLayout()[e]-i.node1.getLayout()[e]})}),k(r,function(a){var n=0,i=0;k(a.outEdges,function(o){o.setLayout({sy:n},!0),n+=o.getLayout().dy}),k(a.inEdges,function(o){o.setLayout({ty:i},!0),i+=o.getLayout().dy})})}function ih(r){r.eachSeriesByType("sankey",function(t){var e=t.getGraph(),a=e.nodes,n=e.edges;if(a.length){var i=1/0,o=-1/0;k(a,function(l){var s=l.getLayout().value;s<i&&(i=s),s>o&&(o=s)}),k(a,function(l){var s=new Ti({type:"color",mappingMethod:"linear",dataExtent:[i,o],visual:t.get("color")}),u=s.mapValueToVisual(l.getLayout().value),v=l.getModel().get(["itemStyle","color"]);v!=null?(l.setVisual("color",v),l.setVisual("style",{fill:v})):(l.setVisual("color",u),l.setVisual("style",{fill:u}))})}n.length&&k(n,function(l){var s=l.getModel().get("lineStyle");l.setVisual("style",s)})})}function gf(r){r.registerChartView(Bv),r.registerSeriesModel(Ov),r.registerLayout(Fv),r.registerVisual(ih),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(a){a.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var mo=function(){function r(){}return r.prototype._hasEncodeRule=function(t){var e=this.getEncode();return e&&e.get(t)!=null},r.prototype.getInitialData=function(t,e){var a,n=e.getComponent("xAxis",this.get("xAxisIndex")),i=e.getComponent("yAxis",this.get("yAxisIndex")),o=n.get("type"),l=i.get("type"),s;o==="category"?(t.layout="horizontal",a=n.getOrdinalMeta(),s=!this._hasEncodeRule("x")):l==="category"?(t.layout="vertical",a=i.getOrdinalMeta(),s=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var u=["x","y"],v=t.layout==="horizontal"?0:1,h=this._baseAxisDim=u[v],c=u[1-v],f=[n,i],g=f[v].get("type"),p=f[1-v].get("type"),d=t.data;if(d&&s){var S=[];k(d,function(b,w){var D;Y(b)?(D=b.slice(),b.unshift(w)):Y(b.value)?(D=$({},b),D.value=D.value.slice(),b.value.unshift(w)):D=b,S.push(D)}),t.data=S}var y=this.defaultValueDimensions,m=[{name:h,type:ja(g),ordinalMeta:a,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:c,type:ja(p),dimsDef:y.slice()}];return ht(this,{coordDimensions:m,dimensionsCount:y.length+1,encodeDefaulter:fe(Yo,m,this)})},r.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},r}(),So=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(re);la(So,mo,!0);var oh=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){var i=e.getData(),o=this.group,l=this._data;this._data||o.removeAll();var s=e.get("layout")==="horizontal"?1:0;i.diff(l).add(function(u){if(i.hasValue(u)){var v=i.getItemLayout(u),h=Vn(v,i,u,s,!0);i.setItemGraphicEl(u,h),o.add(h)}}).update(function(u,v){var h=l.getItemGraphicEl(v);if(!i.hasValue(u)){o.remove(h);return}var c=i.getItemLayout(u);h?(Te(h),bo(c,h,i,u)):h=Vn(c,i,u,s),o.add(h),i.setItemGraphicEl(u,h)}).remove(function(u){var v=l.getItemGraphicEl(u);v&&o.remove(v)}).execute(),this._data=i},t.prototype.remove=function(e){var a=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(i){i&&a.remove(i)})},t.type="boxplot",t}(ee),lh=function(){function r(){}return r}(),sh=function(r){G(t,r);function t(e){var a=r.call(this,e)||this;return a.type="boxplotBoxPath",a}return t.prototype.getDefaultShape=function(){return new lh},t.prototype.buildPath=function(e,a){var n=a.points,i=0;for(e.moveTo(n[i][0],n[i][1]),i++;i<4;i++)e.lineTo(n[i][0],n[i][1]);for(e.closePath();i<n.length;i++)e.moveTo(n[i][0],n[i][1]),i++,e.lineTo(n[i][0],n[i][1])},t}(me);function Vn(r,t,e,a,n){var i=r.ends,o=new sh({shape:{points:n?uh(i,a,r):i}});return bo(r,o,t,e,n),o}function bo(r,t,e,a,n){var i=e.hostModel,o=ra[n?"initProps":"updateProps"];o(t,{shape:{points:r.ends}},i,a),t.useStyle(e.getItemVisual(a,"style")),t.style.strokeNoScale=!0,t.z2=100;var l=e.getItemModel(a),s=l.getModel("emphasis");he(t,l),ne(t,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function uh(r,t,e){return J(r,function(a){return a=a.slice(),a[t]=e.initBaseline,a})}var wt=k;function vh(r){var t=hh(r);wt(t,function(e){var a=e.seriesModels;a.length&&(ch(e),wt(a,function(n,i){fh(n,e.boxOffsetList[i],e.boxWidthList[i])}))})}function hh(r){var t=[],e=[];return r.eachSeriesByType("boxplot",function(a){var n=a.getBaseAxis(),i=vt(e,n);i<0&&(i=e.length,e[i]=n,t[i]={axis:n,seriesModels:[]}),t[i].seriesModels.push(a)}),t}function ch(r){var t=r.axis,e=r.seriesModels,a=e.length,n=r.boxWidthList=[],i=r.boxOffsetList=[],o=[],l;if(t.type==="category")l=t.getBandWidth();else{var s=0;wt(e,function(g){s=Math.max(s,g.getData().count())});var u=t.getExtent();l=Math.abs(u[1]-u[0])/s}wt(e,function(g){var p=g.get("boxWidth");Y(p)||(p=[p,p]),o.push([O(p[0],l)||0,O(p[1],l)||0])});var v=l*.8-2,h=v/a*.3,c=(v-h*(a-1))/a,f=c/2-v/2;wt(e,function(g,p){i.push(f),f+=h+c,n.push(Math.min(Math.max(c,o[p][0]),o[p][1]))})}function fh(r,t,e){var a=r.coordinateSystem,n=r.getData(),i=e/2,o=r.get("layout")==="horizontal"?0:1,l=1-o,s=["x","y"],u=n.mapDimension(s[o]),v=n.mapDimensionsAll(s[l]);if(u==null||v.length<5)return;for(var h=0;h<n.count();h++){var c=n.get(u,h),f=m(c,v[2],h),g=m(c,v[0],h),p=m(c,v[1],h),d=m(c,v[3],h),S=m(c,v[4],h),y=[];b(y,p,!1),b(y,d,!0),y.push(g,p,S,d),w(y,g),w(y,S),w(y,f),n.setItemLayout(h,{initBaseline:f[l],ends:y})}function m(D,_,A){var C=n.get(_,A),I=[];I[o]=D,I[l]=C;var x;return isNaN(D)||isNaN(C)?x=[NaN,NaN]:(x=a.dataToPoint(I),x[o]+=t),x}function b(D,_,A){var C=_.slice(),I=_.slice();C[o]+=i,I[o]-=i,A?D.push(C,I):D.push(I,C)}function w(D,_){var A=_.slice(),C=_.slice();A[o]-=i,C[o]+=i,D.push(A,C)}}function gh(r,t){t=t||{};for(var e=[],a=[],n=t.boundIQR,i=n==="none"||n===0,o=0;o<r.length;o++){var l=qo(r[o].slice()),s=da(l,.25),u=da(l,.5),v=da(l,.75),h=l[0],c=l[l.length-1],f=(n??1.5)*(v-s),g=i?h:Math.max(h,s-f),p=i?c:Math.min(c,v+f),d=t.itemNameFormatter,S=de(d)?d({value:o}):Pe(d)?d.replace("{value}",o+""):o+"";e.push([S,g,s,u,v,p]);for(var y=0;y<l.length;y++){var m=l[y];if(m<g||m>p){var b=[S,m];a.push(b)}}}return{boxData:e,outliers:a}}var ph={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Ko){var a="";ci(a)}var n=gh(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};function pf(r){r.registerSeriesModel(So),r.registerChartView(oh),r.registerLayout(vh),r.registerTransform(ph)}var dh=["itemStyle","borderColor"],yh=["itemStyle","borderColor0"],mh=["itemStyle","borderColorDoji"],Sh=["itemStyle","color"],bh=["itemStyle","color0"];function wr(r,t){return t.get(r>0?Sh:bh)}function Dr(r,t){return t.get(r===0?mh:r>0?dh:yh)}var wh={seriesType:"candlestick",plan:oa(),performRawSeries:!0,reset:function(r,t){if(!t.isSeriesFiltered(r)){var e=r.pipelineContext.large;return!e&&{progress:function(a,n){for(var i;(i=a.next())!=null;){var o=n.getItemModel(i),l=n.getItemLayout(i).sign,s=o.getItemStyle();s.fill=wr(l,o),s.stroke=Dr(l,o)||s.fill;var u=n.ensureUniqueItemVisual(i,"style");$(u,s)}}}}}},Dh=["color","borderColor"],_h=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,a,n){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,a,n,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,a):this._incrementalRenderNormal(e,a)},t.prototype.eachRendered=function(e){aa(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var a=e.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(e){var a=e.getData(),n=this._data,i=this.group,o=a.getLayout("isSimpleBox"),l=e.get("clip",!0),s=e.coordinateSystem,u=s.getArea&&s.getArea();this._data||i.removeAll(),a.diff(n).add(function(v){if(a.hasValue(v)){var h=a.getItemLayout(v);if(l&&kn(u,h))return;var c=Va(h,v,!0);oe(c,{shape:{points:h.ends}},e,v),ka(c,a,v,o),i.add(c),a.setItemGraphicEl(v,c)}}).update(function(v,h){var c=n.getItemGraphicEl(h);if(!a.hasValue(v)){i.remove(c);return}var f=a.getItemLayout(v);if(l&&kn(u,f)){i.remove(c);return}c?(K(c,{shape:{points:f.ends}},e,v),Te(c)):c=Va(f),ka(c,a,v,o),i.add(c),a.setItemGraphicEl(v,c)}).remove(function(v){var h=n.getItemGraphicEl(v);h&&i.remove(h)}).execute(),this._data=a},t.prototype._renderLarge=function(e){this._clear(),zn(e,this.group);var a=e.get("clip",!0)?Nt(e.coordinateSystem,!1,e):null;a?this.group.setClipPath(a):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,a){for(var n=a.getData(),i=n.getLayout("isSimpleBox"),o;(o=e.next())!=null;){var l=n.getItemLayout(o),s=Va(l);ka(s,n,o,i),s.incremental=!0,this.group.add(s),this._progressiveEls.push(s)}},t.prototype._incrementalRenderLarge=function(e,a){zn(a,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(ee),Ah=function(){function r(){}return r}(),xh=function(r){G(t,r);function t(e){var a=r.call(this,e)||this;return a.type="normalCandlestickBox",a}return t.prototype.getDefaultShape=function(){return new Ah},t.prototype.buildPath=function(e,a){var n=a.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},t}(me);function Va(r,t,e){var a=r.ends;return new xh({shape:{points:e?Ih(a,r):a},z2:100})}function kn(r,t){for(var e=!0,a=0;a<t.ends.length;a++)if(r.contain(t.ends[a][0],t.ends[a][1])){e=!1;break}return e}function ka(r,t,e,a){var n=t.getItemModel(e);r.useStyle(t.getItemVisual(e,"style")),r.style.strokeNoScale=!0,r.__simpleBox=a,he(r,n);var i=t.getItemLayout(e).sign;k(r.states,function(l,s){var u=n.getModel(s),v=wr(i,u),h=Dr(i,u)||v,c=l.style||(l.style={});v&&(c.fill=v),h&&(c.stroke=h)});var o=n.getModel("emphasis");ne(r,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function Ih(r,t){return J(r,function(e){return e=e.slice(),e[1]=t.initBaseline,e})}var Lh=function(){function r(){}return r}(),za=function(r){G(t,r);function t(e){var a=r.call(this,e)||this;return a.type="largeCandlestickBox",a}return t.prototype.getDefaultShape=function(){return new Lh},t.prototype.buildPath=function(e,a){for(var n=a.points,i=0;i<n.length;)if(this.__sign===n[i++]){var o=n[i++];e.moveTo(o,n[i++]),e.lineTo(o,n[i++])}else i+=3},t}(me);function zn(r,t,e,a){var n=r.getData(),i=n.getLayout("largePoints"),o=new za({shape:{points:i},__sign:1,ignoreCoarsePointer:!0});t.add(o);var l=new za({shape:{points:i},__sign:-1,ignoreCoarsePointer:!0});t.add(l);var s=new za({shape:{points:i},__sign:0,ignoreCoarsePointer:!0});t.add(s),Ba(1,o,r),Ba(-1,l,r),Ba(0,s,r),a&&(o.incremental=!0,l.incremental=!0),e&&e.push(o,l)}function Ba(r,t,e,a){var n=Dr(r,e)||wr(r,e),i=e.getModel("itemStyle").getItemStyle(Dh);t.useStyle(i),t.style.fill=null,t.style.stroke=n}var wo=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,a,n){var i=a.getItemLayout(e);return i&&n.rect(i.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(re);la(wo,mo,!0);function Th(r){!r||!Y(r.series)||k(r.series,function(t){_l(t)&&t.type==="k"&&(t.type="candlestick")})}var Ch={seriesType:"candlestick",plan:oa(),reset:function(r){var t=r.coordinateSystem,e=r.getData(),a=Ph(r,e),n=0,i=1,o=["x","y"],l=e.getDimensionIndex(e.mapDimension(o[n])),s=J(e.mapDimensionsAll(o[i]),e.getDimensionIndex,e),u=s[0],v=s[1],h=s[2],c=s[3];if(e.setLayout({candleWidth:a,isSimpleBox:a<=1.3}),l<0||s.length<4)return;return{progress:r.pipelineContext.large?g:f};function f(p,d){for(var S,y=d.getStore();(S=p.next())!=null;){var m=y.get(l,S),b=y.get(u,S),w=y.get(v,S),D=y.get(h,S),_=y.get(c,S),A=Math.min(b,w),C=Math.max(b,w),I=M(A,m),x=M(C,m),L=M(D,m),N=M(_,m),P=[];R(P,x,0),R(P,I,1),P.push(B(N),B(x),B(L),B(I));var T=d.getItemModel(S),E=!!T.get(["itemStyle","borderColorDoji"]);d.setItemLayout(S,{sign:Bn(y,S,b,w,v,E),initBaseline:b>w?x[i]:I[i],ends:P,brushRect:V(D,_,m)})}function M(z,F){var W=[];return W[n]=F,W[i]=z,isNaN(F)||isNaN(z)?[NaN,NaN]:t.dataToPoint(W)}function R(z,F,W){var H=F.slice(),Z=F.slice();H[n]=ya(H[n]+a/2,1,!1),Z[n]=ya(Z[n]-a/2,1,!0),W?z.push(H,Z):z.push(Z,H)}function V(z,F,W){var H=M(z,W),Z=M(F,W);return H[n]-=a/2,Z[n]-=a/2,{x:H[0],y:H[1],width:a,height:Z[1]-H[1]}}function B(z){return z[n]=ya(z[n],1),z}}function g(p,d){for(var S=Ke(p.count*4),y=0,m,b=[],w=[],D,_=d.getStore(),A=!!r.get(["itemStyle","borderColorDoji"]);(D=p.next())!=null;){var C=_.get(l,D),I=_.get(u,D),x=_.get(v,D),L=_.get(h,D),N=_.get(c,D);if(isNaN(C)||isNaN(L)||isNaN(N)){S[y++]=NaN,y+=3;continue}S[y++]=Bn(_,D,I,x,v,A),b[n]=C,b[i]=L,m=t.dataToPoint(b,null,w),S[y++]=m?m[0]:NaN,S[y++]=m?m[1]:NaN,b[i]=N,m=t.dataToPoint(b,null,w),S[y++]=m?m[1]:NaN}d.setLayout("largePoints",S)}}};function Bn(r,t,e,a,n,i){var o;return e>a?o=-1:e<a?o=1:o=i?0:t>0?r.get(n,t-1)<=a?1:-1:1,o}function Ph(r,t){var e=r.getBaseAxis(),a,n=e.type==="category"?e.getBandWidth():(a=e.getExtent(),Math.abs(a[1]-a[0])/t.count()),i=O(Ka(r.get("barMaxWidth"),n),n),o=O(Ka(r.get("barMinWidth"),1),n),l=r.get("barWidth");return l!=null?O(l,n):Math.max(Math.min(n/2,i),o)}function df(r){r.registerChartView(_h),r.registerSeriesModel(wo),r.registerPreprocessor(Th),r.registerVisual(wh),r.registerLayout(Ch)}function Gn(r,t){var e=t.rippleEffectColor||t.color;r.eachChild(function(a){a.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var Nh=function(r){G(t,r);function t(e,a){var n=r.call(this)||this,i=new ua(e,a),o=new ae;return n.add(i),n.add(o),n.updateData(e,a),n}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var a=e.symbolType,n=e.color,i=e.rippleNumber,o=this.childAt(1),l=0;l<i;l++){var s=Ce(a,-1,-1,2,2,n);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-l/i*e.period+e.effectOffset;s.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),s.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),o.add(s)}Gn(o,e)},t.prototype.updateEffectAnimation=function(e){for(var a=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],o=0;o<i.length;o++){var l=i[o];if(a[l]!==e[l]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}Gn(n,e)},t.prototype.highlight=function(){vi(this)},t.prototype.downplay=function(){hi(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,a){var n=this,i=e.hostModel;this.childAt(0).updateData(e,a);var o=this.childAt(1),l=e.getItemModel(a),s=e.getItemVisual(a,"symbol"),u=gi(e.getItemVisual(a,"symbolSize")),v=e.getItemVisual(a,"style"),h=v&&v.fill,c=l.getModel("emphasis");o.setScale(u),o.traverse(function(d){d.setStyle("fill",h)});var f=di(e.getItemVisual(a,"symbolOffset"),u);f&&(o.x=f[0],o.y=f[1]);var g=e.getItemVisual(a,"symbolRotate");o.rotation=(g||0)*Math.PI/180||0;var p={};p.showEffectOn=i.get("showEffectOn"),p.rippleScale=l.get(["rippleEffect","scale"]),p.brushType=l.get(["rippleEffect","brushType"]),p.period=l.get(["rippleEffect","period"])*1e3,p.effectOffset=a/e.count(),p.z=i.getShallow("z")||0,p.zlevel=i.getShallow("zlevel")||0,p.symbolType=s,p.color=h,p.rippleEffectColor=l.get(["rippleEffect","color"]),p.rippleNumber=l.get(["rippleEffect","number"]),p.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(d){d==="emphasis"?p.showEffectOn!=="render"&&n.startEffectAnimation(p):d==="normal"&&p.showEffectOn!=="render"&&n.stopEffectAnimation()}),this._effectCfg=p,ne(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(ae),Eh=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._symbolDraw=new sa(Nh)},t.prototype.render=function(e,a,n){var i=e.getData(),o=this._symbolDraw;o.updateData(i,{clipShape:this._getClipShape(e)}),this.group.add(o.group)},t.prototype._getClipShape=function(e){var a=e.coordinateSystem,n=a&&a.getArea&&a.getArea();return e.get("clip",!0)?n:null},t.prototype.updateTransform=function(e,a,n){var i=e.getData();this.group.dirty();var o=Et("").reset(e,a,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var a=e.coordinateSystem;a&&a.getRoamTransform&&(this.group.transform=Al(a.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,a){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(ee),Rh=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,a){return ze(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,a,n){return n.point(a.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(re);function yf(r){r.registerChartView(Eh),r.registerSeriesModel(Rh),r.registerLayout(Et("effectScatter"))}var Do=function(r){G(t,r);function t(e,a,n){var i=r.call(this)||this;return i.add(i.createLine(e,a,n)),i._updateEffectSymbol(e,a),i}return t.prototype.createLine=function(e,a,n){return new Pi(e,a,n)},t.prototype._updateEffectSymbol=function(e,a){var n=e.getItemModel(a),i=n.getModel("effect"),o=i.get("symbolSize"),l=i.get("symbol");Y(o)||(o=[o,o]);var s=e.getItemVisual(a,"style"),u=i.get("color")||s&&s.stroke,v=this.childAt(1);this._symbolType!==l&&(this.remove(v),v=Ce(l,-.5,-.5,1,1,u),v.z2=100,v.culling=!0,this.add(v)),v&&(v.setStyle("shadowColor",u),v.setStyle(i.getItemStyle(["color"])),v.scaleX=o[0],v.scaleY=o[1],v.setColor(u),this._symbolType=l,this._symbolScale=o,this._updateEffectAnimation(e,i,a))},t.prototype._updateEffectAnimation=function(e,a,n){var i=this.childAt(1);if(i){var o=e.getItemLayout(n),l=a.get("period")*1e3,s=a.get("loop"),u=a.get("roundTrip"),v=a.get("constantSpeed"),h=Dt(a.get("delay"),function(f){return f/e.count()*l/3});if(i.ignore=!0,this._updateAnimationPoints(i,o),v>0&&(l=this._getLineLength(i)/v*1e3),l!==this._period||s!==this._loop||u!==this._roundTrip){i.stopAnimation();var c=void 0;de(h)?c=h(n):c=h,i.__t>0&&(c=-l*i.__t),this._animateSymbol(i,l,c,s,u)}this._period=l,this._loop=s,this._roundTrip=u}},t.prototype._animateSymbol=function(e,a,n,i,o){if(a>0){e.__t=0;var l=this,s=e.animate("",i).when(o?a*2:a,{__t:o?2:1}).delay(n).during(function(){l._updateSymbolPosition(e)});i||s.done(function(){l.remove(e)}),s.start()}},t.prototype._getLineLength=function(e){return yt(e.__p1,e.__cp1)+yt(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,a){e.__p1=a[0],e.__p2=a[1],e.__cp1=a[2]||[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]},t.prototype.updateData=function(e,a,n){this.childAt(0).updateData(e,a,n),this._updateEffectSymbol(e,a)},t.prototype._updateSymbolPosition=function(e){var a=e.__p1,n=e.__p2,i=e.__cp1,o=e.__t<1?e.__t:2-e.__t,l=[e.x,e.y],s=l.slice(),u=Di,v=xl;l[0]=u(a[0],i[0],n[0],o),l[1]=u(a[1],i[1],n[1],o);var h=e.__t<1?v(a[0],i[0],n[0],o):v(n[0],i[0],a[0],1-o),c=e.__t<1?v(a[1],i[1],n[1],o):v(n[1],i[1],a[1],1-o);e.rotation=-Math.atan2(c,h)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=yt(s,l)*1.05,o===1&&(l[0]=s[0]+(l[0]-s[0])/2,l[1]=s[1]+(l[1]-s[1])/2)):e.__lastT===1?e.scaleY=2*yt(a,l):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=l[0],e.y=l[1]},t.prototype.updateLayout=function(e,a){this.childAt(0).updateLayout(e,a);var n=e.getItemModel(a).getModel("effect");this._updateEffectAnimation(e,n,a)},t}(ae),_o=function(r){G(t,r);function t(e,a,n){var i=r.call(this)||this;return i._createPolyline(e,a,n),i}return t.prototype._createPolyline=function(e,a,n){var i=e.getItemLayout(a),o=new Tt({shape:{points:i}});this.add(o),this._updateCommonStl(e,a,n)},t.prototype.updateData=function(e,a,n){var i=e.hostModel,o=this.childAt(0),l={shape:{points:e.getItemLayout(a)}};K(o,l,i,a),this._updateCommonStl(e,a,n)},t.prototype._updateCommonStl=function(e,a,n){var i=this.childAt(0),o=e.getItemModel(a),l=n&&n.emphasisLineStyle,s=n&&n.focus,u=n&&n.blurScope,v=n&&n.emphasisDisabled;if(!n||e.hasItemOption){var h=o.getModel("emphasis");l=h.getModel("lineStyle").getLineStyle(),v=h.get("disabled"),s=h.get("focus"),u=h.get("blurScope")}i.useStyle(e.getItemVisual(a,"style")),i.style.fill=null,i.style.strokeNoScale=!0;var c=i.ensureState("emphasis");c.style=l,ne(this,s,u,v)},t.prototype.updateLayout=function(e,a){var n=this.childAt(0);n.setShape("points",e.getItemLayout(a))},t}(ae),Mh=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return t.prototype.createLine=function(e,a,n){return new _o(e,a,n)},t.prototype._updateAnimationPoints=function(e,a){this._points=a;for(var n=[0],i=0,o=1;o<a.length;o++){var l=a[o-1],s=a[o];i+=yt(l,s),n.push(i)}if(i===0){this._length=0;return}for(var o=0;o<n.length;o++)n[o]/=i;this._offsets=n,this._length=i},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var a=e.__t<1?e.__t:2-e.__t,n=this._points,i=this._offsets,o=n.length;if(i){var l=this._lastFrame,s;if(a<this._lastFramePercent){var u=Math.min(l+1,o-1);for(s=u;s>=0&&!(i[s]<=a);s--);s=Math.min(s,o-2)}else{for(s=l;s<o&&!(i[s]>a);s++);s=Math.min(s-1,o-2)}var v=(a-i[s])/(i[s+1]-i[s]),h=n[s],c=n[s+1];e.x=h[0]*(1-v)+v*c[0],e.y=h[1]*(1-v)+v*c[1];var f=e.__t<1?c[0]-h[0]:h[0]-c[0],g=e.__t<1?c[1]-h[1]:h[1]-c[1];e.rotation=-Math.atan2(g,f)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=a,e.ignore=!1}},t}(Do),Vh=function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r}(),kh=function(r){G(t,r);function t(e){var a=r.call(this,e)||this;return a._off=0,a.hoverDataIdx=-1,a}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Vh},t.prototype.buildPath=function(e,a){var n=a.segs,i=a.curveness,o;if(a.polyline)for(o=this._off;o<n.length;){var l=n[o++];if(l>0){e.moveTo(n[o++],n[o++]);for(var s=1;s<l;s++)e.lineTo(n[o++],n[o++])}}else for(o=this._off;o<n.length;){var u=n[o++],v=n[o++],h=n[o++],c=n[o++];if(e.moveTo(u,v),i>0){var f=(u+h)/2-(v-c)*i,g=(v+c)/2-(h-u)*i;e.quadraticCurveTo(f,g,h,c)}else e.lineTo(h,c)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(e,a){var n=this.shape,i=n.segs,o=n.curveness,l=this.style.lineWidth;if(n.polyline)for(var s=0,u=0;u<i.length;){var v=i[u++];if(v>0)for(var h=i[u++],c=i[u++],f=1;f<v;f++){var g=i[u++],p=i[u++];if(Zr(h,c,g,p,l,e,a))return s}s++}else for(var s=0,u=0;u<i.length;){var h=i[u++],c=i[u++],g=i[u++],p=i[u++];if(o>0){var d=(h+g)/2-(c-p)*o,S=(c+p)/2-(g-h)*o;if(Il(h,c,d,S,g,p,l,e,a))return s}else if(Zr(h,c,g,p,l,e,a))return s;s++}return-1},t.prototype.contain=function(e,a){var n=this.transformCoordToLocal(e,a),i=this.getBoundingRect();if(e=n[0],a=n[1],i.contain(e,a)){var o=this.hoverDataIdx=this.findDataIndex(e,a);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var a=this.shape,n=a.segs,i=1/0,o=1/0,l=-1/0,s=-1/0,u=0;u<n.length;){var v=n[u++],h=n[u++];i=Math.min(v,i),l=Math.max(v,l),o=Math.min(h,o),s=Math.max(h,s)}e=this._rect=new ot(i,o,l,s)}return e},t}(me),zh=function(){function r(){this.group=new ae}return r.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},r.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(t,e){var a=this._newAdded[0],n=e.getLayout("linesPoints"),i=a&&a.shape.segs;if(i&&i.length<2e4){var o=i.length,l=new Float32Array(o+n.length);l.set(i),l.set(n,o),a.setShape({segs:l})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:n}),this._setCommon(s,e),s.__startIndex=t.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new kh({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},r.prototype._setCommon=function(t,e,a){var n=e.hostModel;t.setShape({polyline:n.get("polyline"),curveness:n.get(["lineStyle","curveness"])}),t.useStyle(n.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var i=e.getVisual("style");i&&i.stroke&&t.setStyle("stroke",i.stroke),t.setStyle("fill",null);var o=se(t);o.seriesIndex=n.seriesIndex,t.on("mousemove",function(l){o.dataIndex=null;var s=t.hoverDataIdx;s>0&&(o.dataIndex=s+t.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),Ao={seriesType:"lines",plan:oa(),reset:function(r){var t=r.coordinateSystem;if(t){var e=r.get("polyline"),a=r.pipelineContext.large;return{progress:function(n,i){var o=[];if(a){var l=void 0,s=n.end-n.start;if(e){for(var u=0,v=n.start;v<n.end;v++)u+=r.getLineCoordsCount(v);l=new Float32Array(s+u*2)}else l=new Float32Array(s*4);for(var h=0,c=[],v=n.start;v<n.end;v++){var f=r.getLineCoords(v,o);e&&(l[h++]=f);for(var g=0;g<f;g++)c=t.dataToPoint(o[g],!1,c),l[h++]=c[0],l[h++]=c[1]}i.setLayout("linesPoints",l)}else for(var v=n.start;v<n.end;v++){var p=i.getItemModel(v),f=r.getLineCoords(v,o),d=[];if(e)for(var S=0;S<f;S++)d.push(t.dataToPoint(o[S]));else{d[0]=t.dataToPoint(o[0]),d[1]=t.dataToPoint(o[1]);var y=p.get(["lineStyle","curveness"]);+y&&(d[2]=[(d[0][0]+d[1][0])/2-(d[0][1]-d[1][1])*y,(d[0][1]+d[1][1])/2-(d[1][0]-d[0][0])*y])}i.setItemLayout(v,d)}}}}}},Bh=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){var i=e.getData(),o=this._updateLineDraw(i,e),l=e.get("zlevel"),s=e.get(["effect","trailLength"]),u=n.getZr(),v=u.painter.getType()==="svg";v||u.painter.getLayer(l).clear(!0),this._lastZlevel!=null&&!v&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&s>0&&(v||u.configLayer(l,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),o.updateData(i);var h=e.get("clip",!0)&&Nt(e.coordinateSystem,!1,e);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=l,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,a,n){var i=e.getData(),o=this._updateLineDraw(i,e);o.incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},t.prototype.incrementalRender=function(e,a,n){this._lineDraw.incrementalUpdate(e,a.getData()),this._finished=e.end===a.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,a,n){var i=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var l=Ao.reset(e,a,n);l.progress&&l.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},t.prototype._updateLineDraw=function(e,a){var n=this._lineDraw,i=this._showEffect(a),o=!!a.get("polyline"),l=a.pipelineContext,s=l.large;return(!n||i!==this._hasEffet||o!==this._isPolyline||s!==this._isLargeDraw)&&(n&&n.remove(),n=this._lineDraw=s?new zh:new Ci(o?i?Mh:_o:i?Do:Pi),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=s),this.group.add(n.group),n},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var a=e.getZr(),n=a.painter.getType()==="svg";!n&&this._lastZlevel!=null&&a.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,a){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(a)},t.prototype.dispose=function(e,a){this.remove(e,a)},t.type="lines",t}(ee),Gh=typeof Uint32Array>"u"?Array:Uint32Array,Oh=typeof Float64Array>"u"?Array:Float64Array;function On(r){var t=r.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(r.data=J(t,function(e){var a=[e[0].coord,e[1].coord],n={coords:a};return e[0].name&&(n.fromName=e[0].name),e[1].name&&(n.toName=e[1].name),Ll([n,e[0],e[1]])}))}var Fh=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.init=function(e){e.data=e.data||[],On(e);var a=this._processFlatCoordsArray(e.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(e.data=new Float32Array(a.count)),r.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(On(e),e.data){var a=this._processFlatCoordsArray(e.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(e.data=new Float32Array(a.count))}r.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var a=this._processFlatCoordsArray(e.data);a.flatCoords&&(this._flatCoords?(this._flatCoords=qt(this._flatCoords,a.flatCoords),this._flatCoordsOffset=qt(this._flatCoordsOffset,a.flatCoordsOffset)):(this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset),e.data=new Float32Array(a.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var a=this.getData().getItemModel(e),n=a.option instanceof Array?a.option:a.getShallow("coords");return n},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,a){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[e*2],i=this._flatCoordsOffset[e*2+1],o=0;o<i;o++)a[o]=a[o]||[],a[o][0]=this._flatCoords[n+o*2],a[o][1]=this._flatCoords[n+o*2+1];return i}else{for(var l=this._getCoordsFromItemModel(e),o=0;o<l.length;o++)a[o]=a[o]||[],a[o][0]=l[o][0],a[o][1]=l[o][1];return l.length}},t.prototype._processFlatCoordsArray=function(e){var a=0;if(this._flatCoords&&(a=this._flatCoords.length),_e(e[0])){for(var n=e.length,i=new Gh(n),o=new Oh(n),l=0,s=0,u=0,v=0;v<n;){u++;var h=e[v++];i[s++]=l+a,i[s++]=h;for(var c=0;c<h;c++){var f=e[v++],g=e[v++];o[l++]=f,o[l++]=g}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,s),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,a){var n=new tt(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(i,o,l,s){if(i instanceof Array)return NaN;n.hasItemOption=!0;var u=i.value;if(u!=null)return u instanceof Array?u[s]:u}),n},t.prototype.formatTooltip=function(e,a,n){var i=this.getData(),o=i.getItemModel(e),l=o.get("name");if(l)return l;var s=o.get("fromName"),u=o.get("toName"),v=[];return s!=null&&v.push(s),u!=null&&v.push(u),Ie("nameValue",{name:v.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),a=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&a>0?a+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(re);function Ut(r){return r instanceof Array||(r=[r,r]),r}var Hh={seriesType:"lines",reset:function(r){var t=Ut(r.get("symbol")),e=Ut(r.get("symbolSize")),a=r.getData();a.setVisual("fromSymbol",t&&t[0]),a.setVisual("toSymbol",t&&t[1]),a.setVisual("fromSymbolSize",e&&e[0]),a.setVisual("toSymbolSize",e&&e[1]);function n(i,o){var l=i.getItemModel(o),s=Ut(l.getShallow("symbol",!0)),u=Ut(l.getShallow("symbolSize",!0));s[0]&&i.setItemVisual(o,"fromSymbol",s[0]),s[1]&&i.setItemVisual(o,"toSymbol",s[1]),u[0]&&i.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&i.setItemVisual(o,"toSymbolSize",u[1])}return{dataEach:a.hasItemOption?n:null}}};function mf(r){r.registerChartView(Bh),r.registerSeriesModel(Fh),r.registerLayout(Ao),r.registerVisual(Hh)}var Wh=256,Uh=function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=$r.createCanvas();this.canvas=t}return r.prototype.update=function(t,e,a,n,i,o){var l=this._getBrush(),s=this._getGradient(i,"inRange"),u=this._getGradient(i,"outOfRange"),v=this.pointSize+this.blurSize,h=this.canvas,c=h.getContext("2d"),f=t.length;h.width=e,h.height=a;for(var g=0;g<f;++g){var p=t[g],d=p[0],S=p[1],y=p[2],m=n(y);c.globalAlpha=m,c.drawImage(l,d-v,S-v)}if(!h.width||!h.height)return h;for(var b=c.getImageData(0,0,h.width,h.height),w=b.data,D=0,_=w.length,A=this.minOpacity,C=this.maxOpacity,I=C-A;D<_;){var m=w[D+3]/256,x=Math.floor(m*(Wh-1))*4;if(m>0){var L=o(m)?s:u;m>0&&(m=m*I+A),w[D++]=L[x],w[D++]=L[x+1],w[D++]=L[x+2],w[D++]=L[x+3]*m*256}else D+=4}return c.putImageData(b,0,0),h},r.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=$r.createCanvas()),e=this.pointSize+this.blurSize,a=e*2;t.width=a,t.height=a;var n=t.getContext("2d");return n.clearRect(0,0,a,a),n.shadowOffsetX=a,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,Math.PI*2,!0),n.closePath(),n.fill(),t},r.prototype._getGradient=function(t,e){for(var a=this._gradientPixels,n=a[e]||(a[e]=new Uint8ClampedArray(256*4)),i=[0,0,0,0],o=0,l=0;l<256;l++)t[e](l/255,!0,i),n[o++]=i[0],n[o++]=i[1],n[o++]=i[2],n[o++]=i[3];return n},r}();function Zh(r,t,e){var a=r[1]-r[0];t=J(t,function(o){return{interval:[(o.interval[0]-r[0])/a,(o.interval[1]-r[0])/a]}});var n=t.length,i=0;return function(o){var l;for(l=i;l<n;l++){var s=t[l].interval;if(s[0]<=o&&o<=s[1]){i=l;break}}if(l===n)for(l=i-1;l>=0;l--){var s=t[l].interval;if(s[0]<=o&&o<=s[1]){i=l;break}}return l>=0&&l<n&&e[l]}}function $h(r,t){var e=r[1]-r[0];return t=[(t[0]-r[0])/e,(t[1]-r[0])/e],function(a){return a>=t[0]&&a<=t[1]}}function Fn(r){var t=r.dimensions;return t[0]==="lng"&&t[1]==="lat"}var Xh=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){var i;a.eachComponent("visualMap",function(l){l.eachTargetSeries(function(s){s===e&&(i=l)})}),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):Fn(o)&&this._renderOnGeo(o,e,i,n)},t.prototype.incrementalPrepareRender=function(e,a,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,a,n,i){var o=a.coordinateSystem;o&&(Fn(o)?this.render(a,n,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(a,i,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){aa(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,a,n,i,o){var l=e.coordinateSystem,s=va(l,"cartesian2d"),u,v,h,c;if(s){var f=l.getAxis("x"),g=l.getAxis("y");u=f.getBandWidth()+.5,v=g.getBandWidth()+.5,h=f.scale.getExtent(),c=g.scale.getExtent()}for(var p=this.group,d=e.getData(),S=e.getModel(["emphasis","itemStyle"]).getItemStyle(),y=e.getModel(["blur","itemStyle"]).getItemStyle(),m=e.getModel(["select","itemStyle"]).getItemStyle(),b=e.get(["itemStyle","borderRadius"]),w=ye(e),D=e.getModel("emphasis"),_=D.get("focus"),A=D.get("blurScope"),C=D.get("disabled"),I=s?[d.mapDimension("x"),d.mapDimension("y"),d.mapDimension("value")]:[d.mapDimension("time"),d.mapDimension("value")],x=n;x<i;x++){var L=void 0,N=d.getItemVisual(x,"style");if(s){var P=d.get(I[0],x),T=d.get(I[1],x);if(isNaN(d.get(I[2],x))||isNaN(P)||isNaN(T)||P<h[0]||P>h[1]||T<c[0]||T>c[1])continue;var E=l.dataToPoint([P,T]);L=new Ae({shape:{x:E[0]-u/2,y:E[1]-v/2,width:u,height:v},style:N})}else{if(isNaN(d.get(I[1],x)))continue;L=new Ae({z2:1,shape:l.dataToRect([d.get(I[0],x)]).contentShape,style:N})}if(d.hasItemOption){var M=d.getItemModel(x),R=M.getModel("emphasis");S=R.getModel("itemStyle").getItemStyle(),y=M.getModel(["blur","itemStyle"]).getItemStyle(),m=M.getModel(["select","itemStyle"]).getItemStyle(),b=M.get(["itemStyle","borderRadius"]),_=R.get("focus"),A=R.get("blurScope"),C=R.get("disabled"),w=ye(M)}L.shape.r=b;var V=e.getRawValue(x),B="-";V&&V[2]!=null&&(B=V[2]+""),De(L,w,{labelFetcher:e,labelDataIndex:x,defaultOpacity:N.opacity,defaultText:B}),L.ensureState("emphasis").style=S,L.ensureState("blur").style=y,L.ensureState("select").style=m,ne(L,_,A,C),L.incremental=o,o&&(L.states.emphasis.hoverLayer=!0),p.add(L),d.setItemGraphicEl(x,L),this._progressiveEls&&this._progressiveEls.push(L)}},t.prototype._renderOnGeo=function(e,a,n,i){var o=n.targetVisuals.inRange,l=n.targetVisuals.outOfRange,s=a.getData(),u=this._hmLayer||this._hmLayer||new Uh;u.blurSize=a.get("blurSize"),u.pointSize=a.get("pointSize"),u.minOpacity=a.get("minOpacity"),u.maxOpacity=a.get("maxOpacity");var v=e.getViewRect().clone(),h=e.getRoamTransform();v.applyTransform(h);var c=Math.max(v.x,0),f=Math.max(v.y,0),g=Math.min(v.width+v.x,i.getWidth()),p=Math.min(v.height+v.y,i.getHeight()),d=g-c,S=p-f,y=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],m=s.mapArray(y,function(_,A,C){var I=e.dataToPoint([_,A]);return I[0]-=c,I[1]-=f,I.push(C),I}),b=n.getExtent(),w=n.type==="visualMap.continuous"?$h(b,n.option.range):Zh(b,n.getPieceList(),n.option.selected);u.update(m,d,S,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:l.color.getColorMapper()},w);var D=new Pt({style:{width:d,height:S,x:c,y:f,image:u.canvas},silent:!0});this.group.add(D)},t.type="heatmap",t}(ee),Yh=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){return ze(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=pi.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(re);function Sf(r){r.registerChartView(Xh),r.registerSeriesModel(Yh)}var qh=["itemStyle","borderWidth"],Hn=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Ga=new si,Kh=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){var i=this.group,o=e.getData(),l=this._data,s=e.coordinateSystem,u=s.getBaseAxis(),v=u.isHorizontal(),h=s.master.getRect(),c={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:s,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:v,valueDim:Hn[+v],categoryDim:Hn[1-+v]};o.diff(l).add(function(g){if(o.hasValue(g)){var p=Un(o,g),d=Wn(o,g,p,c),S=Zn(o,c,d);o.setItemGraphicEl(g,S),i.add(S),Xn(S,c,d)}}).update(function(g,p){var d=l.getItemGraphicEl(p);if(!o.hasValue(g)){i.remove(d);return}var S=Un(o,g),y=Wn(o,g,S,c),m=Po(o,y);d&&m!==d.__pictorialShapeStr&&(i.remove(d),o.setItemGraphicEl(g,null),d=null),d?rc(d,c,y):d=Zn(o,c,y,!0),o.setItemGraphicEl(g,d),d.__pictorialSymbolMeta=y,i.add(d),Xn(d,c,y)}).remove(function(g){var p=l.getItemGraphicEl(g);p&&$n(l,g,p.__pictorialSymbolMeta.animationModel,p)}).execute();var f=e.get("clip",!0)?Nt(e.coordinateSystem,!1,e):null;return f?i.setClipPath(f):i.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(e,a){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(o){$n(i,se(o).dataIndex,e,o)}):n.removeAll()},t.type="pictorialBar",t}(ee);function Wn(r,t,e,a){var n=r.getItemLayout(t),i=e.get("symbolRepeat"),o=e.get("symbolClip"),l=e.get("symbolPosition")||"start",s=e.get("symbolRotate"),u=(s||0)*Math.PI/180||0,v=e.get("symbolPatternSize")||2,h=e.isAnimationEnabled(),c={dataIndex:t,layout:n,itemModel:e,symbolType:r.getItemVisual(t,"symbol")||"circle",style:r.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:i,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:u,animationModel:h?e:null,hoverScale:h&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};jh(e,i,n,a,c),Jh(r,t,n,i,o,c.boundingLength,c.pxSign,v,a,c),Qh(e,c.symbolScale,u,a,c);var f=c.symbolSize,g=di(e.get("symbolOffset"),f);return ec(e,f,n,i,o,g,l,c.valueLineWidth,c.boundingLength,c.repeatCutLength,a,c),c}function jh(r,t,e,a,n){var i=a.valueDim,o=r.get("symbolBoundingData"),l=a.coordSys.getOtherAxis(a.coordSys.getBaseAxis()),s=l.toGlobalCoord(l.dataToCoord(0)),u=1-+(e[i.wh]<=0),v;if(Y(o)){var h=[Oa(l,o[0])-s,Oa(l,o[1])-s];h[1]<h[0]&&h.reverse(),v=h[u]}else o!=null?v=Oa(l,o)-s:t?v=a.coordSysExtent[i.index][u]-s:v=e[i.wh];n.boundingLength=v,t&&(n.repeatCutLength=e[i.wh]);var c=i.xy==="x",f=l.inverse;n.pxSign=c&&!f||!c&&f?v>=0?1:-1:v>0?1:-1}function Oa(r,t){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(t)))}function Jh(r,t,e,a,n,i,o,l,s,u){var v=s.valueDim,h=s.categoryDim,c=Math.abs(e[h.wh]),f=r.getItemVisual(t,"symbolSize"),g;Y(f)?g=f.slice():f==null?g=["100%","100%"]:g=[f,f],g[h.index]=O(g[h.index],c),g[v.index]=O(g[v.index],a?c:Math.abs(i)),u.symbolSize=g;var p=u.symbolScale=[g[0]/l,g[1]/l];p[v.index]*=(s.isHorizontal?-1:1)*o}function Qh(r,t,e,a,n){var i=r.get(qh)||0;i&&(Ga.attr({scaleX:t[0],scaleY:t[1],rotation:e}),Ga.updateTransform(),i/=Ga.getLineScale(),i*=t[a.valueDim.index]),n.valueLineWidth=i||0}function ec(r,t,e,a,n,i,o,l,s,u,v,h){var c=v.categoryDim,f=v.valueDim,g=h.pxSign,p=Math.max(t[f.index]+l,0),d=p;if(a){var S=Math.abs(s),y=Dt(r.get("symbolMargin"),"15%")+"",m=!1;y.lastIndexOf("!")===y.length-1&&(m=!0,y=y.slice(0,y.length-1));var b=O(y,t[f.index]),w=Math.max(p+b*2,0),D=m?0:b*2,_=jo(a),A=_?a:Yn((S+D)/w),C=S-A*p;b=C/2/(m?A:Math.max(A-1,1)),w=p+b*2,D=m?0:b*2,!_&&a!=="fixed"&&(A=u?Yn((Math.abs(u)+D)/w):0),d=A*w-D,h.repeatTimes=A,h.symbolMargin=b}var I=g*(d/2),x=h.pathPosition=[];x[c.index]=e[c.wh]/2,x[f.index]=o==="start"?I:o==="end"?s-I:s/2,i&&(x[0]+=i[0],x[1]+=i[1]);var L=h.bundlePosition=[];L[c.index]=e[c.xy],L[f.index]=e[f.xy];var N=h.barRectShape=$({},e);N[f.wh]=g*Math.max(Math.abs(e[f.wh]),Math.abs(x[f.index]+I)),N[c.wh]=e[c.wh];var P=h.clipShape={};P[c.xy]=-e[c.xy],P[c.wh]=v.ecSize[c.wh],P[f.xy]=0,P[f.wh]=e[f.wh]}function xo(r){var t=r.symbolPatternSize,e=Ce(r.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function Io(r,t,e,a){var n=r.__pictorialBundle,i=e.symbolSize,o=e.valueLineWidth,l=e.pathPosition,s=t.valueDim,u=e.repeatTimes||0,v=0,h=i[t.valueDim.index]+o+e.symbolMargin*2;for(_r(r,function(p){p.__pictorialAnimationIndex=v,p.__pictorialRepeatTimes=u,v<u?it(p,null,g(v),e,a):it(p,null,{scaleX:0,scaleY:0},e,a,function(){n.remove(p)}),v++});v<u;v++){var c=xo(e);c.__pictorialAnimationIndex=v,c.__pictorialRepeatTimes=u,n.add(c);var f=g(v);it(c,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},e,a)}function g(p){var d=l.slice(),S=e.pxSign,y=p;return(e.symbolRepeatDirection==="start"?S>0:S<0)&&(y=u-1-p),d[s.index]=h*(y-u/2+.5)+l[s.index],{x:d[0],y:d[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function Lo(r,t,e,a){var n=r.__pictorialBundle,i=r.__pictorialMainPath;i?it(i,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,a):(i=r.__pictorialMainPath=xo(e),n.add(i),it(i,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,a))}function To(r,t,e){var a=$({},t.barRectShape),n=r.__pictorialBarRect;n?it(n,null,{shape:a},t,e):(n=r.__pictorialBarRect=new Ae({z2:2,shape:a,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),n.disableMorphing=!0,r.add(n))}function Co(r,t,e,a){if(e.symbolClip){var n=r.__pictorialClipPath,i=$({},e.clipShape),o=t.valueDim,l=e.animationModel,s=e.dataIndex;if(n)K(n,{shape:i},l,s);else{i[o.wh]=0,n=new Ae({shape:i}),r.__pictorialBundle.setClipPath(n),r.__pictorialClipPath=n;var u={};u[o.wh]=e.clipShape[o.wh],ra[a?"updateProps":"initProps"](n,{shape:u},l,s)}}}function Un(r,t){var e=r.getItemModel(t);return e.getAnimationDelayParams=tc,e.isAnimationEnabled=ac,e}function tc(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function ac(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Zn(r,t,e,a){var n=new ae,i=new ae;return n.add(i),n.__pictorialBundle=i,i.x=e.bundlePosition[0],i.y=e.bundlePosition[1],e.symbolRepeat?Io(n,t,e):Lo(n,t,e),To(n,e,a),Co(n,t,e,a),n.__pictorialShapeStr=Po(r,e),n.__pictorialSymbolMeta=e,n}function rc(r,t,e){var a=e.animationModel,n=e.dataIndex,i=r.__pictorialBundle;K(i,{x:e.bundlePosition[0],y:e.bundlePosition[1]},a,n),e.symbolRepeat?Io(r,t,e,!0):Lo(r,t,e,!0),To(r,e,!0),Co(r,t,e,!0)}function $n(r,t,e,a){var n=a.__pictorialBarRect;n&&n.removeTextContent();var i=[];_r(a,function(o){i.push(o)}),a.__pictorialMainPath&&i.push(a.__pictorialMainPath),a.__pictorialClipPath&&(e=null),k(i,function(o){Xt(o,{scaleX:0,scaleY:0},e,t,function(){a.parent&&a.parent.remove(a)})}),r.setItemGraphicEl(t,null)}function Po(r,t){return[r.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function _r(r,t,e){k(r.__pictorialBundle.children(),function(a){a!==r.__pictorialBarRect&&t.call(e,a)})}function it(r,t,e,a,n,i){t&&r.attr(t),a.symbolClip&&!n?e&&r.attr(e):e&&ra[n?"updateProps":"initProps"](r,e,a.animationModel,a.dataIndex,i)}function Xn(r,t,e){var a=e.dataIndex,n=e.itemModel,i=n.getModel("emphasis"),o=i.getModel("itemStyle").getItemStyle(),l=n.getModel(["blur","itemStyle"]).getItemStyle(),s=n.getModel(["select","itemStyle"]).getItemStyle(),u=n.getShallow("cursor"),v=i.get("focus"),h=i.get("blurScope"),c=i.get("scale");_r(r,function(p){if(p instanceof Pt){var d=p.style;p.useStyle($({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},e.style))}else p.useStyle(e.style);var S=p.ensureState("emphasis");S.style=o,c&&(S.scaleX=p.scaleX*1.1,S.scaleY=p.scaleY*1.1),p.ensureState("blur").style=l,p.ensureState("select").style=s,u&&(p.cursor=u),p.z2=e.z2});var f=t.valueDim.posDesc[+(e.boundingLength>0)],g=r.__pictorialBarRect;g.ignoreClip=!0,De(g,ye(n),{labelFetcher:t.seriesModel,labelDataIndex:a,defaultText:_t(t.seriesModel.getData(),a),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:f}),ne(r,v,h,i.get("disabled"))}function Yn(r){var t=Math.round(r);return Math.abs(r-t)<1e-4?t:Math.ceil(r)}var nc=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return t.prototype.getInitialData=function(e){return e.stack=null,r.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=oi(At.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(At);function bf(r){r.registerChartView(Kh),r.registerSeriesModel(nc),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,fe(Ni,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ei("pictorialBar"))}var ic=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return t.prototype.render=function(e,a,n){var i=e.getData(),o=this,l=this.group,s=e.getLayerSeries(),u=i.getLayout("layoutInfo"),v=u.rect,h=u.boundaryGap;l.x=0,l.y=v.y+h[0];function c(d){return d.name}var f=new ca(this._layersSeries||[],s,c,c),g=[];f.add(le(p,this,"add")).update(le(p,this,"update")).remove(le(p,this,"remove")).execute();function p(d,S,y){var m=o._layers;if(d==="remove"){l.remove(m[S]);return}for(var b=[],w=[],D,_=s[S].indices,A=0;A<_.length;A++){var C=i.getItemLayout(_[A]),I=C.x,x=C.y0,L=C.y;b.push(I,x),w.push(I,x+L),D=i.getItemVisual(_[A],"style")}var N,P=i.getItemLayout(_[0]),T=e.getModel("label"),E=T.get("margin"),M=e.getModel("emphasis");if(d==="add"){var R=g[S]=new ae;N=new Bi({shape:{points:b,stackedOnPoints:w,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),R.add(N),l.add(R),e.isAnimationEnabled()&&N.setClipPath(oc(N.getBoundingRect(),e,function(){N.removeClipPath()}))}else{var R=m[y];N=R.childAt(0),l.add(R),g[S]=R,K(N,{shape:{points:b,stackedOnPoints:w}},e),Te(N)}De(N,ye(e),{labelDataIndex:_[A-1],defaultText:i.getName(_[A-1]),inheritColor:D.fill},{normal:{verticalAlign:"middle"}}),N.setTextConfig({position:null,local:!0});var V=N.getTextContent();V&&(V.x=P.x-E,V.y=P.y0+P.y/2),N.useStyle(D),i.setItemGraphicEl(S,N),he(N,e),ne(N,M.get("focus"),M.get("blurScope"),M.get("disabled"))}this._layersSeries=s,this._layers=g},t.type="themeRiver",t}(ee);function oc(r,t,e){var a=new Ae({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return oe(a,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},t,e),a}var Fa=2,lc=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Mt(le(this.getData,this),le(this.getRawData,this))},t.prototype.fixData=function(e){var a=e.length,n={},i=$a(e,function(c){return n.hasOwnProperty(c[0]+"")||(n[c[0]+""]=-1),c[2]}),o=[];i.buckets.each(function(c,f){o.push({name:f,dataList:c})});for(var l=o.length,s=0;s<l;++s){for(var u=o[s].name,v=0;v<o[s].dataList.length;++v){var h=o[s].dataList[v][0]+"";n[h]=s}for(var h in n)n.hasOwnProperty(h)&&n[h]!==s&&(n[h]=s,e[a]=[h,0,u],a++)}return e},t.prototype.getInitialData=function(e,a){for(var n=this.getReferringComponents("singleAxis",Jo).models[0],i=n.get("type"),o=ur(e.data,function(g){return g[2]!==void 0}),l=this.fixData(o||[]),s=[],u=this.nameMap=et(),v=0,h=0;h<l.length;++h)s.push(l[h][Fa]),u.get(l[h][Fa])||(u.set(l[h][Fa],v),v++);var c=ia(l,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:ja(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,f=new tt(c,this);return f.initData(l),f},t.prototype.getLayerSeries=function(){for(var e=this.getData(),a=e.count(),n=[],i=0;i<a;++i)n[i]=i;var o=e.mapDimension("single"),l=$a(n,function(u){return e.get("name",u)}),s=[];return l.buckets.each(function(u,v){u.sort(function(h,c){return e.get(o,h)-e.get(o,c)}),s.push({name:v,indices:u})}),s},t.prototype.getAxisTooltipData=function(e,a,n){Y(e)||(e=e?[e]:[]);for(var i=this.getData(),o=this.getLayerSeries(),l=[],s=o.length,u,v=0;v<s;++v){for(var h=Number.MAX_VALUE,c=-1,f=o[v].indices.length,g=0;g<f;++g){var p=i.get(e[0],o[v].indices[g]),d=Math.abs(p-a);d<=h&&(u=p,h=d,c=o[v].indices[g])}l.push(c)}return{dataIndices:l,nestestValue:u}},t.prototype.formatTooltip=function(e,a,n){var i=this.getData(),o=i.getName(e),l=i.get(i.mapDimension("value"),e);return Ie("nameValue",{name:o,value:l})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(re);function sc(r,t){r.eachSeriesByType("themeRiver",function(e){var a=e.getData(),n=e.coordinateSystem,i={},o=n.getRect();i.rect=o;var l=e.get("boundaryGap"),s=n.getAxis();if(i.boundaryGap=l,s.orient==="horizontal"){l[0]=O(l[0],o.height),l[1]=O(l[1],o.height);var u=o.height-l[0]-l[1];qn(a,e,u)}else{l[0]=O(l[0],o.width),l[1]=O(l[1],o.width);var v=o.width-l[0]-l[1];qn(a,e,v)}a.setLayout("layoutInfo",i)})}function qn(r,t,e){if(r.count())for(var a=t.coordinateSystem,n=t.getLayerSeries(),i=r.mapDimension("single"),o=r.mapDimension("value"),l=J(n,function(d){return J(d.indices,function(S){var y=a.dataToPoint(r.get(i,S));return y[1]=r.get(o,S),y})}),s=uc(l),u=s.y0,v=e/s.max,h=n.length,c=n[0].indices.length,f,g=0;g<c;++g){f=u[g]*v,r.setItemLayout(n[0].indices[g],{layerIndex:0,x:l[0][g][0],y0:f,y:l[0][g][1]*v});for(var p=1;p<h;++p)f+=l[p-1][g][1]*v,r.setItemLayout(n[p].indices[g],{layerIndex:p,x:l[p][g][0],y0:f,y:l[p][g][1]*v})}}function uc(r){for(var t=r.length,e=r[0].length,a=[],n=[],i=0,o=0;o<e;++o){for(var l=0,s=0;s<t;++s)l+=r[s][o][1];l>i&&(i=l),a.push(l)}for(var u=0;u<e;++u)n[u]=(i-a[u])/2;i=0;for(var v=0;v<e;++v){var h=a[v]+n[v];h>i&&(i=h)}return{y0:n,max:i}}function wf(r){r.registerChartView(ic),r.registerSeriesModel(lc),r.registerLayout(sc),r.registerProcessor(Rt("themeRiver"))}var vc=2,hc=4,Kn=function(r){G(t,r);function t(e,a,n,i){var o=r.call(this)||this;o.z2=vc,o.textConfig={inside:!0},se(o).seriesIndex=a.seriesIndex;var l=new Le({z2:hc,silent:e.getModel().get(["label","silent"])});return o.setTextContent(l),o.updateData(!0,e,a,n,i),o}return t.prototype.updateData=function(e,a,n,i,o){this.node=a,a.piece=this,n=n||this._seriesModel,i=i||this._ecModel;var l=this;se(l).dataIndex=a.dataIndex;var s=a.getModel(),u=s.getModel("emphasis"),v=a.getLayout(),h=$({},v);h.label=null;var c=a.getVisual("style");c.lineJoin="bevel";var f=a.getVisual("decal");f&&(c.decal=yi(f,o));var g=je(s.getModel("itemStyle"),h,!0);$(h,g),k(Za,function(y){var m=l.ensureState(y),b=s.getModel([y,"itemStyle"]);m.style=b.getItemStyle();var w=je(b,h);w&&(m.shape=w)}),e?(l.setShape(h),l.shape.r=v.r0,oe(l,{shape:{r:v.r}},n,a.dataIndex)):(K(l,{shape:h},n),Te(l)),l.useStyle(c),this._updateLabel(n);var p=s.getShallow("cursor");p&&l.attr("cursor",p),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel;var d=u.get("focus"),S=d==="relative"?qt(a.getAncestorsIndices(),a.getDescendantIndices()):d==="ancestor"?a.getAncestorsIndices():d==="descendant"?a.getDescendantIndices():d;ne(this,S,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e){var a=this,n=this.node.getModel(),i=n.getModel("label"),o=this.node.getLayout(),l=o.endAngle-o.startAngle,s=(o.startAngle+o.endAngle)/2,u=Math.cos(s),v=Math.sin(s),h=this,c=h.getTextContent(),f=this.node.dataIndex,g=i.get("minAngle")/180*Math.PI,p=i.get("show")&&!(g!=null&&Math.abs(l)<g);c.ignore=!p,k(el,function(S){var y=S==="normal"?n.getModel("label"):n.getModel([S,"label"]),m=S==="normal",b=m?c:c.ensureState(S),w=e.getFormattedLabel(f,S);m&&(w=w||a.node.name),b.style=Ee(y,{},null,S!=="normal",!0),w&&(b.style.text=w);var D=y.get("show");D!=null&&!m&&(b.ignore=!D);var _=d(y,"position"),A=m?h:h.states[S],C=A.style.fill;A.textConfig={outsideFill:y.get("color")==="inherit"?C:null,inside:_!=="outside"};var I,x=d(y,"distance")||0,L=d(y,"align"),N=d(y,"rotate"),P=Math.PI*.5,T=Math.PI*1.5,E=zt(N==="tangential"?Math.PI/2-s:s),M=E>P&&!Qo(E-P)&&E<T;_==="outside"?(I=o.r+x,L=M?"right":"left"):!L||L==="center"?(l===2*Math.PI&&o.r0===0?I=0:I=(o.r+o.r0)/2,L="center"):L==="left"?(I=o.r0+x,L=M?"right":"left"):L==="right"&&(I=o.r-x,L=M?"left":"right"),b.style.align=L,b.style.verticalAlign=d(y,"verticalAlign")||"middle",b.x=I*u+o.cx,b.y=I*v+o.cy;var R=0;N==="radial"?R=zt(-s)+(M?Math.PI:0):N==="tangential"?R=zt(Math.PI/2-s)+(M?Math.PI:0):_e(N)&&(R=N*Math.PI/180),b.rotation=zt(R)});function d(S,y){var m=S.get(y);return m??i.get(y)}c.dirtyStyle()},t}(Ze),rr="sunburstRootToNode",jn="sunburstHighlight",cc="sunburstUnhighlight";function fc(r){r.registerAction({type:rr,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},a);function a(n,i){var o=xt(t,[rr],n);if(o){var l=n.getViewRoot();l&&(t.direction=dr(l,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}}}),r.registerAction({type:jn,update:"none"},function(t,e,a){t=$({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(i){var o=xt(t,[jn],i);o&&(t.dataIndex=o.node.dataIndex)}a.dispatchAction($(t,{type:"highlight"}))}),r.registerAction({type:cc,update:"updateView"},function(t,e,a){t=$({},t),a.dispatchAction($(t,{type:"downplay"}))})}var gc=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n,i){var o=this;this.seriesModel=e,this.api=n,this.ecModel=a;var l=e.getData(),s=l.tree.root,u=e.getViewRoot(),v=this.group,h=e.get("renderLabelForZeroData"),c=[];u.eachNode(function(y){c.push(y)});var f=this._oldChildren||[];g(c,f),S(s,u),this._initEvents(),this._oldChildren=c;function g(y,m){if(y.length===0&&m.length===0)return;new ca(m,y,b,b).add(w).update(w).remove(fe(w,null)).execute();function b(D){return D.getId()}function w(D,_){var A=D==null?null:y[D],C=_==null?null:m[_];p(A,C)}}function p(y,m){if(!h&&y&&!y.getValue()&&(y=null),y!==s&&m!==s){if(m&&m.piece)y?(m.piece.updateData(!1,y,e,a,n),l.setItemGraphicEl(y.dataIndex,m.piece)):d(m);else if(y){var b=new Kn(y,e,a,n);v.add(b),l.setItemGraphicEl(y.dataIndex,b)}}}function d(y){y&&y.piece&&(v.remove(y.piece),y.piece=null)}function S(y,m){m.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,y,e,a,n):(o.virtualPiece=new Kn(y,e,a,n),v.add(o.virtualPiece)),m.piece.off("click"),o.virtualPiece.on("click",function(b){o._rootToNode(m.parentNode)})):o.virtualPiece&&(v.remove(o.virtualPiece),o.virtualPiece=null)}},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(a){var n=!1,i=e.seriesModel.getViewRoot();i.eachNode(function(o){if(!n&&o.piece&&o.piece===a.target){var l=o.getModel().get("nodeClick");if(l==="rootToNode")e._rootToNode(o);else if(l==="link"){var s=o.getModel(),u=s.get("link");if(u){var v=s.get("target",!0)||"_blank";ui(u,v)}}n=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:rr,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,a){var n=a.getData(),i=n.getItemLayout(0);if(i){var o=e[0]-i.cx,l=e[1]-i.cy,s=Math.sqrt(o*o+l*l);return s<=i.r&&s>=i.r0}},t.type="sunburst",t}(ee),pc=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e,a){var n={name:e.name,children:e.data};No(n);var i=this._levelModels=J(e.levels||[],function(s){return new Qe(s,this,a)},this),o=pr.createTree(n,this,l);function l(s){s.wrapMethod("getItemModel",function(u,v){var h=o.getNodeByDataIndex(v),c=i[h.depth];return c&&(u.parentModel=c),u})}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var a=r.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return a.treePathInfo=fa(n,this),a},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var a=this.getRawData().tree.root;(!e||e!==a&&!a.contains(e))&&(this._viewRoot=a)},t.prototype.enableAriaDecal=function(){eo(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(re);function No(r){var t=0;k(r.children,function(a){No(a);var n=a.value;Y(n)&&(n=n[0]),t+=n});var e=r.value;Y(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Y(r.value)?r.value[0]=e:r.value=e}var Jn=Math.PI/180;function dc(r,t,e){t.eachSeriesByType(r,function(a){var n=a.get("center"),i=a.get("radius");Y(i)||(i=[0,i]),Y(n)||(n=[n,n]);var o=e.getWidth(),l=e.getHeight(),s=Math.min(o,l),u=O(n[0],o),v=O(n[1],l),h=O(i[0],s/2),c=O(i[1],s/2),f=-a.get("startAngle")*Jn,g=a.get("minAngle")*Jn,p=a.getData().tree.root,d=a.getViewRoot(),S=d.depth,y=a.get("sort");y!=null&&Eo(d,y);var m=0;k(d.children,function(E){!isNaN(E.getValue())&&m++});var b=d.getValue(),w=Math.PI/(b||m)*2,D=d.depth>0,_=d.height-(D?-1:1),A=(c-h)/(_||1),C=a.get("clockwise"),I=a.get("stillShowZeroSum"),x=C?1:-1,L=function(E,M){if(E){var R=M;if(E!==p){var V=E.getValue(),B=b===0&&I?w:V*w;B<g&&(B=g),R=M+x*B;var z=E.depth-S-(D?-1:1),F=h+A*z,W=h+A*(z+1),H=a.getLevelModel(E);if(H){var Z=H.get("r0",!0),ie=H.get("r",!0),xe=H.get("radius",!0);xe!=null&&(Z=xe[0],ie=xe[1]),Z!=null&&(F=O(Z,s/2)),ie!=null&&(W=O(ie,s/2))}E.setLayout({angle:B,startAngle:M,endAngle:R,clockwise:C,cx:u,cy:v,r0:F,r:W})}if(E.children&&E.children.length){var X=0;k(E.children,function(U){X+=L(U,M+X)})}return R-M}};if(D){var N=h,P=h+A,T=Math.PI*2;p.setLayout({angle:T,startAngle:f,endAngle:f+T,clockwise:C,cx:u,cy:v,r0:N,r:P})}L(d,f)})}function Eo(r,t){var e=r.children||[];r.children=yc(e,t),e.length&&k(r.children,function(a){Eo(a,t)})}function yc(r,t){if(de(t)){var e=J(r,function(n,i){var o=n.getValue();return{params:{depth:n.depth,height:n.height,dataIndex:n.dataIndex,getValue:function(){return o}},index:i}});return e.sort(function(n,i){return t(n.params,i.params)}),J(e,function(n){return r[n.index]})}else{var a=t==="asc";return r.sort(function(n,i){var o=(n.getValue()-i.getValue())*(a?1:-1);return o===0?(n.dataIndex-i.dataIndex)*(a?-1:1):o})}}function mc(r){var t={};function e(a,n,i){for(var o=a;o&&o.depth>1;)o=o.parentNode;var l=n.getColorFromPalette(o.name||o.dataIndex+"",t);return a.depth>1&&Pe(l)&&(l=Tl(l,(a.depth-1)/(i-1)*.5)),l}r.eachSeriesByType("sunburst",function(a){var n=a.getData(),i=n.tree;i.eachNode(function(o){var l=o.getModel(),s=l.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e(o,a,i.root.height));var u=n.ensureUniqueItemVisual(o.dataIndex,"style");$(u,s)})})}function Df(r){r.registerChartView(gc),r.registerSeriesModel(pc),r.registerLayout(fe(dc,"sunburst")),r.registerProcessor(fe(Rt,"sunburst")),r.registerVisual(mc),fc(r)}var Qn={color:"fill",borderColor:"stroke"},Sc={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Ve=lt(),bc=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,a){return ze(null,this)},t.prototype.getDataParams=function(e,a,n){var i=r.prototype.getDataParams.call(this,e,a);return n&&(i.info=Ve(n).info),i},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(re);function wc(r,t){return t=t||[0,0],J(["x","y"],function(e,a){var n=this.getAxis(e),i=t[a],o=r[a]/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(i-o)-n.dataToCoord(i+o))},this)}function Dc(r){var t=r.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:le(wc,r)}}}function _c(r,t){return t=t||[0,0],J([0,1],function(e){var a=t[e],n=r[e]/2,i=[],o=[];return i[e]=a-n,o[e]=a+n,i[1-e]=o[1-e]=t[1-e],Math.abs(this.dataToPoint(i)[e]-this.dataToPoint(o)[e])},this)}function Ac(r){var t=r.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:r.getZoom()},api:{coord:function(e){return r.dataToPoint(e)},size:le(_c,r)}}}function xc(r,t){var e=this.getAxis(),a=t instanceof Array?t[0]:t,n=(r instanceof Array?r[0]:r)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(a-n)-e.dataToCoord(a+n))}function Ic(r){var t=r.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:le(xc,r)}}}function Lc(r,t){return t=t||[0,0],J(["Radius","Angle"],function(e,a){var n="get"+e+"Axis",i=this[n](),o=t[a],l=r[a]/2,s=i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(o-l)-i.dataToCoord(o+l));return e==="Angle"&&(s=s*Math.PI/180),s},this)}function Tc(r){var t=r.getRadiusAxis(),e=r.getAngleAxis(),a=t.getExtent();return a[0]>a[1]&&a.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:a[1],r0:a[0]},api:{coord:function(n){var i=t.dataToRadius(n[0]),o=e.dataToAngle(n[1]),l=r.coordToPoint([i,o]);return l.push(i,o*Math.PI/180),l},size:le(Lc,r)}}}function Cc(r){var t=r.getRect(),e=r.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(a,n){return r.dataToPoint(a,n)}}}}var ke="emphasis",He="normal",Ar="blur",xr="select",Xe=[He,ke,Ar,xr],Ha={normal:["itemStyle"],emphasis:[ke,"itemStyle"],blur:[Ar,"itemStyle"],select:[xr,"itemStyle"]},Wa={normal:["label"],emphasis:[ke,"label"],blur:[Ar,"label"],select:[xr,"label"]},Pc=["x","y"],Nc="e\0\0",Se={normal:{},emphasis:{},blur:{},select:{}},Ec={cartesian2d:Dc,geo:Ac,single:Ic,polar:Tc,calendar:Cc};function nr(r){return r instanceof me}function ir(r){return r instanceof bi}function Rc(r,t){t.copyTransform(r),ir(t)&&ir(r)&&(t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t.invisible=r.invisible,t.ignore=r.ignore,nr(t)&&nr(r)&&t.setShape(r.shape))}var Mc=function(r){G(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n,i){this._progressiveEls=null;var o=this._data,l=e.getData(),s=this.group,u=ei(e,l,a,n);o||s.removeAll(),l.diff(o).add(function(h){Ua(n,null,h,u(h,i),e,s,l)}).remove(function(h){var c=o.getItemGraphicEl(h);c&&fr(c,Ve(c).option,e)}).update(function(h,c){var f=o.getItemGraphicEl(c);Ua(n,f,h,u(h,i),e,s,l)}).execute();var v=e.get("clip",!0)?Nt(e.coordinateSystem,!1,e):null;v?s.setClipPath(v):s.removeClipPath(),this._data=l},t.prototype.incrementalPrepareRender=function(e,a,n){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,a,n,i,o){var l=a.getData(),s=ei(a,l,n,i),u=this._progressiveEls=[];function v(f){f.isGroup||(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}for(var h=e.start;h<e.end;h++){var c=Ua(null,null,h,s(h,o),a,this.group,l);c&&(c.traverse(v),u.push(c))}},t.prototype.eachRendered=function(e){aa(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,a,n,i){var o=a.element;if(o==null||n.name===o)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===o)return!0;return!1},t.type="custom",t}(ee);function Ir(r){var t=r.type,e;if(t==="path"){var a=r.shape,n=a.width!=null&&a.height!=null?{x:a.x||0,y:a.y||0,width:a.width,height:a.height}:null,i=Vo(a);e=al(i,null,n,a.layout||"center"),Ve(e).customPathData=i}else if(t==="image")e=new Pt({}),Ve(e).customImagePath=r.style.image;else if(t==="text")e=new Le({});else if(t==="group")e=new ae;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var o=rl(t);if(!o){var l="";ci(l)}e=new o}return Ve(e).customGraphicType=t,e.name=r.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function Lr(r,t,e,a,n,i,o){Vl(t);var l=n&&n.normal.cfg;l&&t.setTextConfig(l),a&&a.transition==null&&(a.transition=Pc);var s=a&&a.style;if(s){if(t.type==="text"){var u=s;Me(u,"textFill")&&(u.fill=u.textFill),Me(u,"textStroke")&&(u.stroke=u.textStroke)}var v=void 0,h=nr(t)?s.decal:null;r&&h&&(h.dirty=!0,v=yi(h,r)),s.__decalPattern=v}if(ir(t)&&s){var v=s.__decalPattern;v&&(s.decal=v)}kl(t,a,i,{dataIndex:e,isInit:o,clearStyle:!0}),zl(t,a.keyframeAnimation,i)}function Ro(r,t,e,a,n){var i=t.isGroup?null:t,o=n&&n[r].cfg;if(i){var l=i.ensureState(r);if(a===!1){var s=i.getState(r);s&&(s.style=null)}else l.style=a||null;o&&(l.textConfig=o),Yt(i)}}function Vc(r,t,e){if(!r.isGroup){var a=r,n=e.currentZ,i=e.currentZLevel;a.z=n,a.zlevel=i;var o=t.z2;o!=null&&(a.z2=o||0);for(var l=0;l<Xe.length;l++)kc(a,t,Xe[l])}}function kc(r,t,e){var a=e===He,n=a?t:ta(t,e),i=n?n.z2:null,o;i!=null&&(o=a?r:r.ensureState(e),o.z2=i||0)}function ei(r,t,e,a){var n=r.get("renderItem"),i=r.coordinateSystem,o={};i&&(o=i.prepareCustoms?i.prepareCustoms(i):Ec[i.type](i));for(var l=Re({getWidth:a.getWidth,getHeight:a.getHeight,getZr:a.getZr,getDevicePixelRatio:a.getDevicePixelRatio,value:b,style:D,ordinalRawValue:w,styleEmphasis:_,visual:I,barLayout:x,currentSeriesIndices:L,font:N},o.api||{}),s={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:o.coordSys,dataInsideLength:t.count(),encode:zc(r.getData())},u,v,h={},c={},f={},g={},p=0;p<Xe.length;p++){var d=Xe[p];f[d]=r.getModel(Ha[d]),g[d]=r.getModel(Wa[d])}function S(P){return P===u?v||(v=t.getItemModel(P)):t.getItemModel(P)}function y(P,T){return t.hasItemOption?P===u?h[T]||(h[T]=S(P).getModel(Ha[T])):S(P).getModel(Ha[T]):f[T]}function m(P,T){return t.hasItemOption?P===u?c[T]||(c[T]=S(P).getModel(Wa[T])):S(P).getModel(Wa[T]):g[T]}return function(P,T){return u=P,v=null,h={},c={},n&&n(Re({dataIndexInside:P,dataIndex:t.getRawIndex(P),actionType:T?T.type:null},s),l)};function b(P,T){return T==null&&(T=u),t.getStore().get(t.getDimensionIndex(P||0),T)}function w(P,T){T==null&&(T=u),P=P||0;var E=t.getDimensionInfo(P);if(!E){var M=t.getDimensionIndex(P);return M>=0?t.getStore().get(M,T):void 0}var R=t.get(E.name,T),V=E&&E.ordinalMeta;return V?V.categories[R]:R}function D(P,T){T==null&&(T=u);var E=t.getItemVisual(T,"style"),M=E&&E.fill,R=E&&E.opacity,V=y(T,He).getItemStyle();M!=null&&(V.fill=M),R!=null&&(V.opacity=R);var B={inheritColor:Pe(M)?M:"#000"},z=m(T,He),F=Ee(z,null,B,!1,!0);F.text=z.getShallow("show")?Ka(r.getFormattedLabel(T,He),_t(t,T)):null;var W=Gr(z,B,!1);return C(P,V),V=Xr(V,F,W),P&&A(V,P),V.legacy=!0,V}function _(P,T){T==null&&(T=u);var E=y(T,ke).getItemStyle(),M=m(T,ke),R=Ee(M,null,null,!0,!0);R.text=M.getShallow("show")?ut(r.getFormattedLabel(T,ke),r.getFormattedLabel(T,He),_t(t,T)):null;var V=Gr(M,null,!0);return C(P,E),E=Xr(E,R,V),P&&A(E,P),E.legacy=!0,E}function A(P,T){for(var E in T)Me(T,E)&&(P[E]=T[E])}function C(P,T){P&&(P.textFill&&(T.textFill=P.textFill),P.textPosition&&(T.textPosition=P.textPosition))}function I(P,T){if(T==null&&(T=u),Me(Qn,P)){var E=t.getItemVisual(T,"style");return E?E[Qn[P]]:null}if(Me(Sc,P))return t.getItemVisual(T,P)}function x(P){if(i.type==="cartesian2d"){var T=i.getBaseAxis();return Ol(Re({axis:T},P))}}function L(){return e.getCurrentSeriesIndices()}function N(P){return tl(P,e)}}function zc(r){var t={};return k(r.dimensions,function(e){var a=r.getDimensionInfo(e);if(!a.isExtraCoord){var n=a.coordDim,i=t[n]=t[n]||[];i[a.coordDimIndex]=r.getDimensionIndex(e)}}),t}function Ua(r,t,e,a,n,i,o){if(!a){i.remove(t);return}var l=Tr(r,t,e,a,n,i);return l&&o.setItemGraphicEl(e,l),l&&ne(l,a.focus,a.blurScope,a.emphasisDisabled),l}function Tr(r,t,e,a,n,i){var o=-1,l=t;t&&Mo(t,a,n)&&(o=vt(i.childrenRef(),t),t=null);var s=!t,u=t;u?u.clearStates():(u=Ir(a),l&&Rc(l,u)),a.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),Se.normal.cfg=Se.normal.conOpt=Se.emphasis.cfg=Se.emphasis.conOpt=Se.blur.cfg=Se.blur.conOpt=Se.select.cfg=Se.select.conOpt=null,Se.isLegacy=!1,Gc(u,e,a,n,s,Se),Bc(u,e,a,n,s),Lr(r,u,e,a,Se,n,s),Me(a,"info")&&(Ve(u).info=a.info);for(var v=0;v<Xe.length;v++){var h=Xe[v];if(h!==He){var c=ta(a,h),f=Cr(a,c,h);Ro(h,u,c,f,Se)}}return Vc(u,a,n),a.type==="group"&&Oc(r,u,e,a,n),o>=0?i.replaceAt(u,o):i.add(u),u}function Mo(r,t,e){var a=Ve(r),n=t.type,i=t.shape,o=t.style;return e.isUniversalTransitionEnabled()||n!=null&&n!==a.customGraphicType||n==="path"&&Uc(i)&&Vo(i)!==a.customPathData||n==="image"&&Me(o,"image")&&o.image!==a.customImagePath}function Bc(r,t,e,a,n){var i=e.clipPath;if(i===!1)r&&r.getClipPath()&&r.removeClipPath();else if(i){var o=r.getClipPath();o&&Mo(o,i,a)&&(o=null),o||(o=Ir(i),r.setClipPath(o)),Lr(null,o,t,i,null,a,n)}}function Gc(r,t,e,a,n,i){if(!r.isGroup){ti(e,null,i),ti(e,ke,i);var o=i.normal.conOpt,l=i.emphasis.conOpt,s=i.blur.conOpt,u=i.select.conOpt;if(o!=null||l!=null||u!=null||s!=null){var v=r.getTextContent();if(o===!1)v&&r.removeTextContent();else{o=i.normal.conOpt=o||{type:"text"},v?v.clearStates():(v=Ir(o),r.setTextContent(v)),Lr(null,v,t,o,null,a,n);for(var h=o&&o.style,c=0;c<Xe.length;c++){var f=Xe[c];if(f!==He){var g=i[f].conOpt;Ro(f,v,g,Cr(o,g,f),null)}}h?v.dirty():v.markRedraw()}}}}function ti(r,t,e){var a=t?ta(r,t):r,n=t?Cr(r,a,ke):r.style,i=r.type,o=a?a.textConfig:null,l=r.textContent,s=l?t?ta(l,t):l:null;if(n&&(e.isLegacy||Bl(n,i,!!o,!!s))){e.isLegacy=!0;var u=Gl(n,i,!t);!o&&u.textConfig&&(o=u.textConfig),!s&&u.textContent&&(s=u.textContent)}if(!t&&s){var v=s;!v.type&&(v.type="text")}var h=t?e[t]:e.normal;h.cfg=o,h.conOpt=s}function ta(r,t){return t?r?r[t]:null:r}function Cr(r,t,e){var a=t&&t.style;return a==null&&e===ke&&r&&(a=r.styleEmphasis),a}function Oc(r,t,e,a,n){var i=a.children,o=i?i.length:0,l=a.$mergeChildren,s=l==="byName"||a.diffChildrenByName,u=l===!1;if(!(!o&&!s&&!u)){if(s){Hc({api:r,oldChildren:t.children()||[],newChildren:i||[],dataIndex:e,seriesModel:n,group:t});return}u&&t.removeAll();for(var v=0;v<o;v++){var h=i[v],c=t.childAt(v);h?(h.ignore==null&&(h.ignore=!1),Tr(r,c,e,h,n,t)):c.ignore=!0}for(var f=t.childCount()-1;f>=v;f--){var g=t.childAt(f);Fc(t,g,n)}}}function Fc(r,t,e){t&&fr(t,Ve(r).option,e)}function Hc(r){new ca(r.oldChildren,r.newChildren,ai,ai,r).add(ri).update(ri).remove(Wc).execute()}function ai(r,t){var e=r&&r.name;return e??Nc+t}function ri(r,t){var e=this.context,a=r!=null?e.newChildren[r]:null,n=t!=null?e.oldChildren[t]:null;Tr(e.api,n,e.dataIndex,a,e.seriesModel,e.group)}function Wc(r){var t=this.context,e=t.oldChildren[r];e&&fr(e,Ve(e).option,t.seriesModel)}function Vo(r){return r&&(r.pathData||r.d)}function Uc(r){return r&&(Me(r,"pathData")||Me(r,"d"))}function _f(r){r.registerChartView(Mc),r.registerSeriesModel(bc)}export{af as BarChart,pf as BoxplotChart,df as CandlestickChart,_f as CustomChart,yf as EffectScatterChart,cf as FunnelChart,hf as GaugeChart,vf as GraphChart,Sf as HeatmapChart,tf as LineChart,mf as LinesChart,lf as MapChart,ff as ParallelChart,bf as PictorialBarChart,rf as PieChart,of as RadarChart,gf as SankeyChart,nf as ScatterChart,Df as SunburstChart,wf as ThemeRiverChart,sf as TreeChart,uf as TreemapChart};
