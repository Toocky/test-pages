import{bF as gr,a6 as E,aL as _a,aM as Aa,X as te,aj as Ti,O as wa,ad as Ot,ac as Ze,a9 as je,g as dt,aw as dr,ai as Ta,a3 as _t,aS as yt,bG as Ci,b5 as Li,b7 as Mi,v as Dt,a as Je,u as Ca,c as La,bc as $e,L as mt,b4 as Ut,M as Rt,l as Zt,am as ee,b3 as Ma,C as Pa,z as Pi,y as re,P as ae,U as yr,an as K,bH as Ei,E as Di,R as Ri,x as Gi,bg as ki,ax as Ea,bI as Ii,aq as Fi,m as Gt,B as Vi,ag as mr,aA as kt,b2 as Oi,aH as zi,d as Bi,bw as Wi,N as Ni,D as Yi,bJ as Da}from"./B8bEpPzb.js";import{c as Ke,I as ie,G as qe,C as At,p as Xi,J as Hi,N as Ui,K as Zi,L as ji}from"./LyrMl2Ci.js";import{l as U,a as Ra,h as B,G as D,o as tt,m as ne,f as O,r as z,g as m,q as V,i as Qe,b8 as Ga,B as j,b9 as et,aE as xt,j as ut,F as rt,Z as ka,p as J,a0 as Pt,n as tr,ba as Ji,b0 as er,bb as jt,K as Ia,d as q,c as H,au as I,R as ft,ab as Fa,b as X,af as Va,a_ as _,T as $i,b3 as Ki,az as qi,ax as Oa,ay as rr,a3 as za,C as Qi,aB as Le,bc as zt,bd as tn,aN as en,aX as rn,be as an,bf as nn,s as Ba,b4 as on,b5 as le,bg as ue,aD as sn,aC as fe,aG as Wa,N as Na,aJ as ln,bh as It,bi as un,b6 as fn}from"./DgrlDNDf.js";import{A as ar,x as cn,a as ir,I as Me,y as hn,z as ce,B as vn,c as Ya,r as pn,C as Pe,n as Ee,D as gn,E as dn,G as yn,F as mn,p as xn}from"./eTtyDkgu.js";import{i as xr,s as Xa}from"./BOvz1jQK.js";import{p as Sn,h as bn}from"./CfwoEIg3.js";import{D as _n}from"./CoHqWZrp.js";function An(a,t){var e=a.mapDimensionsAll("defaultedLabel"),r=e.length;if(r===1){var i=gr(a,t,e[0]);return i!=null?i+"":null}else if(r){for(var n=[],o=0;o<e.length;o++)n.push(gr(a,t,e[o]));return n.join(" ")}}function ul(a,t){var e=a.mapDimensionsAll("defaultedLabel");if(!U(t))return t+"";for(var r=[],i=0;i<e.length;i++){var n=a.getDimensionIndex(e[i]);n>=0&&r.push(t[n])}return r.join(" ")}var wn=function(a){E(t,a);function t(e,r,i,n){var o=a.call(this)||this;return o.updateData(e,r,i,n),o}return t.prototype._createSymbol=function(e,r,i,n,o){this.removeAll();var s=Ke(e,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),s.drift=Tn,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){_a(this.childAt(0))},t.prototype.downplay=function(){Aa(this.childAt(0))},t.prototype.setZ=function(e,r){var i=this.childAt(0);i.zlevel=e,i.z=r},t.prototype.setDraggable=function(e,r){var i=this.childAt(0);i.draggable=e,i.cursor=!r&&e?"move":i.cursor},t.prototype.updateData=function(e,r,i,n){this.silent=!1;var o=e.getItemVisual(r,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,r),u=o!==this._symbolType,f=n&&n.disableAnimation;if(u){var c=e.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,e,r,l,c)}else{var v=this.childAt(0);v.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};f?v.attr(h):te(v,h,s,r),Ti(v)}if(this._updateCommon(e,r,l,i,n),u){var v=this.childAt(0);if(!f){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:v.style.opacity}};v.scaleX=v.scaleY=0,v.style.opacity=0,wa(v,h,s,r)}}f&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,r,i,n,o){var s=this.childAt(0),l=e.hostModel,u,f,c,v,h,p,g,d,y;if(n&&(u=n.emphasisItemStyle,f=n.blurItemStyle,c=n.selectItemStyle,v=n.focus,h=n.blurScope,g=n.labelStatesModels,d=n.hoverScale,y=n.cursorStyle,p=n.emphasisDisabled),!n||e.hasItemOption){var S=n&&n.itemModel?n.itemModel:e.getItemModel(r),x=S.getModel("emphasis");u=x.getModel("itemStyle").getItemStyle(),c=S.getModel(["select","itemStyle"]).getItemStyle(),f=S.getModel(["blur","itemStyle"]).getItemStyle(),v=x.get("focus"),h=x.get("blurScope"),p=x.get("disabled"),g=Ot(S),d=x.getShallow("scale"),y=S.getShallow("cursor")}var b=e.getItemVisual(r,"symbolRotate");s.attr("rotation",(b||0)*Math.PI/180||0);var w=ie(e.getItemVisual(r,"symbolOffset"),i);w&&(s.x=w[0],s.y=w[1]),y&&s.attr("cursor",y);var A=e.getItemVisual(r,"style"),T=A.fill;if(s instanceof Ra){var C=s.style;s.useStyle(B({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},A))}else s.__isEmptyBrush?s.useStyle(B({},A)):s.useStyle(A),s.style.decal=null,s.setColor(T,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var M=e.getItemVisual(r,"liftZ"),L=this._z2;M!=null?L==null&&(this._z2=s.z2,s.z2+=M):L!=null&&(s.z2=L,this._z2=null);var P=o&&o.useNameLabel;Ze(s,g,{labelFetcher:l,labelDataIndex:r,defaultText:R,inheritColor:T,defaultOpacity:A.opacity});function R(k){return P?e.getName(k):An(e,k)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var F=s.ensureState("emphasis");F.style=u,s.ensureState("select").style=c,s.ensureState("blur").style=f;var G=d==null||d===!0?Math.max(1.1,3/this._sizeY):isFinite(d)&&d>0?+d:1;F.scaleX=this._sizeX*G,F.scaleY=this._sizeY*G,this.setSymbolScale(1),je(this,v,h,p)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,r,i){var n=this.childAt(0),o=dt(this).dataIndex,s=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var l=n.getTextContent();l&&dr(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){n.removeTextContent()}})}else n.removeTextContent();dr(n,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:e,removeOpt:s})},t.getSymbolSize=function(e,r){return qe(e.getItemVisual(r,"symbolSize"))},t}(D);function Tn(a,t){this.parent.drift(a,t)}function he(a,t,e,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(e))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&a.getItemVisual(e,"symbol")!=="none"}function Sr(a){return a!=null&&!tt(a)&&(a={isIgnore:a}),a||{}}function br(a){var t=a.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Ot(t),cursorStyle:t.get("cursor")}}var fl=function(){function a(t){this.group=new D,this._SymbolCtor=t||wn}return a.prototype.updateData=function(t,e){this._progressiveEls=null,e=Sr(e);var r=this.group,i=t.hostModel,n=this._data,o=this._SymbolCtor,s=e.disableAnimation,l=br(t),u={disableAnimation:s},f=e.getSymbolPoint||function(c){return t.getItemLayout(c)};n||r.removeAll(),t.diff(n).add(function(c){var v=f(c);if(he(t,v,c,e)){var h=new o(t,c,l,u);h.setPosition(v),t.setItemGraphicEl(c,h),r.add(h)}}).update(function(c,v){var h=n.getItemGraphicEl(v),p=f(c);if(!he(t,p,c,e)){r.remove(h);return}var g=t.getItemVisual(c,"symbol")||"circle",d=h&&h.getSymbolType&&h.getSymbolType();if(!h||d&&d!==g)r.remove(h),h=new o(t,c,l,u),h.setPosition(p);else{h.updateData(t,c,l,u);var y={x:p[0],y:p[1]};s?h.attr(y):te(h,y,i)}r.add(h),t.setItemGraphicEl(c,h)}).remove(function(c){var v=n.getItemGraphicEl(c);v&&v.fadeOut(function(){r.remove(v)},i)}).execute(),this._getSymbolPoint=f,this._data=t},a.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(r,i){var n=t._getSymbolPoint(i);r.setPosition(n),r.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=br(t),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(t,e,r){this._progressiveEls=[],r=Sr(r);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var n=t.start;n<t.end;n++){var o=e.getItemLayout(n);if(he(e,o,n,r)){var s=new this._SymbolCtor(e,n,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(n,s),this._progressiveEls.push(s)}}},a.prototype.eachRendered=function(t){Ta(this._progressiveEls||this.group,t)},a.prototype.remove=function(t){var e=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},r.hostModel)}):e.removeAll()},a}();function cl(a,t){return a.type===t}var Cn=function(a){E(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(_t),De=function(a){E(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",yt).models[0]},t.type="cartesian2dAxis",t}(_t);ne(De,ar);var Ha={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Ln=z({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Ha),nr=z({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Ha),Mn=z({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},nr),Pn=O({logBase:10},nr);const Ua={category:Ln,value:nr,time:Mn,log:Pn};var En={value:1,category:1,time:1,log:1};function Re(a,t,e,r){m(En,function(i,n){var o=z(z({},Ua[n],!0),r,!0),s=function(l){E(u,l);function u(){var f=l!==null&&l.apply(this,arguments)||this;return f.type=t+"Axis."+n,f}return u.prototype.mergeDefaultAndTheme=function(f,c){var v=Ci(this),h=v?Li(f):{},p=c.getTheme();z(f,p.get(n+"Axis")),z(f,this.getDefaultOption()),f.type=_r(f),v&&Mi(f,h,v)},u.prototype.optionUpdated=function(){var f=this.option;f.type==="category"&&(this.__ordinalMeta=cn.createByAxisModel(this))},u.prototype.getCategories=function(f){var c=this.option;if(c.type==="category")return f?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+n,u.defaultOption=o,u}(e);a.registerComponentModel(s)}),a.registerSubTypeDefaulter(t+"Axis",_r)}function _r(a){return a.type||(a.data?"category":"value")}var Dn=function(){function a(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return a.prototype.getAxis=function(t){return this._axes[t]},a.prototype.getAxes=function(){return V(this._dimList,function(t){return this._axes[t]},this)},a.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Qe(this.getAxes(),function(e){return e.scale.type===t})},a.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},a}(),Ge=["x","y"];function Ar(a){return a.type==="interval"||a.type==="time"}var Rn=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Ge,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!Ar(e)||!Ar(r))){var i=e.getExtent(),n=r.getExtent(),o=this.dataToPoint([i[0],n[0]]),s=this.dataToPoint([i[1],n[1]]),l=i[1]-i[0],u=n[1]-n[0];if(!(!l||!u)){var f=(s[0]-o[0])/l,c=(s[1]-o[1])/u,v=o[0]-i[0]*f,h=o[1]-n[0]*c,p=this._transform=[f,0,0,c,v,h];this._invTransform=Ga([],p)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,r){var i=this.dataToPoint(e),n=this.dataToPoint(r),o=this.getArea(),s=new j(i[0],i[1],n[0]-i[0],n[1]-i[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,r,i){i=i||[];var n=e[0],o=e[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return et(i,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(n,r)),i[1]=l.toGlobalCoord(l.dataToCoord(o,r)),i},t.prototype.clampData=function(e,r){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),s=n.getExtent(),l=i.parse(e[0]),u=n.parse(e[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},t.prototype.pointToData=function(e,r){var i=[];if(this._invTransform)return et(i,e,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(e[0]),r),i[1]=o.coordToData(o.toLocalCoord(e[1]),r),i},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),n=Math.min(r[0],r[1])-e,o=Math.min(i[0],i[1])-e,s=Math.max(r[0],r[1])-n+e,l=Math.max(i[0],i[1])-o+e;return new j(n,o,s,l)},t}(Dn),Gn=function(a){E(t,a);function t(e,r,i,n,o){var s=a.call(this,e,r,i)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),e&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(e,r){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),r)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(ir);function kn(a,t,e){e=e||{};var r=a.coordinateSystem,i=t.axis,n={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,u=i.dim,f=r.getRect(),c=[f.x,f.x+f.width,f.y,f.y+f.height],v={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get("offset")||0,p=u==="x"?[c[2]-h,c[3]+h]:[c[0]-h,c[1]+h];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));p[v.onZero]=Math.max(Math.min(g,p[1]),p[0])}n.position=[u==="y"?p[v[l]]:c[0],u==="x"?p[v[l]]:c[3]],n.rotation=Math.PI/2*(u==="x"?0:1);var d={top:-1,bottom:1,left:-1,right:1};n.labelDirection=n.tickDirection=n.nameDirection=d[s],n.labelOffset=o?p[v[s]]-p[v.onZero]:0,t.get(["axisTick","inside"])&&(n.tickDirection=-n.tickDirection),xt(e.labelInside,t.get(["axisLabel","inside"]))&&(n.labelDirection=-n.labelDirection);var y=t.get(["axisLabel","rotate"]);return n.labelRotate=l==="top"?-y:y,n.z2=1,n}function wr(a){return a.get("coordinateSystem")==="cartesian2d"}function Tr(a){var t={xAxisModel:null,yAxisModel:null};return m(t,function(e,r){var i=r.replace(/Model$/,""),n=a.getReferringComponents(i,yt).models[0];t[r]=n}),t}var ve=Math.log;function Za(a,t,e){var r=Me.prototype,i=r.getTicks.call(e),n=r.getTicks.call(e,!0),o=i.length-1,s=r.getInterval.call(e),l=hn(a,t),u=l.extent,f=l.fixMin,c=l.fixMax;if(a.type==="log"){var v=ve(a.base);u=[ve(u[0])/v,ve(u[1])/v]}a.setExtent(u[0],u[1]),a.calcNiceExtent({splitNumber:o,fixMin:f,fixMax:c});var h=r.getExtent.call(a);f&&(u[0]=h[0]),c&&(u[1]=h[1]);var p=r.getInterval.call(a),g=u[0],d=u[1];if(f&&c)p=(d-g)/o;else if(f)for(d=u[0]+p*o;d<u[1]&&isFinite(d)&&isFinite(u[1]);)p=ce(p),d=u[0]+p*o;else if(c)for(g=u[1]-p*o;g>u[0]&&isFinite(g)&&isFinite(u[0]);)p=ce(p),g=u[1]-p*o;else{var y=a.getTicks().length-1;y>o&&(p=ce(p));var S=p*o;d=Math.ceil(u[1]/p)*p,g=Dt(d-S),g<0&&u[0]>=0?(g=0,d=Dt(S)):d>0&&u[1]<=0&&(d=0,g=-Dt(S))}var x=(i[0].value-n[0].value)/s,b=(i[o].value-n[o].value)/s;r.setExtent.call(a,g+p*x,d+p*b),r.setInterval.call(a,p),(x||b)&&r.setNiceExtent.call(a,g+p,d-p)}var In=function(){function a(t,e,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Ge,this._initCartesian(t,e,r),this.model=t}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(t,e){var r=this._axesMap;this._updateScale(t,this.model);function i(o){var s,l=rt(o),u=l.length;if(u){for(var f=[],c=u-1;c>=0;c--){var v=+l[c],h=o[v],p=h.model,g=h.scale;Pe(g)&&p.get("alignTicks")&&p.get("interval")==null?f.push(h):(Ee(g,p),Pe(g)&&(s=h))}f.length&&(s||(s=f.pop(),Ee(s.scale,s.model)),m(f,function(d){Za(d.scale,d.model,s.scale)}))}}i(r.x),i(r.y);var n={};m(r.x,function(o){Cr(r,"y",o,n)}),m(r.y,function(o){Cr(r,"x",o,n)}),this.resize(this.model,e)},a.prototype.resize=function(t,e,r){var i=t.getBoxLayoutParams(),n=!r&&t.get("containLabel"),o=Je(i,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;l(),n&&(m(s,function(u){if(!u.model.get(["axisLabel","inside"])){var f=vn(u);if(f){var c=u.isHorizontal()?"height":"width",v=u.model.get(["axisLabel","margin"]);o[c]-=f[c]+v,u.position==="top"?o.y+=f.height+v:u.position==="left"&&(o.x+=f.width+v)}}}),l()),m(this._coordsList,function(u){u.calcAffineTransform()});function l(){m(s,function(u){var f=u.isHorizontal(),c=f?[0,o.width]:[0,o.height],v=u.inverse?1:0;u.setExtent(c[v],c[1-v]),Fn(u,f?o.x:o.y)})}},a.prototype.getAxis=function(t,e){var r=this._axesMap[t];if(r!=null)return r[e||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var r="x"+t+"y"+e;return this._coordsMap[r]}tt(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,n=this._coordsList;i<n.length;i++)if(n[i].getAxis("x").index===t||n[i].getAxis("y").index===e)return n[i]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},a.prototype.convertFromPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},a.prototype._findConvertTarget=function(t){var e=t.seriesModel,r=t.xAxisModel||e&&e.getReferringComponents("xAxis",yt).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",yt).models[0],n=t.gridModel,o=this._coordsList,s,l;if(e)s=e.coordinateSystem,ut(o,s)<0&&(s=null);else if(r&&i)s=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(n){var u=n.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},a.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},a.prototype._initCartesian=function(t,e,r){var i=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,m(s.x,function(f,c){m(s.y,function(v,h){var p="x"+c+"y"+h,g=new Rn(p);g.master=i,g.model=t,i._coordsMap[p]=g,i._coordsList.push(g),g.addAxis(f),g.addAxis(v)})});function u(f){return function(c,v){if(pe(c,t)){var h=c.get("position");f==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var p=new Gn(f,Ya(c),[0,0],c.get("type"),h),g=p.type==="category";p.onBand=g&&c.get("boundaryGap"),p.inverse=c.get("inverse"),c.axis=p,p.model=c,p.grid=n,p.index=v,n._axesList.push(p),s[f][v]=p,l[f]++}}}},a.prototype._updateScale=function(t,e){m(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var n=i.model.get("categorySortInfo");i.scale.setSortInfo(n)}}),t.eachSeries(function(i){if(wr(i)){var n=Tr(i),o=n.xAxisModel,s=n.yAxisModel;if(!pe(o,e)||!pe(s,e))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),f=l.getAxis("x"),c=l.getAxis("y");r(u,f),r(u,c)}},this);function r(i,n){m(pn(i,n.dim),function(o){n.scale.unionExtentFromData(i,o)})}},a.prototype.getTooltipAxes=function(t){var e=[],r=[];return m(this.getCartesians(),function(i){var n=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(n);ut(e,n)<0&&e.push(n),ut(r,o)<0&&r.push(o)}),{baseAxes:e,otherAxes:r}},a.create=function(t,e){var r=[];return t.eachComponent("grid",function(i,n){var o=new a(i,t,e);o.name="grid_"+n,o.resize(i,e,!0),i.coordinateSystem=o,r.push(o)}),t.eachSeries(function(i){if(wr(i)){var n=Tr(i),o=n.xAxisModel,s=n.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},a.dimensions=Ge,a}();function pe(a,t){return a.getCoordSysModel()===t}function Cr(a,t,e,r){e.getAxesOnZeroOf=function(){return n?[n]:[]};var i=a[t],n,o=e.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)Lr(i[l])&&(n=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&Lr(i[u])&&!r[f(i[u])]){n=i[u];break}n&&(r[f(n)]=!0);function f(c){return c.dim+"_"+c.index}}function Lr(a){return a&&a.type!=="category"&&a.type!=="time"&&gn(a)}function Fn(a,t){var e=a.getExtent(),r=e[0]+e[1];a.toGlobalCoord=a.dim==="x"?function(i){return i+t}:function(i){return r-i+t},a.toLocalCoord=a.dim==="x"?function(i){return i-t}:function(i){return r-i+t}}var at=Math.PI,Q=function(){function a(t,e){this.group=new D,this.opt=e,this.axisModel=t,O(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new D({x:e.position[0],y:e.position[1],rotation:e.rotation});r.updateTransform(),this._transformGroup=r}return a.prototype.hasBuilder=function(t){return!!Mr[t]},a.prototype.add=function(t){Mr[t](this.opt,this.axisModel,this.group,this._transformGroup)},a.prototype.getGroup=function(){return this.group},a.innerTextLayout=function(t,e,r){var i=Ca(e-t),n,o;return Zt(i)?(o=r>0?"top":"bottom",n="center"):Zt(i-at)?(o=r>0?"bottom":"top",n="center"):(o="middle",i>0&&i<at?n=r>0?"right":"left":n=r>0?"left":"right"),{rotation:i,textAlign:n,textVerticalAlign:o}},a.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},a.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},a}(),Mr={axisLine:function(a,t,e,r){var i=t.get(["axisLine","show"]);if(i==="auto"&&a.handleAutoShown&&(i=a.handleAutoShown("axisLine")),!!i){var n=t.axis.getExtent(),o=r.transform,s=[n[0],0],l=[n[1],0],u=s[0]>l[0];o&&(et(s,s,o),et(l,l,o));var f=B({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new mt({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:f,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1});Ut(c.shape,c.style.lineWidth),c.anid="line",e.add(c);var v=t.get(["axisLine","symbol"]);if(v!=null){var h=t.get(["axisLine","symbolSize"]);J(v)&&(v=[v,v]),(J(h)||Ia(h))&&(h=[h,h]);var p=ie(t.get(["axisLine","symbolOffset"])||0,h),g=h[0],d=h[1];m([{rotate:a.rotation+Math.PI/2,offset:p[0],r:0},{rotate:a.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(y,S){if(v[S]!=="none"&&v[S]!=null){var x=Ke(v[S],-g/2,-d/2,g,d,f.stroke,!0),b=y.r+y.offset,w=u?l:s;x.attr({rotation:y.rotate,x:w[0]+b*Math.cos(a.rotation),y:w[1]-b*Math.sin(a.rotation),silent:!0,z2:11}),e.add(x)}})}}},axisTickLabel:function(a,t,e,r){var i=zn(e,r,t,a),n=Wn(e,r,t,a);if(On(t,n,i),Bn(e,r,t,a.tickDirection),t.get(["axisLabel","hideOverlap"])){var o=Sn(V(n,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));bn(o)}},axisName:function(a,t,e,r){var i=xt(a.axisName,t.get("name"));if(i){var n=t.get("nameLocation"),o=a.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),f=u[0]>u[1]?-1:1,c=[n==="start"?u[0]-f*l:n==="end"?u[1]+f*l:(u[0]+u[1])/2,Er(n)?a.labelOffset+o*l:0],v,h=t.get("nameRotate");h!=null&&(h=h*at/180);var p;Er(n)?v=Q.innerTextLayout(a.rotation,h??a.rotation,o):(v=Vn(a.rotation,n,h||0,u),p=a.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(v.rotation)),!isFinite(p)&&(p=null)));var g=s.getFont(),d=t.get("nameTruncate",!0)||{},y=d.ellipsis,S=xt(a.nameTruncateMaxWidth,d.maxWidth,p),x=new ka({x:c[0],y:c[1],rotation:v.rotation,silent:Q.isLabelSilent(t),style:La(s,{text:i,font:g,overflow:"truncate",width:S,ellipsis:y,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||v.textAlign,verticalAlign:s.get("verticalAlign")||v.textVerticalAlign}),z2:1});if($e({el:x,componentModel:t,itemName:i}),x.__fullText=i,x.anid="name",t.get("triggerEvent")){var b=Q.makeAxisEventDataBase(t);b.targetType="axisName",b.name=i,dt(x).eventData=b}r.add(x),x.updateTransform(),e.add(x),x.decomposeTransform()}}};function Vn(a,t,e,r){var i=Ca(e-a),n,o,s=r[0]>r[1],l=t==="start"&&!s||t!=="start"&&s;return Zt(i-at/2)?(o=l?"bottom":"top",n="center"):Zt(i-at*1.5)?(o=l?"top":"bottom",n="center"):(o="middle",i<at*1.5&&i>at/2?n=l?"left":"right":n=l?"right":"left"),{rotation:i,textAlign:n,textVerticalAlign:o}}function On(a,t,e){if(!dn(a.axis)){var r=a.get(["axisLabel","showMinLabel"]),i=a.get(["axisLabel","showMaxLabel"]);t=t||[],e=e||[];var n=t[0],o=t[1],s=t[t.length-1],l=t[t.length-2],u=e[0],f=e[1],c=e[e.length-1],v=e[e.length-2];r===!1?(N(n),N(u)):Pr(n,o)&&(r?(N(o),N(f)):(N(n),N(u))),i===!1?(N(s),N(c)):Pr(l,s)&&(i?(N(l),N(v)):(N(s),N(c)))}}function N(a){a&&(a.ignore=!0)}function Pr(a,t){var e=a&&a.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(!(!e||!r)){var i=Ji([]);return er(i,i,-a.rotation),e.applyTransform(jt([],i,a.getLocalTransform())),r.applyTransform(jt([],i,t.getLocalTransform())),e.intersect(r)}}function Er(a){return a==="middle"||a==="center"}function ja(a,t,e,r,i){for(var n=[],o=[],s=[],l=0;l<a.length;l++){var u=a[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=e,t&&(et(o,o,t),et(s,s,t));var f=new mt({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});Ut(f.shape,f.style.lineWidth),f.anid=i+"_"+a[l].tickValue,n.push(f)}return n}function zn(a,t,e,r){var i=e.axis,n=e.getModel("axisTick"),o=n.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=n.getModel("lineStyle"),l=r.tickDirection*n.get("length"),u=i.getTicksCoords(),f=ja(u,t.transform,l,O(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<f.length;c++)a.add(f[c]);return f}}function Bn(a,t,e,r){var i=e.axis,n=e.getModel("minorTick");if(!(!n.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=n.getModel("lineStyle"),l=r*n.get("length"),u=O(s.getLineStyle(),O(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),f=0;f<o.length;f++)for(var c=ja(o[f],t.transform,l,u,"minorticks_"+f),v=0;v<c.length;v++)a.add(c[v])}}function Wn(a,t,e,r){var i=e.axis,n=xt(r.axisLabelShow,e.get(["axisLabel","show"]));if(!(!n||i.scale.isBlank())){var o=e.getModel("axisLabel"),s=o.get("margin"),l=i.getViewLabels(),u=(xt(r.labelRotate,o.get("rotate"))||0)*at/180,f=Q.innerTextLayout(r.rotation,u,r.labelDirection),c=e.getCategories&&e.getCategories(!0),v=[],h=Q.isLabelSilent(e),p=e.get("triggerEvent");return m(l,function(g,d){var y=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,S=g.formattedLabel,x=g.rawLabel,b=o;if(c&&c[y]){var w=c[y];tt(w)&&w.textStyle&&(b=new Rt(w.textStyle,o,e.ecModel))}var A=b.getTextColor()||e.get(["axisLine","lineStyle","color"]),T=i.dataToCoord(y),C=b.getShallow("align",!0)||f.textAlign,M=Pt(b.getShallow("alignMinLabel",!0),C),L=Pt(b.getShallow("alignMaxLabel",!0),C),P=b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||f.textVerticalAlign,R=Pt(b.getShallow("verticalAlignMinLabel",!0),P),F=Pt(b.getShallow("verticalAlignMaxLabel",!0),P),G=new ka({x:T,y:r.labelOffset+r.labelDirection*s,rotation:f.rotation,silent:h,z2:10+(g.level||0),style:La(b,{text:S,align:d===0?M:d===l.length-1?L:C,verticalAlign:d===0?R:d===l.length-1?F:P,fill:tr(A)?A(i.type==="category"?x:i.type==="value"?y+"":y,d):A})});if(G.anid="label_"+y,$e({el:G,componentModel:e,itemName:S,formatterParamsExtra:{isTruncated:function(){return G.isTruncated},value:x,tickIndex:d}}),p){var k=Q.makeAxisEventDataBase(e);k.targetType="axisLabel",k.value=x,k.tickIndex=d,i.type==="category"&&(k.dataIndex=y),dt(G).eventData=k}t.add(G),G.updateTransform(),v.push(G),a.add(G),G.decomposeTransform()}),v}}function hl(a,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Nn(e,a,t),e.seriesInvolved&&Xn(e,a),e}function Nn(a,t,e){var r=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),n=i.get("link",!0)||[],o=[];m(e.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Jt(s.model),u=a.coordSysAxesInfo[l]={};a.coordSysMap[l]=s;var f=s.model,c=f.getModel("tooltip",r);if(m(s.getAxes(),q(g,!1,null)),s.getTooltipAxes&&r&&c.get("show")){var v=c.get("trigger")==="axis",h=c.get(["axisPointer","type"])==="cross",p=s.getTooltipAxes(c.get(["axisPointer","axis"]));(v||h)&&m(p.baseAxes,q(g,h?"cross":!0,v)),h&&m(p.otherAxes,q(g,"cross",!1))}function g(d,y,S){var x=S.model.getModel("axisPointer",i),b=x.get("show");if(!(!b||b==="auto"&&!d&&!ke(x))){y==null&&(y=x.get("triggerTooltip")),x=d?Yn(S,c,i,t,d,y):x;var w=x.get("snap"),A=x.get("triggerEmphasis"),T=Jt(S.model),C=y||w||S.type==="category",M=a.axesInfo[T]={key:T,axis:S,coordSys:s,axisPointerModel:x,triggerTooltip:y,triggerEmphasis:A,involveSeries:C,snap:w,useHandle:ke(x),seriesModels:[],linkGroup:null};u[T]=M,a.seriesInvolved=a.seriesInvolved||C;var L=Hn(n,S);if(L!=null){var P=o[L]||(o[L]={axesInfo:{}});P.axesInfo[T]=M,P.mapper=n[L].mapper,M.linkGroup=P}}}})}function Yn(a,t,e,r,i,n){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};m(s,function(v){l[v]=H(o.get(v))}),l.snap=a.type!=="category"&&!!n,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var f=o.get(["label","show"]);if(u.show=f??!0,!n){var c=l.lineStyle=o.get("crossStyle");c&&O(u,c.textStyle)}}return a.model.getModel("axisPointer",new Rt(l,e,r))}function Xn(a,t){t.eachSeries(function(e){var r=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),n=e.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||n===!1||e.get(["axisPointer","show"],!0)===!1||m(a.coordSysAxesInfo[Jt(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(e),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=e.getData().count())})})}function Hn(a,t){for(var e=t.model,r=t.dim,i=0;i<a.length;i++){var n=a[i]||{};if(ge(n[r+"AxisId"],e.id)||ge(n[r+"AxisIndex"],e.componentIndex)||ge(n[r+"AxisName"],e.name))return i}}function ge(a,t){return a==="all"||U(a)&&ut(a,t)>=0||a===t}function Un(a){var t=Ja(a);if(t){var e=t.axisPointerModel,r=t.axis.scale,i=e.option,n=e.get("status"),o=e.get("value");o!=null&&(o=r.parse(o));var s=ke(e);n==null&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function Ja(a){var t=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Jt(a)]}function Zn(a){var t=Ja(a);return t&&t.axisPointerModel}function ke(a){return!!a.get(["handle","show"])}function Jt(a){return a.type+"||"+a.id}var Dr={},jn=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i,n){this.axisPointerClass&&Un(e),a.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,r,i,n){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,r){var i=this._axisPointer;i&&i.remove(r)},t.prototype.dispose=function(e,r){this._disposeAxisPointer(r),a.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,r,i){var n=t.getAxisPointerClass(this.axisPointerClass);if(n){var o=Zn(e);o?(this._axisPointer||(this._axisPointer=new n)).render(e,o,r,i):this._disposeAxisPointer(r)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,r){Dr[e]=r},t.getAxisPointerClass=function(e){return e&&Dr[e]},t.type="axis",t}(At),Ie=ee();function Jn(a,t,e,r){var i=e.axis;if(!i.scale.isBlank()){var n=e.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:n,clamp:!0});if(u.length){var f=s.length,c=Ie(a).splitAreaColors,v=I(),h=0;if(c)for(var p=0;p<u.length;p++){var g=c.get(u[p].tickValue);if(g!=null){h=(g+(f-1)*p)%f;break}}var d=i.toGlobalCoord(u[0].coord),y=o.getAreaStyle();s=U(s)?s:[s];for(var p=1;p<u.length;p++){var S=i.toGlobalCoord(u[p].coord),x=void 0,b=void 0,w=void 0,A=void 0;i.isHorizontal()?(x=d,b=l.y,w=S-x,A=l.height,d=x+w):(x=l.x,b=d,w=l.width,A=S-b,d=b+A);var T=u[p-1].tickValue;T!=null&&v.set(T,h),t.add(new ft({anid:T!=null?"area_"+T:null,shape:{x,y:b,width:w,height:A},style:O({fill:s[h]},y),autoBatch:!0,silent:!0})),h=(h+1)%f}Ie(a).splitAreaColors=v}}}function $n(a){Ie(a).splitAreaColors=null}var Kn=["axisLine","axisTickLabel","axisName"],qn=["splitArea","splitLine","minorSplitLine"],$a=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,r,i,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new D,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),l=kn(s,e),u=new Q(e,B({handleAutoShown:function(c){for(var v=s.coordinateSystem.getCartesians(),h=0;h<v.length;h++)if(Pe(v[h].getOtherAxis(e.axis).scale))return!0;return!1}},l));m(Kn,u.add,u),this._axisGroup.add(u.getGroup()),m(qn,function(c){e.get([c,"show"])&&Qn[c](this,this._axisGroup,e,s)},this);var f=n&&n.type==="changeAxisOrder"&&n.isInitSort;f||Ma(o,this._axisGroup,e),a.prototype.render.call(this,e,r,i,n)}},t.prototype.remove=function(){$n(this)},t.type="cartesianAxis",t}(jn),Qn={splitLine:function(a,t,e,r){var i=e.axis;if(!i.scale.isBlank()){var n=e.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color"),l=n.get("showMinLine")!==!1,u=n.get("showMaxLine")!==!1;s=U(s)?s:[s];for(var f=r.coordinateSystem.getRect(),c=i.isHorizontal(),v=0,h=i.getTicksCoords({tickModel:n}),p=[],g=[],d=o.getLineStyle(),y=0;y<h.length;y++){var S=i.toGlobalCoord(h[y].coord);if(!(y===0&&!l||y===h.length-1&&!u)){var x=h[y].tickValue;c?(p[0]=S,p[1]=f.y,g[0]=S,g[1]=f.y+f.height):(p[0]=f.x,p[1]=S,g[0]=f.x+f.width,g[1]=S);var b=v++%s.length,w=new mt({anid:x!=null?"line_"+x:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},style:O({stroke:s[b]},d),silent:!0});Ut(w.shape,d.lineWidth),t.add(w)}}}},minorSplitLine:function(a,t,e,r){var i=e.axis,n=e.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var f=[],c=[],v=o.getLineStyle(),h=0;h<u.length;h++)for(var p=0;p<u[h].length;p++){var g=i.toGlobalCoord(u[h][p].coord);l?(f[0]=g,f[1]=s.y,c[0]=g,c[1]=s.y+s.height):(f[0]=s.x,f[1]=g,c[0]=s.x+s.width,c[1]=g);var d=new mt({anid:"minor_line_"+u[h][p].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:c[0],y2:c[1]},style:v,silent:!0});Ut(d.shape,v.lineWidth),t.add(d)}},splitArea:function(a,t,e,r){Jn(a,t,e,r)}},Ka=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}($a),to=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=Ka.type,e}return t.type="yAxis",t}($a),eo=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,r){this.group.removeAll(),e.get("show")&&this.group.add(new ft({shape:e.coordinateSystem.getRect(),style:O({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(At),Rr={offset:0};function vl(a){a.registerComponentView(eo),a.registerComponentModel(Cn),a.registerCoordinateSystem("cartesian2d",In),Re(a,"x",De,Rr),Re(a,"y",De,Rr),a.registerComponentView(Ka),a.registerComponentView(to),a.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var Ct=Ua.value;function Bt(a,t){return O({show:t},a)}var ro=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),f=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),v=this.get("triggerEvent"),h=V(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var g=l;p.color!=null&&(g=O({color:p.color},l));var d=z(H(p),{boundaryGap:e,splitNumber:r,scale:i,axisLine:n,axisTick:o,axisLabel:s,name:p.text,showName:u,nameLocation:"end",nameGap:c,nameTextStyle:g,triggerEvent:v},!1);if(J(f)){var y=d.name;d.name=f.replace("{value}",y??"")}else tr(f)&&(d.name=f(d.name,d));var S=new Rt(d,null,this.ecModel);return ne(S,ar.prototype),S.mainType="radar",S.componentIndex=this.componentIndex,S},this);this._indicatorModels=h},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:z({lineStyle:{color:"#bbb"}},Ct.axisLine),axisLabel:Bt(Ct.axisLabel,!1),axisTick:Bt(Ct.axisTick,!1),splitLine:Bt(Ct.splitLine,!0),splitArea:Bt(Ct.splitArea,!0),indicator:[]},t}(_t),ao=["axisLine","axisTickLabel","axisName"],io=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var n=this.group;n.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var r=e.coordinateSystem,i=r.getIndicatorAxes(),n=V(i,function(o){var s=o.model.get("showName")?o.name:"",l=new Q(o.model,{axisName:s,position:[r.cx,r.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});m(n,function(o){m(ao,o.add,o),this.group.add(o.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var r=e.coordinateSystem,i=r.getIndicatorAxes();if(!i.length)return;var n=e.get("shape"),o=e.getModel("splitLine"),s=e.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),f=o.get("show"),c=s.get("show"),v=l.get("color"),h=u.get("color"),p=U(v)?v:[v],g=U(h)?h:[h],d=[],y=[];function S(k,nt,wt){var Tt=wt%nt.length;return k[Tt]=k[Tt]||[],Tt}if(n==="circle")for(var x=i[0].getTicksCoords(),b=r.cx,w=r.cy,A=0;A<x.length;A++){if(f){var T=S(d,p,A);d[T].push(new Pa({shape:{cx:b,cy:w,r:x[A].coord}}))}if(c&&A<x.length-1){var T=S(y,g,A);y[T].push(new Pi({shape:{cx:b,cy:w,r0:x[A].coord,r:x[A+1].coord}}))}}else for(var C,M=V(i,function(k,nt){var wt=k.getTicksCoords();return C=C==null?wt.length-1:Math.min(wt.length-1,C),V(wt,function(Tt){return r.coordToPoint(Tt.coord,nt)})}),L=[],A=0;A<=C;A++){for(var P=[],R=0;R<i.length;R++)P.push(M[R][A]);if(P[0]&&P.push(P[0].slice()),f){var T=S(d,p,A);d[T].push(new re({shape:{points:P}}))}if(c&&L){var T=S(y,g,A-1);y[T].push(new ae({shape:{points:P.concat(L)}}))}L=P.slice().reverse()}var F=l.getLineStyle(),G=u.getAreaStyle();m(y,function(k,nt){this.group.add(yr(k,{style:O({stroke:"none",fill:g[nt%g.length]},G),silent:!0}))},this),m(d,function(k,nt){this.group.add(yr(k,{style:O({fill:"none",stroke:p[nt%p.length]},F),silent:!0}))},this)},t.type="radar",t}(At),no=function(a){E(t,a);function t(e,r,i){var n=a.call(this,e,r,i)||this;return n.type="value",n.angle=0,n.name="",n}return t}(ir),oo=function(){function a(t,e,r){this.dimensions=[],this._model=t,this._indicatorAxes=V(t.getIndicatorModels(),function(i,n){var o="indicator_"+n,s=new no(o,new Me);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(o),s},this),this.resize(t,r)}return a.prototype.getIndicatorAxes=function(){return this._indicatorAxes},a.prototype.dataToPoint=function(t,e){var r=this._indicatorAxes[e];return this.coordToPoint(r.dataToCoord(t),e)},a.prototype.coordToPoint=function(t,e){var r=this._indicatorAxes[e],i=r.angle,n=this.cx+t*Math.cos(i),o=this.cy-t*Math.sin(i);return[n,o]},a.prototype.pointToData=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,i=Math.sqrt(e*e+r*r);e/=i,r/=i;for(var n=Math.atan2(-r,e),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var f=this._indicatorAxes[u],c=Math.abs(n-f.angle);c<o&&(s=f,l=u,o=c)}return[l,+(s&&s.coordToData(i))]},a.prototype.resize=function(t,e){var r=t.get("center"),i=e.getWidth(),n=e.getHeight(),o=Math.min(i,n)/2;this.cx=K(r[0],i),this.cy=K(r[1],n),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(J(s)||Ia(s))&&(s=[0,s]),this.r0=K(s[0],o),this.r=K(s[1],o),m(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var f=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;f=Math.atan2(Math.sin(f),Math.cos(f)),l.angle=f},this)},a.prototype.update=function(t,e){var r=this._indicatorAxes,i=this._model;m(r,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||t.getComponent("radar",s.get("radarIndex"))!==i)){var u=s.getData();m(r,function(f){f.scale.unionExtentFromData(u,u.mapDimension(f.dim))})}},this);var n=i.get("splitNumber"),o=new Me;o.setExtent(0,n),o.setInterval(1),m(r,function(s,l){Za(s.scale,s.model,o)})},a.prototype.convertToPixel=function(t,e,r){return console.warn("Not implemented."),null},a.prototype.convertFromPixel=function(t,e,r){return console.warn("Not implemented."),null},a.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},a.create=function(t,e){var r=[];return t.eachComponent("radar",function(i){var n=new a(i,t,e);r.push(n),i.coordinateSystem=n}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},a.dimensions=[],a}();function pl(a){a.registerCoordinateSystem("radar",oo),a.registerComponentModel(ro),a.registerComponentView(io),a.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(r){e.setItemVisual(r,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var Gr="\0_ec_interaction_mutex";function so(a,t,e){var r=or(a);r[t]=e}function lo(a,t,e){var r=or(a),i=r[t];i===e&&(r[t]=null)}function kr(a,t){return!!or(a)[t]}function or(a){return a[Gr]||(a[Gr]={})}Xi({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Fa);var uo=function(a){E(t,a);function t(e){var r=a.call(this)||this;r._zr=e;var i=X(r._mousedownHandler,r),n=X(r._mousemoveHandler,r),o=X(r._mouseupHandler,r),s=X(r._mousewheelHandler,r),l=X(r._pinchHandler,r);return r.enable=function(u,f){this.disable(),this._opt=O(H(f)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(e.on("mousedown",i),e.on("mousemove",n),e.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(e.on("mousewheel",s),e.on("pinch",l))},r.disable=function(){e.off("mousedown",i),e.off("mousemove",n),e.off("mouseup",o),e.off("mousewheel",s),e.off("pinch",l)},r}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!xr(e)){for(var r=e.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,n)&&(this._x=i,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!Ht("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||kr(this._zr,"globalPan"))){var r=e.offsetX,i=e.offsetY,n=this._x,o=this._y,s=r-n,l=i-o;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&Xa(e.event),qa(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:n,oldY:o,newX:r,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){xr(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var r=Ht("zoomOnMouseWheel",e,this._opt),i=Ht("moveOnMouseWheel",e,this._opt),n=e.wheelDelta,o=Math.abs(n),s=e.offsetX,l=e.offsetY;if(!(n===0||!r&&!i)){if(r){var u=o>3?1.4:o>1?1.2:1.1,f=n>0?u:1/u;de(this,"zoom","zoomOnMouseWheel",e,{scale:f,originX:s,originY:l,isAvailableBehavior:null})}if(i){var c=Math.abs(n),v=(n>0?1:-1)*(c>3?.4:c>1?.15:.05);de(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:v,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!kr(this._zr,"globalPan")){var r=e.pinchScale>1?1.1:1/1.1;de(this,"zoom",null,e,{scale:r,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(Va);function de(a,t,e,r,i){a.pointerChecker&&a.pointerChecker(r,i.originX,i.originY)&&(Xa(r.event),qa(a,t,e,r,i))}function qa(a,t,e,r,i){i.isAvailableBehavior=X(Ht,null,e,r),a.trigger(t,i)}function Ht(a,t,e){var r=e[a];return!a||r&&(!J(r)||t.event[r+"Key"])}function fo(a,t,e){var r=a.target;r.x+=t,r.y+=e,r.dirty()}function co(a,t,e,r){var i=a.target,n=a.zoomLimit,o=a.zoom=a.zoom||1;if(o*=t,n){var s=n.min||0,l=n.max||1/0;o=Math.max(Math.min(l,o),s)}var u=o/a.zoom;a.zoom=o,i.x-=(e-i.x)*(u-1),i.y-=(r-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var ho={axisPointer:1,tooltip:1,brush:1};function Qa(a,t,e){var r=t.getComponentByElement(a.topTarget),i=r&&r.coordinateSystem;return r&&r!==e&&!ho.hasOwnProperty(r.mainType)&&i&&i.model!==e}function ti(a){if(J(a)){var t=new DOMParser;a=t.parseFromString(a,"text/xml")}var e=a;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var ye,$t={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Ir=rt($t),Kt={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Fr=rt(Kt),vo=function(){function a(){this._defs={},this._root=null}return a.prototype.parse=function(t,e){e=e||{};var r=ti(t);this._defsUsePending=[];var i=new D;this._root=i;var n=[],o=r.getAttribute("viewBox")||"",s=parseFloat(r.getAttribute("width")||e.width),l=parseFloat(r.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),W(r,i,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,i,n,null,!1,!1),u=u.nextSibling;yo(this._defs,this._defsUsePending),this._defsUsePending=[];var f,c;if(o){var v=oe(o);v.length>=4&&(f={x:parseFloat(v[0]||0),y:parseFloat(v[1]||0),width:parseFloat(v[2]),height:parseFloat(v[3])})}if(f&&s!=null&&l!=null&&(c=ri(f,{x:0,y:0,width:s,height:l}),!e.ignoreViewBox)){var h=i;i=new D,i.add(h),h.scaleX=h.scaleY=c.scale,h.x=c.x,h.y=c.y}return!e.ignoreRootClip&&s!=null&&l!=null&&i.setClipPath(new ft({shape:{x:0,y:0,width:s,height:l}})),{root:i,width:s,height:l,viewBoxRect:f,viewBoxTransform:c,named:n}},a.prototype._parseNode=function(t,e,r,i,n,o){var s=t.nodeName.toLowerCase(),l,u=i;if(s==="defs"&&(n=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=e;else{if(!n){var f=ye[s];if(f&&_(ye,s)){l=f.call(this,t,e);var c=t.getAttribute("name");if(c){var v={name:c,namedFrom:null,svgNodeTagLower:s,el:l};r.push(v),s==="g"&&(u=v)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:l});e.add(l)}}var h=Vr[s];if(h&&_(Vr,s)){var p=h.call(this,t),g=t.getAttribute("id");g&&(this._defs[g]=p)}}if(l&&l.isGroup)for(var d=t.firstChild;d;)d.nodeType===1?this._parseNode(d,l,r,u,n,o):d.nodeType===3&&o&&this._parseText(d,l),d=d.nextSibling},a.prototype._parseText=function(t,e){var r=new $i({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Y(e,r),W(t,r,this._defsUsePending,!1,!1),po(r,e);var i=r.style,n=i.fontSize;n&&n<9&&(i.fontSize=9,r.scaleX*=n/9,r.scaleY*=n/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var s=r.getBoundingRect();return this._textX+=s.width,e.add(r),r},a.internalField=function(){ye={g:function(t,e){var r=new D;return Y(e,r),W(t,r,this._defsUsePending,!1,!1),r},rect:function(t,e){var r=new ft;return Y(e,r),W(t,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(t,e){var r=new Pa;return Y(e,r),W(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),r.silent=!0,r},line:function(t,e){var r=new mt;return Y(e,r),W(t,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(t,e){var r=new Di;return Y(e,r),W(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(t,e){var r=t.getAttribute("points"),i;r&&(i=Br(r));var n=new ae({shape:{points:i||[]},silent:!0});return Y(e,n),W(t,n,this._defsUsePending,!1,!1),n},polyline:function(t,e){var r=t.getAttribute("points"),i;r&&(i=Br(r));var n=new re({shape:{points:i||[]},silent:!0});return Y(e,n),W(t,n,this._defsUsePending,!1,!1),n},image:function(t,e){var r=new Ra;return Y(e,r),W(t,r,this._defsUsePending,!1,!1),r.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),r.silent=!0,r},text:function(t,e){var r=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",n=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(n),this._textY=parseFloat(i)+parseFloat(o);var s=new D;return Y(e,s),W(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var r=t.getAttribute("x"),i=t.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),i!=null&&(this._textY=parseFloat(i));var n=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",s=new D;return Y(e,s),W(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(n),this._textY+=parseFloat(o),s},path:function(t,e){var r=t.getAttribute("d")||"",i=Ei(r);return Y(e,i),W(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),a}(),Vr={lineargradient:function(a){var t=parseInt(a.getAttribute("x1")||"0",10),e=parseInt(a.getAttribute("y1")||"0",10),r=parseInt(a.getAttribute("x2")||"10",10),i=parseInt(a.getAttribute("y2")||"0",10),n=new Gi(t,e,r,i);return Or(a,n),zr(a,n),n},radialgradient:function(a){var t=parseInt(a.getAttribute("cx")||"0",10),e=parseInt(a.getAttribute("cy")||"0",10),r=parseInt(a.getAttribute("r")||"0",10),i=new Ri(t,e,r);return Or(a,i),zr(a,i),i}};function Or(a,t){var e=a.getAttribute("gradientUnits");e==="userSpaceOnUse"&&(t.global=!0)}function zr(a,t){for(var e=a.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var r=e.getAttribute("offset"),i=void 0;r&&r.indexOf("%")>0?i=parseInt(r,10)/100:r?i=parseFloat(r):i=0;var n={};ei(e,n,n);var o=n.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:o})}e=e.nextSibling}}function Y(a,t){a&&a.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),O(t.__inheritedStyle,a.__inheritedStyle))}function Br(a){for(var t=oe(a),e=[],r=0;r<t.length;r+=2){var i=parseFloat(t[r]),n=parseFloat(t[r+1]);e.push([i,n])}return e}function W(a,t,e,r,i){var n=t,o=n.__inheritedStyle=n.__inheritedStyle||{},s={};a.nodeType===1&&(So(a,t),ei(a,o,s),r||bo(a,o,s)),n.style=n.style||{},o.fill!=null&&(n.style.fill=Wr(n,"fill",o.fill,e)),o.stroke!=null&&(n.style.stroke=Wr(n,"stroke",o.stroke,e)),m(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(n.style[l]=parseFloat(o[l]))}),m(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(n.style[l]=o[l])}),i&&(n.__selfStyle=s),o.lineDash&&(n.style.lineDash=V(oe(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(n.invisible=!0),o.display==="none"&&(n.ignore=!0)}function po(a,t){var e=t.__selfStyle;if(e){var r=e.textBaseline,i=r;!r||r==="auto"||r==="baseline"?i="alphabetic":r==="before-edge"||r==="text-before-edge"?i="top":r==="after-edge"||r==="text-after-edge"?i="bottom":(r==="central"||r==="mathematical")&&(i="middle"),a.style.textBaseline=i}var n=t.__inheritedStyle;if(n){var o=n.textAlign,s=o;o&&(o==="middle"&&(s="center"),a.style.textAlign=s)}}var go=/^url\(\s*#(.*?)\)/;function Wr(a,t,e,r){var i=e&&e.match(go);if(i){var n=Ki(i[1]);r.push([a,t,n]);return}return e==="none"&&(e=null),e}function yo(a,t){for(var e=0;e<t.length;e++){var r=t[e];r[0].style[r[1]]=a[r[2]]}}var mo=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function oe(a){return a.match(mo)||[]}var xo=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,me=Math.PI/180;function So(a,t){var e=a.getAttribute("transform");if(e){e=e.replace(/,/g," ");var r=[],i=null;e.replace(xo,function(c,v,h){return r.push(v,h),""});for(var n=r.length-1;n>0;n-=2){var o=r[n],s=r[n-1],l=oe(o);switch(i=i||rr(),s){case"translate":Oa(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":qi(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":er(i,i,-parseFloat(l[0])*me,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*me);jt(i,[1,0,u,1,0,0],i);break;case"skewY":var f=Math.tan(parseFloat(l[0])*me);jt(i,[1,f,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}t.setLocalTransform(i)}}var Nr=/([^\s:;]+)\s*:\s*([^:;]+)/g;function ei(a,t,e){var r=a.getAttribute("style");if(r){Nr.lastIndex=0;for(var i;(i=Nr.exec(r))!=null;){var n=i[1],o=_($t,n)?$t[n]:null;o&&(t[o]=i[2]);var s=_(Kt,n)?Kt[n]:null;s&&(e[s]=i[2])}}}function bo(a,t,e){for(var r=0;r<Ir.length;r++){var i=Ir[r],n=a.getAttribute(i);n!=null&&(t[$t[i]]=n)}for(var r=0;r<Fr.length;r++){var i=Fr[r],n=a.getAttribute(i);n!=null&&(e[Kt[i]]=n)}}function ri(a,t){var e=t.width/a.width,r=t.height/a.height,i=Math.min(e,r);return{scale:i,x:-(a.x+a.width/2)*i+(t.x+t.width/2),y:-(a.y+a.height/2)*i+(t.y+t.height/2)}}function _o(a,t){var e=new vo;return e.parse(a,t)}var Ao=I(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),wo=function(){function a(t,e){this.type="geoSVG",this._usedGraphicMap=I(),this._freedGraphics=[],this._mapName=t,this._parsedXML=ti(e)}return a.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=Co(t.named),r=e.regions,i=e.regionsMap;this._regions=r,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},a.prototype._buildGraphic=function(t){var e,r;try{e=t&&_o(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=e.root,za(r!=null)}catch(d){throw new Error(`Invalid svg format
`+d.message)}var i=new D;i.add(r),i.isGeoSVGGraphicRoot=!0;var n=e.width,o=e.height,s=e.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,f=void 0,c=void 0,v=void 0;if(n!=null?(u=0,c=n):s&&(u=s.x,c=s.width),o!=null?(f=0,v=o):s&&(f=s.y,v=s.height),u==null||f==null){var h=r.getBoundingRect();u==null&&(u=h.x,c=h.width),f==null&&(f=h.y,v=h.height)}l=this._boundingRect=new j(u,f,c,v)}if(s){var p=ri(s,l);r.scaleX=r.scaleY=p.scale,r.x=p.x,r.y=p.y}i.setClipPath(new ft({shape:l.plain()}));var g=[];return m(e.named,function(d){Ao.get(d.svgNodeTagLower)!=null&&(g.push(d),To(d.el))}),{root:i,boundingRect:l,named:g}},a.prototype.useGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,r),r)},a.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);r&&(e.removeKey(t),this._freedGraphics.push(r))},a}();function To(a){a.silent=!1,a.isGroup&&a.traverse(function(t){t.silent=!1})}function Co(a){var t=[],e=I();return m(a,function(r){if(r.namedFrom==null){var i=new yn(r.name,r.el);t.push(i),e.set(r.name,i)}}),{regions:t,regionsMap:e}}var Fe=[126,25],Yr="",st=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var ot=0;ot<st.length;ot++)for(var vt=0;vt<st[ot].length;vt++)st[ot][vt][0]/=10.5,st[ot][vt][1]/=-10.5/.75,st[ot][vt][0]+=Fe[0],st[ot][vt][1]+=Fe[1];function Lo(a,t){if(a==="china"){for(var e=0;e<t.length;e++)if(t[e].name===Yr)return;t.push(new mn(Yr,V(st,function(r){return{type:"polygon",exterior:r}}),Fe))}}var Mo={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function Po(a,t){if(a==="china"){var e=Mo[t.name];if(e){var r=t.getCenter();r[0]+=e[0]/10.5,r[1]+=-e[1]/(10.5/.75),t.setCenter(r)}}}var Eo=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Do(a,t){a==="china"&&t.name===""&&t.geometries.push({type:"polygon",exterior:Eo[0]})}var Ro="name",Go=function(){function a(t,e,r){this.type="geoJSON",this._parsedMap=I(),this._mapName=t,this._specialAreas=r,this._geoJSON=Io(e)}return a.prototype.load=function(t,e){e=e||Ro;var r=this._parsedMap.get(e);if(!r){var i=this._parseToRegions(e);r=this._parsedMap.set(e,{regions:i,boundingRect:ko(i)})}var n=I(),o=[];return m(r.regions,function(s){var l=s.name;t&&_(t,l)&&(s=s.cloneShallow(l=t[l])),o.push(s),n.set(l,s)}),{regions:o,boundingRect:r.boundingRect||new j(0,0,0,0),regionsMap:n}},a.prototype._parseToRegions=function(t){var e=this._mapName,r=this._geoJSON,i;try{i=r?xn(r,t):[]}catch(n){throw new Error(`Invalid geoJson format
`+n.message)}return Lo(e,i),m(i,function(n){var o=n.name;Po(e,n),Do(e,n);var s=this._specialAreas&&this._specialAreas[o];s&&n.transformTo(s.left,s.top,s.width,s.height)},this),i},a.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},a}();function ko(a){for(var t,e=0;e<a.length;e++){var r=a[e].getBoundingRect();t=t||r.clone(),t.union(r)}return t}function Io(a){return J(a)?typeof JSON<"u"&&JSON.parse?JSON.parse(a):new Function("return ("+a+");")():a}var Lt=I();const it={registerMap:function(a,t,e){if(t.svg){var r=new wo(a,t.svg);Lt.set(a,r)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?e=t.specialAreas:i=t;var r=new Go(a,i,e);Lt.set(a,r)}},getGeoResource:function(a){return Lt.get(a)},getMapForUser:function(a){var t=Lt.get(a);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(a,t,e){var r=Lt.get(a);if(r)return r.load(t,e)}};var sr=["rect","circle","line","ellipse","polygon","polyline","path"],Fo=I(sr),Vo=I(sr.concat(["g"])),Oo=I(sr.concat(["g"])),ai=ee();function Wt(a){var t=a.getItemStyle(),e=a.get("areaColor");return e!=null&&(t.fill=e),t}function Xr(a){var t=a.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var zo=function(){function a(t){var e=new D;this.uid=ki("ec_map_draw"),this._controller=new uo(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new D),e.add(this._svgGroup=new D)}return a.prototype.draw=function(t,e,r,i,n){var o=t.mainType==="geo",s=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(y){!s&&y.getHostGeoModel()===t&&(s=y.getData())});var l=t.coordinateSystem,u=this._regionsGroup,f=this.group,c=l.getTransformInfo(),v=c.raw,h=c.roam,p=!u.childAt(0)||n;p?(f.x=h.x,f.y=h.y,f.scaleX=h.scaleX,f.scaleY=h.scaleY,f.dirty()):te(f,h,t);var g=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,d={api:r,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:g,isGeo:o,transformInfoRaw:v};l.resourceType==="geoJSON"?this._buildGeoJSON(d):l.resourceType==="geoSVG"&&this._buildSVG(d),this._updateController(t,e,r),this._updateMapSelectHandler(t,u,r,i)},a.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=I(),r=I(),i=this._regionsGroup,n=t.transformInfoRaw,o=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function f(h,p){return p&&(h=p(h)),h&&[h[0]*n.scaleX+n.x,h[1]*n.scaleY+n.y]}function c(h){for(var p=[],g=!u&&l&&l.project,d=0;d<h.length;++d){var y=f(h[d],g);y&&p.push(y)}return p}function v(h){return{shape:{points:c(h)}}}i.removeAll(),m(t.geo.regions,function(h){var p=h.name,g=e.get(p),d=r.get(p)||{},y=d.dataIdx,S=d.regionModel;if(!g){g=e.set(p,new D),i.add(g),y=s?s.indexOfName(p):null,S=t.isGeo?o.getRegionModel(p):s?s.getItemModel(y):null;var x=S.get("silent",!0);x!=null&&(g.silent=x),r.set(p,{dataIdx:y,regionModel:S})}var b=[],w=[];m(h.geometries,function(C){if(C.type==="polygon"){var M=[C.exterior].concat(C.interiors||[]);u&&(M=$r(M,u)),m(M,function(P){b.push(new ae(v(P)))})}else{var L=C.points;u&&(L=$r(L,u,!0)),m(L,function(P){w.push(new re(v(P)))})}});var A=f(h.getCenter(),l&&l.project);function T(C,M){if(C.length){var L=new Qi({culling:!0,segmentIgnoreThreshold:1,shape:{paths:C}});g.add(L),Hr(t,L,y,S),Ur(t,L,p,S,o,y,A),M&&(Xr(L),m(L.states,Xr))}}T(b),T(w,!0)}),e.each(function(h,p){var g=r.get(p),d=g.dataIdx,y=g.regionModel;Zr(t,h,p,y,o,d),jr(t,h,p,y,o),Jr(t,h,p,y,o)},this)},a.prototype._buildSVG=function(t){var e=t.geo.map,r=t.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=I(),n=!1;m(this._svgGraphicRecord.named,function(o){var s=o.name,l=t.mapOrGeoModel,u=t.data,f=o.svgNodeTagLower,c=o.el,v=u?u.indexOfName(s):null,h=l.getRegionModel(s);Fo.get(f)!=null&&c instanceof Le&&Hr(t,c,v,h),c instanceof Le&&(c.culling=!0);var p=h.get("silent",!0);if(p!=null&&(c.silent=p),c.z2EmphasisLift=0,!o.namedFrom&&(Oo.get(f)!=null&&Ur(t,c,s,h,l,v,null),Zr(t,c,s,h,l,v),jr(t,c,s,h,l),Vo.get(f)!=null)){var g=Jr(t,c,s,h,l);g==="self"&&(n=!0);var d=i.get(s)||i.set(s,[]);d.push(c)}},this),this._enableBlurEntireSVG(n,t)},a.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var r=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=r.opacity;this._svgGraphicRecord.root.traverse(function(n){if(!n.isGroup){Ea(n);var o=n.ensureState("blur").style||{};o.opacity==null&&i!=null&&(o.opacity=i),n.ensureState("emphasis")}})}},a.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},a.prototype.findHighDownDispatchers=function(t,e){if(t==null)return[];var r=e.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var n=i.get(t);return n?[n]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},a.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},a.prototype._useSVG=function(t){var e=it.getGeoResource(t);if(e&&e.type==="geoSVG"){var r=e.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=t}},a.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var e=it.getGeoResource(t);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},a.prototype._updateController=function(t,e,r){var i=t.coordinateSystem,n=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=i.getZoom(),n.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}n.off("pan").on("pan",function(u){this._mouseDownFlag=!1,fo(o,u.dx,u.dy),r.dispatchAction(B(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),n.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,co(o,u.scale,u.originX,u.originY),r.dispatchAction(B(l(),{totalZoom:o.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),n.setPointerChecker(function(u,f,c){return i.containPoint([f,c])&&!Qa(u,r,t)})},a.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=ai(e).ignore)})},a.prototype._updateMapSelectHandler=function(t,e,r,i){var n=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){n._mouseDownFlag=!0}),e.on("click",function(o){n._mouseDownFlag&&(n._mouseDownFlag=!1)}))},a}();function Hr(a,t,e,r){var i=r.getModel("itemStyle"),n=r.getModel(["emphasis","itemStyle"]),o=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),l=Wt(i),u=Wt(n),f=Wt(s),c=Wt(o),v=a.data;if(v){var h=v.getItemVisual(e,"style"),p=v.getItemVisual(e,"decal");a.isVisualEncodedByVisualMap&&h.fill&&(l.fill=h.fill),p&&(l.decal=Hi(p,a.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=f,t.ensureState("blur").style=c,Ea(t)}function Ur(a,t,e,r,i,n,o){var s=a.data,l=a.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),n)),f=s&&s.getItemLayout(n);if(l||u||f&&f.showLabel){var c=l?e:n,v=void 0;(!s||n>=0)&&(v=i);var h=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Ze(t,Ot(r),{labelFetcher:v,labelDataIndex:c,defaultText:e},h);var p=t.getTextContent();if(p&&(ai(p).ignore=p.ignore,t.textConfig&&o)){var g=t.getBoundingRect().clone();t.textConfig.layoutRect=g,t.textConfig.position=[(o[0]-g.x)/g.width*100+"%",(o[1]-g.y)/g.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function Zr(a,t,e,r,i,n){a.data?a.data.setItemGraphicEl(n,t):dt(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:e,region:r&&r.option||{}}}function jr(a,t,e,r,i){a.data||$e({el:t,componentModel:i,itemName:e,itemTooltipOption:r.get("tooltip")})}function Jr(a,t,e,r,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var n=r.getModel("emphasis"),o=n.get("focus");return je(t,o,n.get("blurScope"),n.get("disabled")),a.isGeo&&Ii(t,i,e),o}function $r(a,t,e){var r=[],i;function n(){i=[]}function o(){i.length&&(r.push(i),i=[])}var s=t({polygonStart:n,polygonEnd:o,lineStart:n,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!e&&s.polygonStart(),m(a,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!e&&s.polygonEnd(),r}var Kr=et,ii=function(a){E(t,a);function t(e){var r=a.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new zt,r._rawTransformable=new zt,r.name=e,r}return t.prototype.setBoundingRect=function(e,r,i,n){return this._rect=new j(e,r,i,n),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,r,i,n){this._transformTo(e,r,i,n),this._viewRect=new j(e,r,i,n)},t.prototype._transformTo=function(e,r,i,n){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new j(e,r,i,n));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(e,r){e&&(this._center=[K(e[0],r.getWidth()),K(e[1],r.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var r=this.zoomLimit;r&&(r.max!=null&&(e=Math.min(r.max,e)),r.min!=null&&(e=Math.max(r.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),r=e.x+e.width/2,i=e.y+e.height/2;return[r,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),o=this.getZoom();n=et([],n,e),i=et([],i,e),r.originX=n[0],r.originY=n[1],r.x=i[0]-n[0],r.y=i[1]-n[1],r.scaleX=r.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,r=this._rawTransformable;r.parent=e,e.updateTransform(),r.updateTransform(),tn(this.transform||(this.transform=[]),r.transform||rr()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],Ga(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,r=this._roamTransformable,i=new zt;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,r,i){var n=r?this._rawTransform:this.transform;return i=i||[],n?Kr(i,e,n):en(i,e)},t.prototype.pointToData=function(e){var r=this.invTransform;return r?Kr([],e,r):[e[0],e[1]]},t.prototype.convertToPixel=function(e,r,i){var n=qr(r);return n===this?n.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var n=qr(r);return n===this?n.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(zt);function qr(a){var t=a.seriesModel;return t?t.coordinateSystem:null}var Bo={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},ni=["lng","lat"],Ve=function(a){E(t,a);function t(e,r,i){var n=a.call(this,e)||this;n.dimensions=ni,n.type="geo",n._nameCoordMap=I(),n.map=r;var o=i.projection,s=it.load(r,i.nameMap,i.nameProperty),l=it.getGeoResource(r);n.resourceType=l?l.type:null;var u=n.regions=s.regions,f=Bo[l.type];n._regionsMap=s.regionsMap,n.regions=s.regions,n.projection=o;var c;if(o)for(var v=0;v<u.length;v++){var h=u[v].getBoundingRect(o);c=c||h.clone(),c.union(h)}else c=s.boundingRect;return n.setBoundingRect(c.x,c.y,c.width,c.height),n.aspectScale=o?1:Pt(i.aspectScale,f.aspectScale),n._invertLongitute=o?!1:f.invertLongitute,n}return t.prototype._transformTo=function(e,r,i,n){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new j(e,r,i,n));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var r=this.regions,i=0;i<r.length;i++){var n=r[i];if(n.type==="geoJSON"&&n.contain(e))return r[i]}},t.prototype.addGeoCoord=function(e,r){this._nameCoordMap.set(e,r)},t.prototype.getGeoCoord=function(e){var r=this._regionsMap.get(e);return this._nameCoordMap.get(e)||r&&r.getCenter()},t.prototype.dataToPoint=function(e,r,i){if(J(e)&&(e=this.getGeoCoord(e)),e){var n=this.projection;return n&&(e=n.project(e)),e&&this.projectedToPoint(e,r,i)}},t.prototype.pointToData=function(e){var r=this.projection;return r&&(e=r.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return a.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,r,i){return a.prototype.dataToPoint.call(this,e,r,i)},t.prototype.convertToPixel=function(e,r,i){var n=Qr(r);return n===this?n.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var n=Qr(r);return n===this?n.pointToData(i):null},t}(ii);ne(Ve,ii);function Qr(a){var t=a.geoModel,e=a.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",yt).models[0]||{}).coordinateSystem:null}function ta(a,t){var e=a.get("boundingCoords");if(e!=null){var r=e[0],i=e[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var n=this.projection;if(n){var o=r[0],s=r[1],l=i[0],u=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var f=function(A,T,C,M){for(var L=C-A,P=M-T,R=0;R<=100;R++){var F=R/100,G=n.project([A+L*F,T+P*F]);an(r,r,G),nn(i,i,G)}};f(o,s,l,s),f(l,s,l,u),f(l,u,o,u),f(o,u,l,s)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var c=this.getBoundingRect(),v=a.get("layoutCenter"),h=a.get("layoutSize"),p=t.getWidth(),g=t.getHeight(),d=c.width/c.height*this.aspectScale,y=!1,S,x;v&&h&&(S=[K(v[0],p),K(v[1],g)],x=K(h,Math.min(p,g)),!isNaN(S[0])&&!isNaN(S[1])&&!isNaN(x)&&(y=!0));var b;if(y)b={},d>1?(b.width=x,b.height=x/d):(b.height=x,b.width=x*d),b.y=S[1]-b.height/2,b.x=S[0]-b.width/2;else{var w=a.getBoxLayoutParams();w.aspect=d,b=Je(w,{width:p,height:g})}this.setViewRect(b.x,b.y,b.width,b.height),this.setCenter(a.get("center"),t),this.setZoom(a.get("zoom"))}function Wo(a,t){m(t.get("geoCoord"),function(e,r){a.addGeoCoord(r,e)})}var No=function(){function a(){this.dimensions=ni}return a.prototype.create=function(t,e){var r=[];function i(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,s){var l=o.get("map"),u=new Ve(l+s,l,B({nameMap:o.get("nameMap")},i(o)));u.zoomLimit=o.get("scaleLimit"),r.push(u),o.coordinateSystem=u,u.model=o,u.resize=ta,u.resize(o,e)}),t.eachSeries(function(o){var s=o.get("coordinateSystem");if(s==="geo"){var l=o.get("geoIndex")||0;o.coordinateSystem=r[l]}});var n={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();n[s]=n[s]||[],n[s].push(o)}}),m(n,function(o,s){var l=V(o,function(f){return f.get("nameMap")}),u=new Ve(s,s,B({nameMap:rn(l)},i(o[0])));u.zoomLimit=xt.apply(null,V(o,function(f){return f.get("scaleLimit")})),r.push(u),u.resize=ta,u.resize(o[0],e),m(o,function(f){f.coordinateSystem=u,Wo(u,f)})}),r},a.prototype.getFilledRegions=function(t,e,r,i){for(var n=(t||[]).slice(),o=I(),s=0;s<n.length;s++)o.set(n[s].name,n[s]);var l=it.load(e,r,i);return m(l.regions,function(u){var f=u.name,c=o.get(f),v=u.properties&&u.properties.echartsStyle;c||(c={name:f},n.push(c)),v&&z(c,v)}),n},a}(),oi=new No,Yo=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r,i){var n=it.getGeoResource(e.map);if(n&&n.type==="geoJSON"){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(e,i),Fi(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,r=this.option;r.regions=oi.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=Ba(r.regions||[],function(n,o){var s=o.name;return s&&(n.set(s,new Rt(o,e,e.ecModel)),o.selected&&(i[s]=!0)),n},I()),r.selectedMap||(r.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Rt(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,r){var i=this.getRegionModel(e),n=r==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:e};if(tr(n))return o.status=r,n(o);if(J(n))return n.replace("{a}",e??"")},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var r=this.option,i=r.selectedMode;if(i){i!=="multiple"&&(r.selectedMap=null);var n=r.selectedMap||(r.selectedMap={});n[e]=!0}},t.prototype.unSelect=function(e){var r=this.option.selectedMap;r&&(r[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var r=this.option.selectedMap;return!!(r&&r[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(_t);function ea(a,t){return a.pointToProjected?a.pointToProjected(t):a.pointToData(t)}function Xo(a,t,e,r){var i=a.getZoom(),n=a.getCenter(),o=t.zoom,s=a.projectedToPoint?a.projectedToPoint(n):a.dataToPoint(n);if(t.dx!=null&&t.dy!=null&&(s[0]-=t.dx,s[1]-=t.dy,a.setCenter(ea(a,s),r)),o!=null){if(e){var l=e.min||0,u=e.max||1/0;o=Math.max(Math.min(i*o,u),l)/i}a.scaleX*=o,a.scaleY*=o;var f=(t.originX-a.x)*(o-1),c=(t.originY-a.y)*(o-1);a.x-=f,a.y-=c,a.updateTransform(),a.setCenter(ea(a,s),r),a.setZoom(o*i)}return{center:a.getCenter(),zoom:a.getZoom()}}var Ho=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return t.prototype.init=function(e,r){this._api=r},t.prototype.render=function(e,r,i,n){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new zo(i));var o=this._mapDraw;o.draw(e,r,i,this,n),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,r,i)},t.prototype._handleRegionClick=function(e){var r;Ui(e.target,function(i){return(r=dt(i).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},t.prototype.updateSelectStatus=function(e,r,i){var n=this;this._mapDraw.group.traverse(function(o){var s=dt(o).eventData;if(s)return n._model.isSelected(s.name)?i.enterSelect(o):i.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(At);function Uo(a,t,e){it.registerMap(a,t,e)}function gl(a){a.registerCoordinateSystem("geo",oi),a.registerComponentModel(Yo),a.registerComponentView(Ho),a.registerImpl("registerMap",Uo),a.registerImpl("getMap",function(e){return it.getMapForUser(e)});function t(e,r){r.update="geo:updateSelectStatus",a.registerAction(r,function(i,n){var o={},s=[];return n.eachComponent({mainType:"geo",query:i},function(l){l[e](i.name);var u=l.coordinateSystem;m(u.regions,function(c){o[c.name]=l.isSelected(c.name)||!1});var f=[];m(o,function(c,v){o[v]&&f.push(v)}),s.push({geoIndex:l.componentIndex,name:f})}),{selected:o,allSelected:s,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,r,i){var n=e.componentType||"series";r.eachComponent({mainType:n,query:e},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=Xo(s,e,o.get("scaleLimit"),i);o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),n==="series"&&m(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}var Ft=m,Zo=tt,qt=-1,si=function(){function a(t){var e=t.mappingMethod,r=t.type,i=this.option=H(t);this.type=r,this.mappingMethod=e,this._normalizeData=$o[e];var n=a.visualHandlers[r];this.applyVisual=n.applyVisual,this.getColorMapper=n.getColorMapper,this._normalizedToVisual=n._normalizedToVisual[e],e==="piecewise"?(xe(i),jo(i)):e==="category"?i.categories?Jo(i):xe(i,!0):(za(e!=="linear"||i.dataExtent),xe(i))}return a.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},a.prototype.getNormalizer=function(){return X(this._normalizeData,this)},a.listVisualTypes=function(){return rt(a.visualHandlers)},a.isValidType=function(t){return a.visualHandlers.hasOwnProperty(t)},a.eachVisual=function(t,e,r){tt(t)?m(t,e,r):e.call(r,t)},a.mapVisual=function(t,e,r){var i,n=U(t)?[]:tt(t)?{}:(i=!0,null);return a.eachVisual(t,function(o,s){var l=e.call(r,o,s);i?n=l:n[s]=l}),n},a.retrieveVisuals=function(t){var e={},r;return t&&Ft(a.visualHandlers,function(i,n){t.hasOwnProperty(n)&&(e[n]=t[n],r=!0)}),r?e:null},a.prepareVisualTypes=function(t){if(U(t))t=t.slice();else if(Zo(t)){var e=[];Ft(t,function(r,i){e.push(i)}),t=e}else return[];return t.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),t},a.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},a.findPieceIndex=function(t,e,r){for(var i,n=1/0,o=0,s=e.length;o<s;o++){var l=e[o].value;if(l!=null){if(l===t||J(l)&&l===t+"")return o;r&&v(l,o)}}for(var o=0,s=e.length;o<s;o++){var u=e[o],f=u.interval,c=u.close;if(f){if(f[0]===-1/0){if(Yt(c[1],t,f[1]))return o}else if(f[1]===1/0){if(Yt(c[0],f[0],t))return o}else if(Yt(c[0],f[0],t)&&Yt(c[1],t,f[1]))return o;r&&v(f[0],o),r&&v(f[1],o)}}if(r)return t===1/0?e.length-1:t===-1/0?0:i;function v(h,p){var g=Math.abs(h-t);g<n&&(n=g,i=p)}},a.visualHandlers={color:{applyVisual:Mt("color"),getColorMapper:function(){var t=this.option;return X(t.mappingMethod==="category"?function(e,r){return!r&&(e=this._normalizeData(e)),Et.call(this,e)}:function(e,r,i){var n=!!i;return!r&&(e=this._normalizeData(e)),i=ue(e,t.parsedVisual,i),n?i:le(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return le(ue(t,this.option.parsedVisual),"rgba")},category:Et,piecewise:function(t,e){var r=ze.call(this,e);return r==null&&(r=le(ue(t,this.option.parsedVisual),"rgba")),r},fixed:lt}},colorHue:Nt(function(t,e){return fe(t,e)}),colorSaturation:Nt(function(t,e){return fe(t,null,e)}),colorLightness:Nt(function(t,e){return fe(t,null,null,e)}),colorAlpha:Nt(function(t,e){return sn(t,e)}),decal:{applyVisual:Mt("decal"),_normalizedToVisual:{linear:null,category:Et,piecewise:null,fixed:null}},opacity:{applyVisual:Mt("opacity"),_normalizedToVisual:Oe([0,1])},liftZ:{applyVisual:Mt("liftZ"),_normalizedToVisual:{linear:lt,category:lt,piecewise:lt,fixed:lt}},symbol:{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("symbol",i)},_normalizedToVisual:{linear:ra,category:Et,piecewise:function(t,e){var r=ze.call(this,e);return r==null&&(r=ra.call(this,t)),r},fixed:lt}},symbolSize:{applyVisual:Mt("symbolSize"),_normalizedToVisual:Oe([0,1])}},a}();function jo(a){var t=a.pieceList;a.hasSpecialVisual=!1,m(t,function(e,r){e.originIndex=r,e.visual!=null&&(a.hasSpecialVisual=!0)})}function Jo(a){var t=a.categories,e=a.categoryMap={},r=a.visual;if(Ft(t,function(o,s){e[o]=s}),!U(r)){var i=[];tt(r)?Ft(r,function(o,s){var l=e[s];i[l??qt]=o}):i[qt]=r,r=li(a,i)}for(var n=t.length-1;n>=0;n--)r[n]==null&&(delete e[t[n]],t.pop())}function xe(a,t){var e=a.visual,r=[];tt(e)?Ft(e,function(n){r.push(n)}):e!=null&&r.push(e);var i={color:1,symbol:1};!t&&r.length===1&&!i.hasOwnProperty(a.type)&&(r[1]=r[0]),li(a,r)}function Nt(a){return{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("color",a(e("color"),i))},_normalizedToVisual:Oe([0,1])}}function ra(a){var t=this.option.visual;return t[Math.round(Gt(a,[0,1],[0,t.length-1],!0))]||{}}function Mt(a){return function(t,e,r){r(a,this.mapValueToVisual(t))}}function Et(a){var t=this.option.visual;return t[this.option.loop&&a!==qt?a%t.length:a]}function lt(){return this.option.visual[0]}function Oe(a){return{linear:function(t){return Gt(t,a,this.option.visual,!0)},category:Et,piecewise:function(t,e){var r=ze.call(this,e);return r==null&&(r=Gt(t,a,this.option.visual,!0)),r},fixed:lt}}function ze(a){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var r=si.findPieceIndex(a,e),i=e[r];if(i&&i.visual)return i.visual[this.type]}}function li(a,t){return a.visual=t,a.type==="color"&&(a.parsedVisual=V(t,function(e){var r=on(e);return r||[0,0,0,1]})),t}var $o={linear:function(a){return Gt(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var t=this.option.pieceList,e=si.findPieceIndex(a,t,!0);if(e!=null)return Gt(e,[0,t.length-1],[0,1],!0)},category:function(a){var t=this.option.categories?this.option.categoryMap[a]:a;return t??qt},fixed:Fa};function Yt(a,t,e){return a?t<=e:t<e}var aa=mt.prototype,Se=Vi.prototype,ui=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return a}();(function(a){E(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t})(ui);function be(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}var Ko=function(a){E(t,a);function t(e){var r=a.call(this,e)||this;return r.type="ec-line",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ui},t.prototype.buildPath=function(e,r){be(r)?aa.buildPath.call(this,e,r):Se.buildPath.call(this,e,r)},t.prototype.pointAt=function(e){return be(this.shape)?aa.pointAt.call(this,e):Se.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var r=this.shape,i=be(r)?[r.x2-r.x1,r.y2-r.y1]:Se.tangentAt.call(this,e);return Wa(i,i)},t}(Na),_e=["fromSymbol","toSymbol"];function ia(a){return"_"+a+"Type"}function na(a,t,e){var r=t.getItemVisual(e,a);if(!r||r==="none")return r;var i=t.getItemVisual(e,a+"Size"),n=t.getItemVisual(e,a+"Rotate"),o=t.getItemVisual(e,a+"Offset"),s=t.getItemVisual(e,a+"KeepAspect"),l=qe(i),u=ie(o||0,l);return r+l+u+(n||"")+(s||"")}function oa(a,t,e){var r=t.getItemVisual(e,a);if(!(!r||r==="none")){var i=t.getItemVisual(e,a+"Size"),n=t.getItemVisual(e,a+"Rotate"),o=t.getItemVisual(e,a+"Offset"),s=t.getItemVisual(e,a+"KeepAspect"),l=qe(i),u=ie(o||0,l),f=Ke(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return f.__specifiedRotation=n==null||isNaN(n)?void 0:+n*Math.PI/180||0,f.name=a,f}}function qo(a){var t=new Ko({name:"line",subPixelOptimize:!0});return Be(t.shape,a),t}function Be(a,t){a.x1=t[0][0],a.y1=t[0][1],a.x2=t[1][0],a.y2=t[1][1],a.percent=1;var e=t[2];e?(a.cpx1=e[0],a.cpy1=e[1]):(a.cpx1=NaN,a.cpy1=NaN)}var Qo=function(a){E(t,a);function t(e,r,i){var n=a.call(this)||this;return n._createLine(e,r,i),n}return t.prototype._createLine=function(e,r,i){var n=e.hostModel,o=e.getItemLayout(r),s=qo(o);s.shape.percent=0,wa(s,{shape:{percent:1}},n,r),this.add(s),m(_e,function(l){var u=oa(l,e,r);this.add(u),this[ia(l)]=na(l,e,r)},this),this._updateCommonStl(e,r,i)},t.prototype.updateData=function(e,r,i){var n=e.hostModel,o=this.childOfName("line"),s=e.getItemLayout(r),l={shape:{}};Be(l.shape,s),te(o,l,n,r),m(_e,function(u){var f=na(u,e,r),c=ia(u);if(this[c]!==f){this.remove(this.childOfName(u));var v=oa(u,e,r);this.add(v)}this[c]=f},this),this._updateCommonStl(e,r,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,r,i){var n=e.hostModel,o=this.childOfName("line"),s=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,f=i&&i.labelStatesModels,c=i&&i.emphasisDisabled,v=i&&i.focus,h=i&&i.blurScope;if(!i||e.hasItemOption){var p=e.getItemModel(r),g=p.getModel("emphasis");s=g.getModel("lineStyle").getLineStyle(),l=p.getModel(["blur","lineStyle"]).getLineStyle(),u=p.getModel(["select","lineStyle"]).getLineStyle(),c=g.get("disabled"),v=g.get("focus"),h=g.get("blurScope"),f=Ot(p)}var d=e.getItemVisual(r,"style"),y=d.stroke;o.useStyle(d),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,m(_e,function(A){var T=this.childOfName(A);if(T){T.setColor(y),T.style.opacity=d.opacity;for(var C=0;C<mr.length;C++){var M=mr[C],L=o.getState(M);if(L){var P=L.style||{},R=T.ensureState(M),F=R.style||(R.style={});P.stroke!=null&&(F[T.__isEmptyBrush?"stroke":"fill"]=P.stroke),P.opacity!=null&&(F.opacity=P.opacity)}}T.markRedraw()}},this);var S=n.getRawValue(r);Ze(this,f,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(A,T){return n.getFormattedLabel(A,T,e.dataType)}},inheritColor:y||"#000",defaultOpacity:d.opacity,defaultText:(S==null?e.getName(r):isFinite(S)?Dt(S):S)+""});var x=this.getTextContent();if(x){var b=f.normal;x.__align=x.style.align,x.__verticalAlign=x.style.verticalAlign,x.__position=b.get("position")||"middle";var w=b.get("distance");U(w)||(w=[w,w]),x.__labelDistance=w}this.setTextConfig({position:null,local:!0,inside:!1}),je(this,v,h,c)},t.prototype.highlight=function(){_a(this)},t.prototype.downplay=function(){Aa(this)},t.prototype.updateLayout=function(e,r){this.setLinePoints(e.getItemLayout(r))},t.prototype.setLinePoints=function(e){var r=this.childOfName("line");Be(r.shape,e),r.dirty()},t.prototype.beforeUpdate=function(){var e=this,r=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),n=e.getTextContent();if(!r&&!i&&(!n||n.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=e.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,f=l.pointAt(0),c=l.pointAt(u),v=ln([],c,f);Wa(v,v);function h(L,P){var R=L.__specifiedRotation;if(R==null){var F=l.tangentAt(P);L.attr("rotation",(P===1?-1:1)*Math.PI/2-Math.atan2(F[1],F[0]))}else L.attr("rotation",R)}if(r&&(r.setPosition(f),h(r,0),r.scaleX=r.scaleY=o*u,r.markRedraw()),i&&(i.setPosition(c),h(i,1),i.scaleX=i.scaleY=o*u,i.markRedraw()),n&&!n.ignore){n.x=n.y=0,n.originX=n.originY=0;var p=void 0,g=void 0,d=n.__labelDistance,y=d[0]*o,S=d[1]*o,x=u/2,b=l.tangentAt(x),w=[b[1],-b[0]],A=l.pointAt(x);w[1]>0&&(w[0]=-w[0],w[1]=-w[1]);var T=b[0]<0?-1:1;if(n.__position!=="start"&&n.__position!=="end"){var C=-Math.atan2(b[1],b[0]);c[0]<f[0]&&(C=Math.PI+C),n.rotation=C}var M=void 0;switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":M=-S,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":M=S,g="top";break;default:M=0,g="middle"}switch(n.__position){case"end":n.x=v[0]*y+c[0],n.y=v[1]*S+c[1],p=v[0]>.8?"left":v[0]<-.8?"right":"center",g=v[1]>.8?"top":v[1]<-.8?"bottom":"middle";break;case"start":n.x=-v[0]*y+f[0],n.y=-v[1]*S+f[1],p=v[0]>.8?"right":v[0]<-.8?"left":"center",g=v[1]>.8?"bottom":v[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=y*T+f[0],n.y=f[1]+M,p=b[0]<0?"right":"left",n.originX=-y*T,n.originY=-M;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=A[0],n.y=A[1]+M,p="center",n.originY=-M;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-y*T+c[0],n.y=c[1]+M,p=b[0]>=0?"right":"left",n.originX=y*T,n.originY=-M;break}n.scaleX=n.scaleY=o,n.setStyle({verticalAlign:n.__verticalAlign||g,align:n.__align||p})}},t}(D),dl=function(){function a(t){this.group=new D,this._LineCtor=t||Qo}return a.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var r=this,i=r.group,n=r._lineData;r._lineData=t,n||i.removeAll();var o=sa(t);t.diff(n).add(function(s){e._doAdd(t,s,o)}).update(function(s,l){e._doUpdate(n,t,l,s,o)}).remove(function(s){i.remove(n.getItemGraphicEl(s))}).execute()},a.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,r){e.updateLayout(t,r)},this)},a.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=sa(t),this._lineData=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function r(s){!s.isGroup&&!ts(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var n=e.getItemLayout(i);if(Ae(n)){var o=new this._LineCtor(e,i,this._seriesScope);o.traverse(r),this.group.add(o),e.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},a.prototype.remove=function(){this.group.removeAll()},a.prototype.eachRendered=function(t){Ta(this._progressiveEls||this.group,t)},a.prototype._doAdd=function(t,e,r){var i=t.getItemLayout(e);if(Ae(i)){var n=new this._LineCtor(t,e,r);t.setItemGraphicEl(e,n),this.group.add(n)}},a.prototype._doUpdate=function(t,e,r,i,n){var o=t.getItemGraphicEl(r);if(!Ae(e.getItemLayout(i))){this.group.remove(o);return}o?o.updateData(e,i,n):o=new this._LineCtor(e,i,n),e.setItemGraphicEl(i,o),this.group.add(o)},a}();function ts(a){return a.animators&&a.animators.length>0}function sa(a){var t=a.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:Ot(t)}}function la(a){return isNaN(a[0])||isNaN(a[1])}function Ae(a){return a&&!la(a[0])&&!la(a[1])}function es(a){rs(a),as(a)}function rs(a){if(!a.parallel){var t=!1;m(a.series,function(e){e&&e.type==="parallel"&&(t=!0)}),t&&(a.parallel=[{}])}}function as(a){var t=kt(a.parallelAxis);m(t,function(e){if(tt(e)){var r=e.parallelIndex||0,i=kt(a.parallel)[r];i&&i.parallelAxisDefault&&z(e,i.parallelAxisDefault,!1)}})}var is=5,ns=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){this._model=e,this._api=i,this._handlers||(this._handlers={},m(os,function(n,o){i.getZr().on(o,this._handlers[o]=X(n,this))},this)),Zi(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,r){ji(this,"_throttledDispatchExpand"),m(this._handlers,function(i,n){r.getZr().off(n,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(B({type:"parallelAxisExpand"},e))},t.type="parallel",t}(At),os={mousedown:function(a){we(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var t=this._mouseDownPoint;if(we(this,"click")&&t){var e=[a.offsetX,a.offsetY],r=Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2);if(r>is)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!(this._mouseDownPoint||!we(this,"mousemove"))){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]),r=e.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:e.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function we(a,t){var e=a._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var ss=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){a.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var r=this.option;e&&z(r,e,!0),this._initDimensions()},t.prototype.contains=function(e,r){var i=e.get("parallelIndex");return i!=null&&r.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){m(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){e.hasOwnProperty(r)&&(this.option[r]=e[r])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],r=this.parallelAxisIndex=[],i=Qe(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(n){return(n.get("parallelIndex")||0)===this.componentIndex},this);m(i,function(n){e.push("dim"+n.get("dim")),r.push(n.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(_t),ls=function(a){E(t,a);function t(e,r,i,n,o){var s=a.call(this,e,r,i)||this;return s.type=n||"value",s.axisIndex=o,s}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(ir);function us(a,t,e,r,i,n){a=a||0;var o=e[1]-e[0];if(i!=null&&(i=pt(i,[0,o])),n!=null&&(n=Math.max(n,i??0)),r==="all"){var s=Math.abs(t[1]-t[0]);s=pt(s,[0,o]),i=n=pt(s,[i,n]),r=0}t[0]=pt(t[0],e),t[1]=pt(t[1],e);var l=Te(t,r);t[r]+=a;var u=i||0,f=e.slice();l.sign<0?f[0]+=u:f[1]-=u,t[r]=pt(t[r],f);var c;return c=Te(t,r),i!=null&&(c.sign!==l.sign||c.span<i)&&(t[1-r]=t[r]+l.sign*i),c=Te(t,r),n!=null&&c.span>n&&(t[1-r]=t[r]+c.sign*n),t}function Te(a,t){var e=a[t]-a[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function pt(a,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,a))}var Ce=m,fi=Math.min,ci=Math.max,ua=Math.floor,fs=Math.ceil,fa=Dt,cs=Math.PI,hs=function(){function a(t,e,r){this.type="parallel",this._axesMap=I(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,r)}return a.prototype._init=function(t,e,r){var i=t.dimensions,n=t.parallelAxisIndex;Ce(i,function(o,s){var l=n[s],u=e.getComponent("parallelAxis",l),f=this._axesMap.set(o,new ls(o,Ya(u),[0,0],u.get("type"),l)),c=f.type==="category";f.onBand=c&&u.get("boundaryGap"),f.inverse=u.get("inverse"),u.axis=f,f.model=u,f.coordinateSystem=u.coordinateSystem=this},this)},a.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},a.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),r=e.axisBase,i=e.layoutBase,n=e.pixelDimIndex,o=t[1-n],s=t[n];return o>=r&&o<=r+e.axisLength&&s>=i&&s<=i+e.layoutLength},a.prototype.getModel=function(){return this._model},a.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(r){if(t.contains(r,e)){var i=r.getData();Ce(this.dimensions,function(n){var o=this._axesMap.get(n);o.scale.unionExtentFromData(i,i.mapDimension(n)),Ee(o.scale,o.model)},this)}},this)},a.prototype.resize=function(t,e){this._rect=Je(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},a.prototype.getRect=function(){return this._rect},a.prototype._makeLayoutInfo=function(){var t=this._model,e=this._rect,r=["x","y"],i=["width","height"],n=t.get("layout"),o=n==="horizontal"?0:1,s=e[i[o]],l=[0,s],u=this.dimensions.length,f=Xt(t.get("axisExpandWidth"),l),c=Xt(t.get("axisExpandCount")||0,[0,u]),v=t.get("axisExpandable")&&u>3&&u>c&&c>1&&f>0&&s>0,h=t.get("axisExpandWindow"),p;if(h)p=Xt(h[1]-h[0],l),h[1]=h[0]+p;else{p=Xt(f*(c-1),l);var g=t.get("axisExpandCenter")||ua(u/2);h=[f*g-p/2],h[1]=h[0]+p}var d=(s-p)/(u-c);d<3&&(d=0);var y=[ua(fa(h[0]/f,1))+1,fs(fa(h[1]/f,1))-1],S=d/f*h[0];return{layout:n,pixelDimIndex:o,layoutBase:e[r[o]],layoutLength:s,axisBase:e[r[1-o]],axisLength:e[i[1-o]],axisExpandable:v,axisExpandWidth:f,axisCollapseWidth:d,axisExpandWindow:h,axisCount:u,winInnerIndices:y,axisExpandWindow0Pos:S}},a.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),n=i.layout;e.each(function(o){var s=[0,i.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),Ce(r,function(o,s){var l=(i.axisExpandable?ps:vs)(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},f={horizontal:cs/2,vertical:0},c=[u[n].x+t.x,u[n].y+t.y],v=f[n],h=rr();er(h,h,v),Oa(h,h,c),this._axesLayout[o]={position:c,rotation:v,transform:h,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},a.prototype.getAxis=function(t){return this._axesMap.get(t)},a.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},a.prototype.eachActiveState=function(t,e,r,i){r==null&&(r=0),i==null&&(i=t.count());var n=this._axesMap,o=this.dimensions,s=[],l=[];m(o,function(d){s.push(t.mapDimension(d)),l.push(n.get(d).model)});for(var u=this.hasAxisBrushed(),f=r;f<i;f++){var c=void 0;if(!u)c="normal";else{c="active";for(var v=t.getValues(s,f),h=0,p=o.length;h<p;h++){var g=l[h].getActiveState(v[h]);if(g==="inactive"){c="inactive";break}}}e(c,f)}},a.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,r=!1,i=0,n=t.length;i<n;i++)e.get(t[i]).model.getActiveState()!=="normal"&&(r=!0);return r},a.prototype.axisCoordToPoint=function(t,e){var r=this._axesLayout[e];return Oi([t,0],r.transform)},a.prototype.getAxisLayout=function(t){return H(this._axesLayout[t])},a.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),r=e.pixelDimIndex,i=e.axisExpandWindow.slice(),n=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var s=t[r]-e.layoutBase-e.axisExpandWindow0Pos,l,u="slide",f=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),v=c[0]!=null;if(f)v&&f&&s<n*c[0]?(u="jump",l=s-n*c[2]):v&&f&&s>n*(1-c[0])?(u="jump",l=s-n*(1-c[2])):(l=s-n*c[1])>=0&&(l=s-n*(1-c[1]))<=0&&(l=0),l*=e.axisExpandWidth/f,l?us(l,i,o,"all"):u="none";else{var h=i[1]-i[0],p=o[1]*s/h;i=[ci(0,p-h/2)],i[1]=fi(o[1],i[0]+h),i[0]=i[1]-h}return{axisExpandWindow:i,behavior:u}},a}();function Xt(a,t){return fi(ci(a,t[0]),t[1])}function vs(a,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*a,axisNameAvailableWidth:e,axisLabelShow:!0}}function ps(a,t){var e=t.layoutLength,r=t.axisExpandWidth,i=t.axisCount,n=t.axisCollapseWidth,o=t.winInnerIndices,s,l=n,u=!1,f;return a<o[0]?(s=a*n,f=n):a<=o[1]?(s=t.axisExpandWindow0Pos+a*r-t.axisExpandWindow[0],l=r,u=!0):(s=e-(i-1-a)*n,f=n),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:f}}function gs(a,t){var e=[];return a.eachComponent("parallel",function(r,i){var n=new hs(r,a,t);n.name="parallel_"+i,n.resize(r,t),r.coordinateSystem=n,n.model=r,e.push(n)}),a.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var i=r.getReferringComponents("parallel",yt).models[0];r.coordinateSystem=i.coordinateSystem}}),e}var ds={create:gs},We=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return t.prototype.getAreaSelectStyle=function(){return zi([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var r=this.activeIntervals=H(e);if(r)for(var i=r.length-1;i>=0;i--)Bi(r[i])},t.prototype.getActiveState=function(e){var r=this.activeIntervals;if(!r.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(r.length===1){var i=r[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var n=0,o=r.length;n<o;n++)if(r[n][0]<=e&&e<=r[n][1])return"active";return"inactive"},t}(_t);ne(We,ar);var ct=!0,Vt=Math.min,St=Math.max,ys=Math.pow,ms=1e4,xs=6,Ss=6,ca="globalPan",bs={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},_s={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},ha={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},As=0,ws=function(a){E(t,a);function t(e){var r=a.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=e,r.group=new D,r._uid="brushController_"+As++,m(Ds,function(i,n){this._handlers[n]=X(i,this)},r),r}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var r=this._zr;this._enableGlobalPan||so(r,ca,this._uid),m(this._handlers,function(i,n){r.on(n,i)}),this._brushType=e.brushType,this._brushOption=z(H(ha),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;lo(e,ca,this._uid),m(this._handlers,function(r,i){e.off(i,r)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var r=this._panels={};m(e,function(i){r[i.panelId]=H(i)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=r.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=V(e,function(v){return z(H(ha),v,!0)});var r="\0-brush-index-",i=this._covers,n=this._covers=[],o=this,s=this._creatingCover;return new _n(i,e,u,l).add(f).update(f).remove(c).execute(),this;function l(v,h){return(v.id!=null?v.id:r+h)+"-"+v.brushType}function u(v,h){return l(v.__brushOption,h)}function f(v,h){var p=e[v];if(h!=null&&i[h]===s)n[v]=i[h];else{var g=n[v]=h!=null?(i[h].__brushOption=p,i[h]):vi(o,hi(o,p));lr(o,g)}}function c(v){i[v]!==s&&o.group.remove(i[v])}},t.prototype.unmount=function(){return this.enableBrush(!1),Ne(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Va);function hi(a,t){var e=se[t.brushType].createCover(a,t);return e.__brushOption=t,gi(e,t),a.group.add(e),e}function vi(a,t){var e=ur(t);return e.endCreating&&(e.endCreating(a,t),gi(t,t.__brushOption)),t}function pi(a,t){var e=t.__brushOption;ur(t).updateCoverShape(a,t,e.range,e)}function gi(a,t){var e=t.z;e==null&&(e=ms),a.traverse(function(r){r.z=e,r.z2=e})}function lr(a,t){ur(t).updateCommon(a,t),pi(a,t)}function ur(a){return se[a.__brushOption.brushType]}function fr(a,t,e){var r=a._panels;if(!r)return ct;var i,n=a._transform;return m(r,function(o){o.isTargetByCursor(t,e,n)&&(i=o)}),i}function di(a,t){var e=a._panels;if(!e)return ct;var r=t.__brushOption.panelId;return r!=null?e[r]:ct}function Ne(a){var t=a._covers,e=t.length;return m(t,function(r){a.group.remove(r)},a),t.length=0,!!e}function ht(a,t){var e=V(a._covers,function(r){var i=r.__brushOption,n=H(i.range);return{brushType:i.brushType,panelId:i.panelId,range:n}});a.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function Ts(a){var t=a._track;if(!t.length)return!1;var e=t[t.length-1],r=t[0],i=e[0]-r[0],n=e[1]-r[1],o=ys(i*i+n*n,.5);return o>xs}function yi(a){var t=a.length-1;return t<0&&(t=0),[a[0],a[t]]}function mi(a,t,e,r){var i=new D;return i.add(new ft({name:"main",style:cr(e),silent:!0,draggable:!0,cursor:"move",drift:q(va,a,t,i,["n","s","w","e"]),ondragend:q(ht,t,{isEnd:!0})})),m(r,function(n){i.add(new ft({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:q(va,a,t,i,n),ondragend:q(ht,t,{isEnd:!0})}))}),i}function xi(a,t,e,r){var i=r.brushStyle.lineWidth||0,n=St(i,Ss),o=e[0][0],s=e[1][0],l=o-i/2,u=s-i/2,f=e[0][1],c=e[1][1],v=f-n+i/2,h=c-n+i/2,p=f-o,g=c-s,d=p+i,y=g+i;$(a,t,"main",o,s,p,g),r.transformable&&($(a,t,"w",l,u,n,y),$(a,t,"e",v,u,n,y),$(a,t,"n",l,u,d,n),$(a,t,"s",l,h,d,n),$(a,t,"nw",l,u,n,n),$(a,t,"ne",v,u,n,n),$(a,t,"sw",l,h,n,n),$(a,t,"se",v,h,n,n))}function Ye(a,t){var e=t.__brushOption,r=e.transformable,i=t.childAt(0);i.useStyle(cr(e)),i.attr({silent:!r,cursor:r?"move":"default"}),m([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(n){var o=t.childOfName(n.join("")),s=n.length===1?Xe(a,n[0]):Ls(a,n);o&&o.attr({silent:!r,invisible:!r,cursor:r?_s[s]+"-resize":null})})}function $(a,t,e,r,i,n,o){var s=t.childOfName(e);s&&s.setShape(Ps(hr(a,t,[[r,i],[r+n,i+o]])))}function cr(a){return O({strokeNoScale:!0},a.brushStyle)}function Si(a,t,e,r){var i=[Vt(a,e),Vt(t,r)],n=[St(a,e),St(t,r)];return[[i[0],n[0]],[i[1],n[1]]]}function Cs(a){return Ni(a.group)}function Xe(a,t){var e={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=Wi(e[t],Cs(a));return r[i]}function Ls(a,t){var e=[Xe(a,t[0]),Xe(a,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function va(a,t,e,r,i,n){var o=e.__brushOption,s=a.toRectRange(o.range),l=bi(t,i,n);m(r,function(u){var f=bs[u];s[f[0]][f[1]]+=l[f[0]]}),o.range=a.fromRectRange(Si(s[0][0],s[1][0],s[0][1],s[1][1])),lr(t,e),ht(t,{isEnd:!1})}function Ms(a,t,e,r){var i=t.__brushOption.range,n=bi(a,e,r);m(i,function(o){o[0]+=n[0],o[1]+=n[1]}),lr(a,t),ht(a,{isEnd:!1})}function bi(a,t,e){var r=a.group,i=r.transformCoordToLocal(t,e),n=r.transformCoordToLocal(0,0);return[i[0]-n[0],i[1]-n[1]]}function hr(a,t,e){var r=di(a,t);return r&&r!==ct?r.clipPath(e,a._transform):H(e)}function Ps(a){var t=Vt(a[0][0],a[1][0]),e=Vt(a[0][1],a[1][1]),r=St(a[0][0],a[1][0]),i=St(a[0][1],a[1][1]);return{x:t,y:e,width:r-t,height:i-e}}function Es(a,t,e){if(!(!a._brushType||Rs(a,t.offsetX,t.offsetY))){var r=a._zr,i=a._covers,n=fr(a,t,e);if(!a._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(n&&(n===ct||s.panelId===n.panelId)&&se[s.brushType].contain(i[o],e[0],e[1]))return}n&&r.setCursorStyle("crosshair")}}function He(a){var t=a.event;t.preventDefault&&t.preventDefault()}function Ue(a,t,e){return a.childOfName("main").contain(t,e)}function _i(a,t,e,r){var i=a._creatingCover,n=a._creatingPanel,o=a._brushOption,s;if(a._track.push(e.slice()),Ts(a)||i){if(n&&!i){o.brushMode==="single"&&Ne(a);var l=H(o);l.brushType=pa(l.brushType,n),l.panelId=n===ct?null:n.panelId,i=a._creatingCover=hi(a,l),a._covers.push(i)}if(i){var u=se[pa(a._brushType,n)],f=i.__brushOption;f.range=u.getCreatingRange(hr(a,i,a._track)),r&&(vi(a,i),u.updateCommon(a,i)),pi(a,i),s={isEnd:r}}}else r&&o.brushMode==="single"&&o.removeOnClick&&fr(a,t,e)&&Ne(a)&&(s={isEnd:r,removeOnClick:!0});return s}function pa(a,t){return a==="auto"?t.defaultBrushType:a}var Ds={mousedown:function(a){if(this._dragging)ga(this,a);else if(!a.target||!a.target.draggable){He(a);var t=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;var e=this._creatingPanel=fr(this,a,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(a){var t=a.offsetX,e=a.offsetY,r=this.group.transformCoordToLocal(t,e);if(Es(this,a,r),this._dragging){He(a);var i=_i(this,a,r,!1);i&&ht(this,i)}},mouseup:function(a){ga(this,a)}};function ga(a,t){if(a._dragging){He(t);var e=t.offsetX,r=t.offsetY,i=a.group.transformCoordToLocal(e,r),n=_i(a,t,i,!0);a._dragging=!1,a._track=[],a._creatingCover=null,n&&ht(a,n)}}function Rs(a,t,e){var r=a._zr;return t<0||t>r.getWidth()||e<0||e>r.getHeight()}var se={lineX:da(0),lineY:da(1),rect:{createCover:function(a,t){function e(r){return r}return mi({toRectRange:e,fromRectRange:e},a,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var t=yi(a);return Si(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(a,t,e,r){xi(a,t,e,r)},updateCommon:Ye,contain:Ue},polygon:{createCover:function(a,t){var e=new D;return e.add(new re({name:"main",style:cr(t),silent:!0})),e},getCreatingRange:function(a){return a},endCreating:function(a,t){t.remove(t.childAt(0)),t.add(new ae({name:"main",draggable:!0,drift:q(Ms,a,t),ondragend:q(ht,a,{isEnd:!0})}))},updateCoverShape:function(a,t,e,r){t.childAt(0).setShape({points:hr(a,t,e)})},updateCommon:Ye,contain:Ue}};function da(a){return{createCover:function(t,e){return mi({toRectRange:function(r){var i=[r,[0,100]];return a&&i.reverse(),i},fromRectRange:function(r){return r[a]}},t,e,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(t){var e=yi(t),r=Vt(e[0][a],e[1][a]),i=St(e[0][a],e[1][a]);return[r,i]},updateCoverShape:function(t,e,r,i){var n,o=di(t,e);if(o!==ct&&o.getLinearBrushOtherExtent)n=o.getLinearBrushOtherExtent(a);else{var s=t._zr;n=[0,[s.getWidth(),s.getHeight()][1-a]]}var l=[r,n];a&&l.reverse(),xi(t,e,l,i)},updateCommon:Ye,contain:Ue}}function Gs(a){return a=vr(a),function(t){return Yi(t,a)}}function ks(a,t){return a=vr(a),function(e){var r=t??e,i=r?a.width:a.height,n=r?a.x:a.y;return[n,n+(i||0)]}}function Is(a,t,e){var r=vr(a);return function(i,n){return r.contain(n[0],n[1])&&!Qa(i,t,e)}}function vr(a){return j.create(a)}var Fs=["axisLine","axisTickLabel","axisName"],Vs=function(a){E(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r){a.prototype.init.apply(this,arguments),(this._brushController=new ws(r.getZr())).on("brush",X(this._onBrush,this))},t.prototype.render=function(e,r,i,n){if(!Os(e,r,n)){this.axisModel=e,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new D,this.group.add(this._axisGroup),!!e.get("show")){var s=Bs(e,r),l=s.coordinateSystem,u=e.getAreaSelectStyle(),f=u.width,c=e.axis.dim,v=l.getAxisLayout(c),h=B({strokeContainThreshold:f},v),p=new Q(e,h);m(Fs,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(h,u,e,s,f,i),Ma(o,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,r,i,n,o,s){var l=i.axis.getExtent(),u=l[1]-l[0],f=Math.min(30,Math.abs(u)*.1),c=j.create({x:l[0],y:-o/2,width:u,height:o});c.x-=f,c.width+=2*f,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:Gs(c),isTargetByCursor:Is(c,s,n),getLinearBrushOtherExtent:ks(c,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(zs(i))},t.prototype._onBrush=function(e){var r=e.areas,i=this.axisModel,n=i.axis,o=V(r,function(s){return[n.coordToData(s.range[0],!0),n.coordToData(s.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(At);function Os(a,t,e){return e&&e.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:e})[0]===a}function zs(a){var t=a.axis;return V(a.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}function Bs(a,t){return t.getComponent("parallel",a.get("parallelIndex"))}var Ws={type:"axisAreaSelect",event:"axisAreaSelected"};function Ns(a){a.registerAction(Ws,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(r){r.axis.model.setActiveIntervals(t.intervals)})}),a.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(r){r.setAxisExpand(t)})})}var Ys={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function yl(a){a.registerComponentView(ns),a.registerComponentModel(ss),a.registerCoordinateSystem("parallel",ds),a.registerPreprocessor(es),a.registerComponentModel(We),a.registerComponentView(Vs),Re(a,"parallel",We,Ys),Ns(a)}function ml(a,t,e,r){return a&&(a.legacy||a.legacy!==!1&&!e&&!r&&t!=="tspan"&&(t==="text"||_(a,"text")))}function xl(a,t,e){var r=a,i,n,o;if(t==="text")o=r;else{o={},_(r,"text")&&(o.text=r.text),_(r,"rich")&&(o.rich=r.rich),_(r,"textFill")&&(o.fill=r.textFill),_(r,"textStroke")&&(o.stroke=r.textStroke),_(r,"fontFamily")&&(o.fontFamily=r.fontFamily),_(r,"fontSize")&&(o.fontSize=r.fontSize),_(r,"fontStyle")&&(o.fontStyle=r.fontStyle),_(r,"fontWeight")&&(o.fontWeight=r.fontWeight),n={type:"text",style:o,silent:!0},i={};var s=_(r,"textPosition");e?i.position=s?r.textPosition:"inside":s&&(i.position=r.textPosition),_(r,"textPosition")&&(i.position=r.textPosition),_(r,"textOffset")&&(i.offset=r.textOffset),_(r,"textRotation")&&(i.rotation=r.textRotation),_(r,"textDistance")&&(i.distance=r.textDistance)}return ya(o,a),m(o.rich,function(l){ya(l,l)}),{textConfig:i,textContent:n}}function ya(a,t){t&&(t.font=t.textFont||t.font,_(t,"textStrokeWidth")&&(a.lineWidth=t.textStrokeWidth),_(t,"textAlign")&&(a.align=t.textAlign),_(t,"textVerticalAlign")&&(a.verticalAlign=t.textVerticalAlign),_(t,"textLineHeight")&&(a.lineHeight=t.textLineHeight),_(t,"textWidth")&&(a.width=t.textWidth),_(t,"textHeight")&&(a.height=t.textHeight),_(t,"textBackgroundColor")&&(a.backgroundColor=t.textBackgroundColor),_(t,"textPadding")&&(a.padding=t.textPadding),_(t,"textBorderColor")&&(a.borderColor=t.textBorderColor),_(t,"textBorderWidth")&&(a.borderWidth=t.textBorderWidth),_(t,"textBorderRadius")&&(a.borderRadius=t.textBorderRadius),_(t,"textBoxShadowColor")&&(a.shadowColor=t.textBoxShadowColor),_(t,"textBoxShadowBlur")&&(a.shadowBlur=t.textBoxShadowBlur),_(t,"textBoxShadowOffsetX")&&(a.shadowOffsetX=t.textBoxShadowOffsetX),_(t,"textBoxShadowOffsetY")&&(a.shadowOffsetY=t.textBoxShadowOffsetY))}function Sl(a,t,e){var r=a;r.textPosition=r.textPosition||e.position||"inside",e.offset!=null&&(r.textOffset=e.offset),e.rotation!=null&&(r.textRotation=e.rotation),e.distance!=null&&(r.textDistance=e.distance);var i=r.textPosition.indexOf("inside")>=0,n=a.fill||"#000";ma(r,t);var o=r.textFill==null;return i?o&&(r.textFill=e.insideFill||"#fff",!r.textStroke&&e.insideStroke&&(r.textStroke=e.insideStroke),!r.textStroke&&(r.textStroke=n),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(o&&(r.textFill=a.fill||e.outsideFill||"#000"),!r.textStroke&&e.outsideStroke&&(r.textStroke=e.outsideStroke)),r.text=t.text,r.rich=t.rich,m(t.rich,function(s){ma(s,s)}),r}function ma(a,t){t&&(_(t,"fill")&&(a.textFill=t.fill),_(t,"stroke")&&(a.textStroke=t.fill),_(t,"lineWidth")&&(a.textStrokeWidth=t.lineWidth),_(t,"font")&&(a.font=t.font),_(t,"fontStyle")&&(a.fontStyle=t.fontStyle),_(t,"fontWeight")&&(a.fontWeight=t.fontWeight),_(t,"fontSize")&&(a.fontSize=t.fontSize),_(t,"fontFamily")&&(a.fontFamily=t.fontFamily),_(t,"align")&&(a.textAlign=t.align),_(t,"verticalAlign")&&(a.textVerticalAlign=t.verticalAlign),_(t,"lineHeight")&&(a.textLineHeight=t.lineHeight),_(t,"width")&&(a.textWidth=t.width),_(t,"height")&&(a.textHeight=t.height),_(t,"backgroundColor")&&(a.textBackgroundColor=t.backgroundColor),_(t,"padding")&&(a.textPadding=t.padding),_(t,"borderColor")&&(a.textBorderColor=t.borderColor),_(t,"borderWidth")&&(a.textBorderWidth=t.borderWidth),_(t,"borderRadius")&&(a.textBorderRadius=t.borderRadius),_(t,"shadowColor")&&(a.textBoxShadowColor=t.shadowColor),_(t,"shadowBlur")&&(a.textBoxShadowBlur=t.shadowBlur),_(t,"shadowOffsetX")&&(a.textBoxShadowOffsetX=t.shadowOffsetX),_(t,"shadowOffsetY")&&(a.textBoxShadowOffsetY=t.shadowOffsetY),_(t,"textShadowColor")&&(a.textShadowColor=t.textShadowColor),_(t,"textShadowBlur")&&(a.textShadowBlur=t.textShadowBlur),_(t,"textShadowOffsetX")&&(a.textShadowOffsetX=t.textShadowOffsetX),_(t,"textShadowOffsetY")&&(a.textShadowOffsetY=t.textShadowOffsetY))}var Ai={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},xa=rt(Ai);Ba(It,function(a,t){return a[t]=1,a},{});It.join(", ");var Qt=["","style","shape","extra"],bt=ee();function pr(a,t,e,r,i){var n=a+"Animation",o=Da(a,r,i)||{},s=bt(t).userDuring;return o.duration>0&&(o.during=s?X(Js,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=a),B(o,e[n]),o}function bl(a,t,e,r){r=r||{};var i=r.dataIndex,n=r.isInit,o=r.clearStyle,s=e.isAnimationEnabled(),l=bt(a),u=t.style;l.userDuring=t.during;var f={},c={};if(Ks(a,t,c),ba("shape",t,c),ba("extra",t,c),!n&&s&&($s(a,t,f),Sa("shape",a,t,f),Sa("extra",a,t,f),qs(a,t,u,f)),c.style=u,Hs(a,c,o),Zs(a,t),s)if(n){var v={};m(Qt,function(p){var g=p?t[p]:t;g&&g.enterFrom&&(p&&(v[p]=v[p]||{}),B(p?v[p]:v,g.enterFrom))});var h=pr("enter",a,t,e,i);h.duration>0&&a.animateFrom(v,h)}else Us(a,t,i||0,e,f);Xs(a,t),u?a.dirty():a.markRedraw()}function Xs(a,t){for(var e=bt(a).leaveToProps,r=0;r<Qt.length;r++){var i=Qt[r],n=i?t[i]:t;n&&n.leaveTo&&(e||(e=bt(a).leaveToProps={}),i&&(e[i]=e[i]||{}),B(i?e[i]:e,n.leaveTo))}}function _l(a,t,e,r){if(a){var i=a.parent,n=bt(a).leaveToProps;if(n){var o=pr("update",a,t,e,0);o.done=function(){i.remove(a)},a.animateTo(n,o)}else i.remove(a)}}function gt(a){return a==="all"}function Hs(a,t,e){var r=t.style;if(!a.isGroup&&r){if(e){a.useStyle({});for(var i=a.animators,n=0;n<i.length;n++){var o=i[n];o.targetName==="style"&&o.changeTarget(a.style)}}a.setStyle(r)}t&&(t.style=null,t&&a.attr(t),t.style=r)}function Us(a,t,e,r,i){if(i){var n=pr("update",a,t,r,e);n.duration>0&&a.animateFrom(i,n)}}function Zs(a,t){_(t,"silent")&&(a.silent=t.silent),_(t,"ignore")&&(a.ignore=t.ignore),a instanceof Le&&_(t,"invisible")&&(a.invisible=t.invisible),a instanceof Na&&_(t,"autoBatch")&&(a.autoBatch=t.autoBatch)}var Z={},js={setTransform:function(a,t){return Z.el[a]=t,this},getTransform:function(a){return Z.el[a]},setShape:function(a,t){var e=Z.el,r=e.shape||(e.shape={});return r[a]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(a){var t=Z.el.shape;if(t)return t[a]},setStyle:function(a,t){var e=Z.el,r=e.style;return r&&(r[a]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(a){var t=Z.el.style;if(t)return t[a]},setExtra:function(a,t){var e=Z.el.extra||(Z.el.extra={});return e[a]=t,this},getExtra:function(a){var t=Z.el.extra;if(t)return t[a]}};function Js(){var a=this,t=a.el;if(t){var e=bt(t).userDuring,r=a.userDuring;if(e!==r){a.el=a.userDuring=null;return}Z.el=t,r(js)}}function Sa(a,t,e,r){var i=e[a];if(i){var n=t[a],o;if(n){var s=e.transition,l=i.transition;if(l)if(!o&&(o=r[a]={}),gt(l))B(o,n);else for(var u=kt(l),f=0;f<u.length;f++){var c=u[f],v=n[c];o[c]=v}else if(gt(s)||ut(s,a)>=0){!o&&(o=r[a]={});for(var h=rt(n),f=0;f<h.length;f++){var c=h[f],v=n[c];Qs(i[c],v)&&(o[c]=v)}}}}}function ba(a,t,e){var r=t[a];if(r)for(var i=e[a]={},n=rt(r),o=0;o<n.length;o++){var s=n[o];i[s]=un(r[s])}}function $s(a,t,e){for(var r=t.transition,i=gt(r)?It:kt(r||[]),n=0;n<i.length;n++){var o=i[n];if(!(o==="style"||o==="shape"||o==="extra")){var s=a[o];e[o]=s}}}function Ks(a,t,e){for(var r=0;r<xa.length;r++){var i=xa[r],n=Ai[i],o=t[i];o&&(e[n[0]]=o[0],e[n[1]]=o[1])}for(var r=0;r<It.length;r++){var s=It[r];t[s]!=null&&(e[s]=t[s])}}function qs(a,t,e,r){if(e){var i=a.style,n;if(i){var o=e.transition,s=t.transition;if(o&&!gt(o)){var l=kt(o);!n&&(n=r.style={});for(var u=0;u<l.length;u++){var f=l[u],c=i[f];n[f]=c}}else if(a.getAnimationStyleProps&&(gt(s)||gt(o)||ut(s,"style")>=0)){var v=a.getAnimationStyleProps(),h=v?v.style:null;if(h){!n&&(n=r.style={});for(var p=rt(e),u=0;u<p.length;u++){var f=p[u];if(h[f]){var c=i[f];n[f]=c}}}}}}}function Qs(a,t){return fn(a)?a!==t:a!=null&&isFinite(a)}var wi=ee(),tl=["percent","easing","shape","style","extra"];function Al(a){a.stopAnimation("keyframe"),a.attr(wi(a))}function el(a,t,e){if(!(!e.isAnimationEnabled()||!t)){if(U(t)){m(t,function(s){el(a,s,e)});return}var r=t.keyframes,i=t.duration;if(e&&i==null){var n=Da("enter",e,0);i=n&&n.duration}if(!(!r||!i)){var o=wi(a);m(Qt,function(s){if(!(s&&!a[s])){var l;r.sort(function(u,f){return u.percent-f.percent}),m(r,function(u){var f=a.animators,c=s?u[s]:u;if(c){var v=rt(c);if(s||(v=Qe(v,function(g){return ut(tl,g)<0})),!!v.length){l||(l=a.animate(s,t.loop,!0),l.scope="keyframe");for(var h=0;h<f.length;h++)f[h]!==l&&f[h].targetName===l.targetName&&f[h].stopTracks(v);s&&(o[s]=o[s]||{});var p=s?o[s]:o;m(v,function(g){p[g]=((s?a[s]:a)||{})[g]}),l.whenWithKeys(i*u.percent,c,v,u.easing)}}}),l&&l.delay(t.delay||0).duration(i).start(t.easing)}})}}}export{Q as A,hl as B,Re as C,$n as D,Jn as E,Xs as F,gt as G,us as H,ks as I,Is as J,Gs as K,dl as L,zo as M,ws as N,uo as R,fl as S,ii as V,wn as a,An as b,vl as c,pl as d,it as e,gl as f,ul as g,co as h,cl as i,Xo as j,si as k,yl as l,Qo as m,_l as n,Qa as o,Sl as p,bl as q,el as r,Al as s,ml as t,fo as u,xl as v,Ja as w,kn as x,Jt as y,jn as z};
