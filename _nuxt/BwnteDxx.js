import{d as Dt,r as U,j as E,H as At,I as M,v as r,J as s,K as Xt,L as Ut,g as j,A as C,x as l,M as Zt,t as w,N as k,B as Tt,y as h,z as P,O as ct,P as R,Q as tt,R as te,S as ee,T as le,U as ae,V as se,W as ne,X as oe,Y as ie,Z as re,$ as mt,a0 as Rt,o as ue,a1 as ce,a2 as Mt,a3 as me,a4 as zt,a5 as Bt,a6 as de}from"./967ZWVVn.js";const be=Dt({__name:"pie",props:{name:{},data:{},legendPosition:{default:"bottom"}},setup(e){const t=U(null),a=e,i=E(()=>{switch(a.legendPosition){case"right":return{radius:["55%","50%"],center:["25%","50%"]};case"bottom":return{radius:["65%","70%"],center:["50%","30%"]}}}),v=E(()=>{switch(a.legendPosition){case"right":return{height:"100%",left:"40%",top:"15%"};case"bottom":return{height:"50%",top:"60%",left:"left"}}}),b=()=>({legend:{icon:"square",orient:"vertical",type:"scroll",textStyle:{color:"#E5E7EBFF"},...v.value},series:[{name:a.name,type:"pie",avoidLabelOverlap:!1,label:{show:!0,formatter:()=>a.name,position:"center",color:"#94A3B8",fontSize:"12px"},labelLine:{show:!1},data:a.data,...i.value}]}),A=U(b());return At(()=>[a.data,a.name,a.legendPosition],()=>{A.value=b()}),(I,y)=>(r(),M(s(Xt),{ref_key:"chartRef",ref:t,option:s(A),autoresize:""},null,8,["option"]))}}),Ft=function(e){return e==null?"":typeof e=="string"?parseFloat(e).toLocaleString("en-US"):e.toLocaleString("en-US")},H=function(e){return e==null||e===""?"":`$${e}`},Q=function(e,t=2){return e==null?e:(typeof e=="string"&&(e=parseFloat(e)),e.toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}))},fe={class:"flex flex-col gap-5"},pe={class:"flex justify-between"},ge={class:"flex flex-col md:flex-row gap-4 md:gap-3"},xe={class:"flex gap-1 md:justify-center md:items-center"},ve={class:"text-lg"},ye={key:0,class:"text-slate-500 font-medium"},_e={class:"font-semibold"},he={key:1,class:"text-slate-500 font-medium"},we={class:"text-lg font-medium"},ke={key:0,class:"flex gap-3"},Me={class:"text-sm font-semibold"},Le={class:"text-sm font-semibold"},$e={class:"flex justify-center items-center gap-1.5"},Ce={class:"text-sm font-semibold"},Ae={class:"text-slate-400 text-sm font-medium"},Te={class:"flex justify-between"},De={class:"flex gap-4 flex-col xl:flex-row xl:justify-between"},Se={key:0,class:"flex gap-3 flex-wrap"},Ee={class:"flex justify-center items-center gap-1.5"},Ve={class:"text-slate-400 text-sm font-medium"},Ie={class:"text-sm font-semibold"},Ne={class:"flex gap-3 flex-wrap"},Pe={class:"flex justify-center items-center gap-1.5"},Oe={class:"text-sm font-semibold"},je={class:"flex justify-center items-center gap-1.5"},Re={class:"text-sm font-semibold"},ze={class:"text-sm font-semibold"},Be={class:"text-sm font-semibold"},Fe={class:"flex justify-center items-center gap-1.5"},Ge={class:"text-sm font-semibold"},qe=Dt({__name:"model-availability-card",props:{model:{},secondary:{type:Boolean},groupKey:{}},setup(e){const t=e,a=E(()=>{if(!t.groupKey||!t.model.model)return{before:"",match:t.model.model,after:""};const y=t.model.model.toLowerCase(),u=t.groupKey.toLowerCase(),g=y.indexOf(u);return g===-1?{before:"",match:t.model.model,after:""}:{before:t.model.model.slice(0,g),match:t.model.model.slice(g,g+t.groupKey.length),after:t.model.model.slice(g+t.groupKey.length)}}),i=Ut(),v=E(()=>t.model.lastStatus?t.model.lastStatus.status==="AVAILABLE"?"bg-emerald-500":"bg-red-500":"bg-gray-700"),b=E(()=>{const y=t.model.upTimePercentage;return y!==null?y>=80?"emerald":y>=50?"amber":"red":""}),A=E(()=>[{label:"TtFC",index:6},{label:"2k",index:0},{label:"4k",index:1},{label:"8k",index:2},{label:"16k",index:3},{label:"32k",index:4}]),I=E(()=>t.model.inputCost!=null&&t.model.outputCost!=null);return(y,u)=>{const g=j("u-badge"),z=j("u-icon"),W=j("u-card");return r(),M(W,{class:ct(y.secondary?"":"border border-gray-700 rounded-md"),ui:{background:y.secondary?"bg-white dark:bg-gray-900":""}},{default:C(()=>[l("div",fe,[l("div",pe,[l("div",ge,[l("div",null,[y.model.upTimePercentage!==null?(r(),M(g,{key:0,size:"lg",variant:"subtle",ui:{variant:{subtle:`bg-${s(b)}-50 dark:bg-${s(b)}-400 dark:bg-opacity-10 text-${s(b)}-500 dark:text-${s(b)}-400 ring-1 ring-inset ring-${s(b)}-500 dark:ring-${s(b)}-400 ring-opacity-25 dark:ring-opacity-25`}}},{default:C(()=>[Tt(h(y.model.upTimePercentage.toFixed(2))+"% ",1)]),_:1},8,["ui"])):k("",!0)]),l("div",xe,[P(z,{class:ct(["h-6 w-6",s(v)]),name:"i-heroicons-check-circle"},null,8,["class"]),l("span",ve,[s(a).before?(r(),w("span",ye,h(s(a).before),1)):k("",!0),l("span",_e,h(s(a).match),1),s(a).after?(r(),w("span",he,h(s(a).after),1)):k("",!0)]),l("span",we,"("+h(y.model.provider)+")",1)])]),s(i).isGreaterOrEquals("xl")?(r(),w("div",ke,[s(I)?(r(),M(g,{key:0,size:"lg",color:"gray",variant:"solid"},{default:C(()=>[u[0]||(u[0]=l("span",{class:"text-slate-400 text-sm font-medium"},"Input:",-1)),l("span",Me,h(s(H)(s(Q)(t.model.inputCost,2))),1),u[1]||(u[1]=l("span",{class:"text-slate-400 text-sm font-medium"},"/M",-1))]),_:1})):k("",!0),s(I)?(r(),M(g,{key:1,size:"lg",color:"gray",variant:"solid"},{default:C(()=>[u[2]||(u[2]=l("span",{class:"text-slate-400 text-sm font-medium"},"Output:",-1)),l("span",Le,h(s(H)(s(Q)(t.model.outputCost,2))),1),u[3]||(u[3]=l("span",{class:"text-slate-400 text-sm font-medium"},"/M",-1))]),_:1})):t.model.avgCost?(r(),M(g,{key:2,size:"lg",color:"gray",variant:"solid"},{default:C(()=>[l("div",$e,[l("span",Ce,h(s(H)(s(Q)(t.model.avgCost,5))),1),l("span",Ae,h(["image","embedding"].includes(t.model.type)?"avg":"1000/char"),1)])]),_:1})):k("",!0)])):k("",!0)]),l("div",Te,[(r(!0),w(R,null,tt(y.model.states,x=>(r(),w("div",{class:ct({"md:w-[3px]":!0,"w-[1px]":!0,"xl:w-1.5":!0,"h-1.5":!0,"bg-emerald-500":x===100,"bg-red-500":x===0,"bg-gray-700":x===null,"bg-amber-500":x!==null&&x>0&&x<100,"rounded-md":!0})},null,2))),256))]),l("div",De,[s(i).isGreaterOrEquals("md")?(r(),w("div",Se,[(r(!0),w(R,null,tt(s(A),x=>(r(),w(R,{key:x.label},[t.model.latenciesFormatted.length>x.index?(r(),M(g,{key:0,size:"lg",color:"gray",variant:"solid"},{default:C(()=>[l("div",Ee,[l("div",{class:ct(["w-2 h-2 rounded-md",{"bg-emerald-500":t.model.latenciesRating[x.index]>=80,"bg-amber-500":t.model.latenciesRating[x.index]>=30&&t.model.latenciesRating[x.index]<80,"bg-red-500":t.model.latencies[x.index]!==null&&t.model.latenciesRating[x.index]<30,"bg-gray-700":t.model.latencies[x.index]===null}])},null,2),l("span",Ve,h(x.label),1),l("span",Ie,h(t.model.latenciesFormatted[x.index]),1)])]),_:2},1024)):k("",!0)],64))),128))])):k("",!0),l("div",Ne,[t.model.maxTokens&&s(i).isGreaterOrEquals("md")?(r(),M(g,{key:0,size:"lg",color:"gray",variant:"solid"},{default:C(()=>[l("div",Pe,[l("span",Oe,h(s(Ft)(t.model.maxTokens)),1),u[4]||(u[4]=l("span",{class:"text-slate-400 text-sm font-medium"},"MaxTokens",-1))])]),_:1})):k("",!0),t.model.maxResponseTokens&&s(i).isGreaterOrEquals("md")?(r(),M(g,{key:1,size:"lg",color:"gray",variant:"solid"},{default:C(()=>[l("div",je,[l("span",Re,h(s(Ft)(t.model.maxResponseTokens)),1),u[5]||(u[5]=l("span",{class:"text-slate-400 text-sm font-medium"},"MaxResponse",-1))])]),_:1})):k("",!0),s(i).isLessThan("xl")?(r(),w(R,{key:2},[s(I)?(r(),M(g,{key:0,size:"lg",color:"gray",variant:"solid"},{default:C(()=>[u[6]||(u[6]=l("span",{class:"text-slate-400 text-sm font-medium"},"Input:",-1)),l("span",ze,h(s(H)(s(Q)(t.model.inputCost,2))),1),u[7]||(u[7]=l("span",{class:"text-slate-400 text-sm font-medium"},"/M",-1))]),_:1})):k("",!0),s(I)?(r(),M(g,{key:1,size:"lg",color:"gray",variant:"solid"},{default:C(()=>[u[8]||(u[8]=l("span",{class:"text-slate-400 text-sm font-medium"},"Output:",-1)),l("span",Be,h(s(H)(s(Q)(t.model.outputCost,2))),1),u[9]||(u[9]=l("span",{class:"text-slate-400 text-sm font-medium"},"/M",-1))]),_:1})):t.model.avgCost?(r(),M(g,{key:2,size:"lg",color:"gray",variant:"solid"},{default:C(()=>[l("div",Fe,[l("span",Ge,h(s(H)(s(Q)(t.model.avgCost,5))),1),u[10]||(u[10]=l("span",{class:"text-slate-400 text-sm font-medium"},"1000/char",-1))])]),_:1})):k("",!0)],64)):k("",!0)])]),Zt(y.$slots,"default")])]),_:3},8,["class","ui"])}}}),Ue=36e5,Gt=Symbol.for("constructDateFrom");function K(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Gt in e?e[Gt](t):e instanceof Date?new e.constructor(t):new Date(t)}function et(e,t){return K(t||e,e)}function Ke(e,t,a){const i=et(e,a==null?void 0:a.in);return isNaN(t)?K(e,NaN):(t&&i.setDate(i.getDate()+t),i)}function Ye(e,t,a){const i=et(e,a==null?void 0:a.in);if(isNaN(t))return K(e,NaN);if(!t)return i;const v=i.getDate(),b=K(e,i.getTime());b.setMonth(i.getMonth()+t+1,0);const A=b.getDate();return v>=A?b:(i.setFullYear(b.getFullYear(),b.getMonth(),v),i)}function He(e,...t){const a=K.bind(null,t.find(i=>typeof i=="object"));return t.map(a)}function Qe(e,t){let a,i=t==null?void 0:t.in;return e.forEach(v=>{!i&&typeof v=="object"&&(i=K.bind(null,v));const b=et(v,i);(!a||a>b||isNaN(+b))&&(a=b)}),K(i,a||NaN)}function Kt(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return i===0?0:i}}function Lt(e,t,a){const[i,v]=He(a==null?void 0:a.in,e,t),b=(+i-+v)/Ue;return Kt(a==null?void 0:a.roundingMethod)(b)}function Je(e,t){return+et(e)-+et(t)}function dt(e,t,a){const i=Je(e,t)/1e3;return Kt(a==null?void 0:a.roundingMethod)(i)}function We(e,t,a){return Ke(e,-t,a)}function Xe(e,t,a){return Ye(e,-t,a)}function Ze(e,t,a){const{years:i=0,months:v=0,weeks:b=0,days:A=0,hours:I=0,minutes:y=0,seconds:u=0}=t,g=Xe(e,v+i*12,a),z=We(g,A+b*7,a),W=y+I*60,B=(u+W*60)*1e3;return K(e,+z-B)}function tl(e){const t=Math.floor(e/1e3),a=Math.floor(t/60),i=t%60;return{milliseconds:e%1e3,seconds:i,minutes:a}}const el={class:"flex flex-col gap-5 w-full"},ll={class:"flex flex-col gap-4 md:flex-row md:gap-0 justify-between"},al={class:"grid gap grid-cols-1 xl:grid-cols-2 gap-5"},sl={class:"flex flex-col md:flex-row gap-5 md:h-full"},nl={class:"grid grid-cols-2 md:grid-cols-4 xl:grid-cols-2 gap-4"},ol={class:"flex flex-col gap-0.5"},il={class:"text-gray-400 text-sm font-medium"},rl={class:"text-2xl md:text-3xl font-semibold"},ul={key:0,class:"col-span-2 h-0px border dark:border-gray-700"},cl={key:0,class:"col-span-4 h-0px border dark:border-gray-700"},ml={class:"flex flex-col gap-5"},dl={class:"flex flex-col gap-4 md:flex-row justify-between"},bl={class:"flex justify-between gap-4"},fl={class:"flex flex-col gap-5"},pl={class:"flex flex-col gap-2"},gl={class:"flex justify-between"},qt=30,$t=8,J=90,Ct=20,vl=Dt({__name:"index",async setup(e){let t,a;te([ee,le,ae,se,ne,oe,ie]);const i=Ut(),v=[{name:"Language Models",type:"llm"},{name:"Voice Models",type:"voice"},{name:"Vision Models",type:"vision"},{name:"Moderation Models",type:"moderation"},{name:"Image Models",type:"image"},{name:"Embedding Models",type:"embedding"},{name:"Coding Models",type:"code"},{name:"Video Models",type:"video"}],b=[{key:"all",label:"All"},{key:"llm",label:"Language"},{key:"voice",label:"Voice"},{key:"image",label:"Image"},{key:"vision",label:"Vision"},{key:"embedding",label:"Embedding"},{key:"code",label:"Coding"},{key:"video",label:"Video"}],A=U("all"),I=U(!0),y=(c,n)=>n===0?0:c/n*100,{data:u}=([t,a]=re(()=>zt("/models",{})),t=await t,a(),t),g=E(()=>{const c=new Map;for(const n of u.value||[])c.set(`${n.provider}_${n.route}`,n);return c}),z=E(()=>{const c={llm:0,voice:0,vision:0,moderation:0,image:0,embedding:0,code:0,video:0};let n=0;const f={},L={};for(const p of u.value||[]){if(c[p.type]++,A.value!=="all"&&p.type!==A.value)continue;const _=parseInt(p.query_count);n+=_,p.provider in f||(f[p.provider]=0),f[p.provider]+=_,p.model in L||(L[p.model]=0),L[p.model]+=_}for(const[p,_]of Object.entries(f))f[p]=y(_,n);for(const[p,_]of Object.entries(L))L[p]=y(_,n);return{byType:c,byProvider:f,byModel:L}}),W=E(()=>mt(Rt(z.value.byProvider),c=>c[1],"desc").slice(0,5).map(([c,n])=>({name:`${c} (${n.toFixed(0)}%)`,value:n}))),x=E(()=>mt(Rt(z.value.byModel),c=>c[1],"desc").slice(0,5).map(([c,n])=>({name:`${c} (${n.toFixed(0)}%)`,value:n}))),B=U(""),lt=U("desc"),X=U(1),St=U(new Map),Et=E(()=>{const c=B.value?B.value.toLowerCase():"";return new Map(mt(Array.from(St.value.entries()).filter(([n,f])=>{if(!c)return!0;const L=typeof n=="string"&&n.toLowerCase().includes(c),p=f.some(_=>typeof _.provider=="string"&&_.provider.toLowerCase().includes(c));return L||p}),[([n,f])=>z.value.byModel[n]||0,([n,f])=>f[0].upTimePercentage||0],["desc",lt.value]))}),Yt=E(()=>{const c=Array.from(Et.value.entries());if(c.length===0)return new Map;const n=(X.value-1)*Ct,f=Math.min(n+Ct,c.length);return new Map(c.slice(n,f))}),Vt=async c=>{I.value=!0;const{data:n}=await zt("/models/availability",{params:{type:c!=="all"?c:void 0,period:qt},server:!1}),f=new Date,L=Ze(f,{days:qt}),p=dt(f,L),_=new Map,V=[];for(let o=0;o<7;o++)V.push({min:1/0,max:-1/0});const bt={"mistral-large":["mistral-large","large-latest"],"gemini-flash-1.5":["gemini-flash-1.5","gemini-1.5-flash"],"gemini-pro-1.5":["gemini-pro-1.5","gemini-1.5-pro"],"llama-2-13b-chat":["llama-2-13b-chat","llama2-13b-chat"],"llama-2-7b-chat":["llama-2-7b-chat","llama2-7b-chat"],"llama-3.1-405b-instruct-turbo":["llama-3.1-405b-instruct-turbo","llama3.1-405b-instruct-turbo"],"llama-3.1-8b-instruct-turbo":["llama-3.1-8b-instruct-turbo","llama3.1-8b-instruct-turbo"],"llama-3.1-lumimaid-70b":["llama-3.1-lumimaid-70b","llama3.1-lumimaid-70b"],"llama-3.1-lumimaid-8b":["llama-3.1-lumimaid-8b","llama3.1-lumimaid-8b"],"llama-3.1-nemotron-70b-instruct":["llama-3.1-nemotron-70b-instruct","llama3.1-nemotron-70b-instruct"],"llama-3.2-11b-vision-instruct":["llama-3.2-11b-vision-instruct","llama3.2-11b-vision-instruct"],"llama-3.2-1b-instruct":["llama-3.2-1b-instruct","llama3.2-1b-instruct"],"llama-3.2-3b-instruct":["llama-3.2-3b-instruct","llama3.2-3b-instruct"],"llama-3.2-3b-instruct-turbo":["llama-3.2-3b-instruct-turbo","llama3.2-3b-instruct-turbo"],"llama-3.2-90b-vision-instruct":["llama-3.2-90b-vision-instruct","llama3.2-90b-vision-instruct"],"llama-3.2-90b-vision-instruct-turbo":["llama-3.2-90b-vision-instruct-turbo","llama3.2-90b-vision-instruct-turbo"],"llama-3.3-70b-instruct":["llama-3.3-70b-instruct","llama3.3-70b-instruct"],"llama-3.3-70b-instruct-turbo":["llama-3.3-70b-instruct-turbo","llama3.3-70b-instruct-turbo"],"llama-3-1-405b-instruct":["llama-3-1-405b-instruct","llama3-1-405b-instruct"],"llama-3-1-70b-instruct":["llama-3-1-70b-instruct","llama3-1-70b-instruct"],"llama-3-1-8b-instruct":["llama-3-1-8b-instruct","llama3-1-8b-instruct"],"llama-3-70b":["llama-3-70b","llama3-70b"],"llama-3-70b-chat":["llama-3-70b-chat","llama3-70b-chat"],"llama-3-70b-instruct":["llama-3-70b-instruct","llama3-70b-instruct"],"llama-3-70b-instruct-lite":["llama-3-70b-instruct-lite","llama3-70b-instruct-lite"],"llama-3-70b-instruct-turbo":["llama-3-70b-instruct-turbo","llama3-70b-instruct-turbo"],"llama-3-8b":["llama-3-8b","llama3-8b"],"llama-3-8b-chat":["llama-3-8b-chat","llama3-8b-chat"],"llama-3-8b-instruct":["llama-3-8b-instruct","llama3-8b-instruct"],"llama-3-8b-instruct-lite":["llama-3-8b-instruct-lite","llama3-8b-instruct-lite"],"llama-3-8b-instruct-turbo":["llama-3-8b-instruct-turbo","llama3-8b-instruct-turbo"]},ft=["claude-3-haiku","claude-3-sonnet","claude-3-5-sonnet","claude-1","claude-instant-1","claude-2","mistral-7b-openorca","claude-3","claude-3-5","claude-3-5-haiku","claude-3-opus","clip-vit-b","clip-vit-large","codellama-13b-instruct","CodeLlama-34b-Instruct","CodeLlama-70b-Instruct","codestral","command","command-light","command-r","command-r-plus","embed-english-light-v2.0","embed-english-light-v3.0","embed-english-v2.0","embed-english-v3","embed-multilingual-v2.0","embed-multilingual-v3.0","gemini-flash","gemini-flash-8b","gemini-pro","gemini-pro-8k","gemini-pro-vision","gemma-2-27b","gemma-2-9b","gpt-3.5-turbo","gpt-3.5-turbo-instruct","gpt-4","gpt-4o","gpt-4o-mini","gpt-4-turbo","jamba-1-5-large","jamba-1-5-mini","jamba-instruct","nous-hermes-2-mixtral-8x7b","llama-guard-2-8b","llama-guard-3-11B-vision-turbo","Llama-Guard-3-8B","Llama-Rank","mistral-7b-instruct","mistral-nemo","mistral-small","mistral-tiny","mixtral-8x22B","mixtral-8x22b-instruct","mixtral-8x7b","mixtral-8x7b-instruct","mythomax-l2-13b","o1","o1-mini","o1-mini","o1-preview","stable-diffusion-2-1","stable-diffusion-v1-5","stable-diffusion-v2","stable-diffusion-xl","text-embedding-ada-002","mistral-large","large-latest","gemini-flash-1.5","gemini-1.5-flash","gemini-pro-1.5","gemini-1.5-pro","llama-2-13b-chat","llama2-13b-chat","llama-2-7b-chat","llama2-7b-chat","llama-3.1-405b-instruct-turbo","llama3.1-405b-instruct-turbo","llama-3.1-8b-instruct-turbo","llama3.1-8b-instruct-turbo","llama-3.1-lumimaid-70b","llama3.1-lumimaid-70b","llama-3.1-lumimaid-8b","llama3.1-lumimaid-8b","llama-3.1-nemotron-70b-instruct","llama3.1-nemotron-70b-instruct","llama-3.2-11b-vision-instruct","llama3.2-11b-vision-instruct","llama-3.2-1b-instruct","llama3.2-1b-instruct","llama-3.2-3b-instruct","llama3.2-3b-instruct","llama-3.2-3b-instruct-turbo","llama3.2-3b-instruct-turbo","llama-3.2-90b-vision-instruct","llama3.2-90b-vision-instruct","llama-3.2-90b-vision-instruct-turbo","llama3.2-90b-vision-instruct-turbo","llama-3.3-70b-instruct","llama3.3-70b-instruct","llama-3.3-70b-instruct-turbo","llama3.3-70b-instruct-turbo","llama-3-1-405b-instruct","llama3-1-405b-instruct","llama-3-1-70b-instruct","llama3-1-70b-instruct","llama-3-1-8b-instruct","llama3-1-8b-instruct","llama-3-70b","llama3-70b","llama-3-70b-chat","llama3-70b-chat","llama-3-70b-instruct","llama3-70b-instruct","llama-3-70b-instruct-lite","llama3-70b-instruct-lite","llama-3-70b-instruct-turbo","llama3-70b-instruct-turbo","llama-3-8b","llama3-8b","llama-3-8b-chat","llama3-8b-chat","llama-3-8b-instruct","llama3-8b-instruct","llama-3-8b-instruct-lite","llama3-8b-instruct-lite","llama-3-8b-instruct-turbo","llama3-8b-instruct-turbo"].map(o=>o.toLowerCase()).sort((o,m)=>m.length-o.length),at=Object.entries(bt).reduce((o,[m,d])=>(o[m.toLowerCase()]=d.map($=>$.toLowerCase()),o),{}),pt=Object.entries(at).sort(([o],[m])=>m.length-o.length);for(const o of n.value||[]){const m=o.model.toLowerCase(),d=`${o.provider}_${o.model}`;let $=m;const F=ft.find(D=>$.includes(D));F&&($=F);const gt=pt.find(([D,G])=>G.some(N=>N===$||$.includes(N)));if(gt){const D=gt[0],G=gt[1].find(N=>m.includes(N.toLowerCase()));if(G){const N=G.toLowerCase(),S=o.model.toLowerCase().indexOf(N);if(S!==-1){const O=S>0?o.model.slice(0,S):"",_t=S+N.length<o.model.length?o.model.slice(S+N.length):"";o.model=O+D+_t}}$=D.toLowerCase()}_.has($)||_.set($,new Map);const xt=_.get($),st=new Date(o.last_previous_status_dt||o.created_dt);if(!xt.has(d)){const D=g.value.get(`${o.provider}_${o.route}`);if(!D){console.log(`Model ${o.provider}/${o.route} is not presented in models!`);continue}let G=new Date(o.created_dt);G=Qe([G,st]);const N=Lt(G,L),yt=Lt(st,L);let S,O=0;N>0?S=Math.floor(N/$t):S=0,yt>0?O=Math.floor(yt/$t):(O=J,S=0),S+O>J?S=J-O:S+O<J&&(O=O+(J-S));const _t=[...Array(S).fill(null),...Array(O).fill(o.last_previous_status==="AVAILABLE"?100:o.last_previous_status==="UNAVAILABLE"?0:null)];let[ot,it,ht,jt]=[0,null,null,void 0];o.last_previous_status_dt&&o.last_previous_status&&(ot=Bt([dt(f,st),p]),o.last_previous_status==="AVAILABLE"?(it=ot,ht=it/ot*100):(it=0,ht=0),jt={dt:st,status:o.last_previous_status});const wt=[],kt=[],Jt=[];D.latency.split("/").forEach((Wt,rt)=>{const Y=parseFloat(Wt);if(Number.isNaN(Y)){wt.push(null),kt.push("n/a");return}wt.push(Y),Y<V[rt].min&&(V[rt].min=Y),Y>V[rt].max&&(V[rt].max=Y);const q=tl(Y),ut=[];q.minutes&&ut.push(`${q.minutes}m`),q.seconds&&!q.minutes&&ut.push(`${q.seconds}s`),q.milliseconds&&!q.seconds&&ut.push(`${q.milliseconds}ms`),kt.push(ut.join(""))}),xt.set(d,{model:o.model,provider:o.provider,type:D.type,avgCost:D.avg_cost??null,inputCost:D.input_cost??null,outputCost:D.output_cost??null,maxTokens:D.max_tokens??null,maxResponseTokens:D.max_response_tokens??null,latencies:wt,latenciesFormatted:kt,latenciesRating:Jt,states:_t,isExpanded:!1,totalTracked:ot,upTime:it,upTimePercentage:ht,lastStatus:jt})}if(!o.status||!o.status_dt)continue;const T=xt.get(d),nt=new Date(o.status_dt),It=Bt([dt(f,nt),p]);let Z=T.upTime||0;T.lastStatus&&T.lastStatus.status!==o.status?o.status==="UNAVAILABLE"?Z-=It:o.status==="AVAILABLE"&&(Z+=It):T.lastStatus||(T.totalTracked=de([dt(f,nt),T.totalTracked]),o.status==="AVAILABLE"&&(Z=T.totalTracked)),T.lastStatus={dt:nt,status:o.status},T.upTime=Z,T.upTimePercentage=Z/T.totalTracked*100;const Nt=Math.floor(Lt(f,nt)/$t)+1,vt=J-Nt,Pt=o.status==="AVAILABLE"?100:0,Qt=T.states[vt];let Ot=Pt;Qt!==null&&(Ot=50),T.states=[...vt>0?T.states.slice(0,vt-1):[],Ot,...Array(Nt).fill(Pt)]}St.value=new Map(Array.from(_).filter(([o,m])=>m.size>0).map(([o,m])=>[o,mt(Array.from(m.values()).map(d=>(d.latenciesRating=d.latencies.map(($,F)=>$===null?0:V[F].min===V[F].max?100:100-($-V[F].min)/(V[F].max-V[F].min)*100),d)),({upTimePercentage:d})=>d||0,"desc")])),I.value=!1},Ht=()=>{window.location="mailto:support@neuronicai.com?subject=Please add my aggregator to APIpie, here are the details"};return At(A,async c=>{await Vt(c)}),At(B,()=>{X.value=1}),ue(async()=>{await Promise.resolve(),await Vt()}),(c,n)=>{const f=j("u-icon"),L=j("u-button"),p=be,_=j("u-card"),V=j("u-progress"),bt=j("u-select-menu"),ft=j("u-input"),at=qe,pt=j("u-pagination"),o=ce("auto-animate");return r(),w("div",el,[l("div",ll,[n[6]||(n[6]=l("div",{class:"text-2xl md:text-3xl font-semibold"},"Global AI Overview",-1)),l("div",null,[P(L,{color:"gray",variant:"solid",onClick:Ht},{default:C(()=>[P(f,{name:"i-heroicons-outline-plus"}),n[5]||(n[5]=Tt(" Add Your Aggregator "))]),_:1})])]),l("div",al,[P(_,{class:"md:h-[192px] xl:h-[368px]",ui:{body:{base:"h-full"}}},{default:C(()=>[l("div",sl,[P(p,{class:"h-[190px] md:h-full",name:"Top Providers",data:s(W),"legend-position":s(i).isGreaterOrEquals("xl")?"bottom":"right"},null,8,["data","legend-position"]),n[7]||(n[7]=l("div",{class:"md:rotate-180 h-0.5 md:h-0 w-full md:w-[4px] dark:bg-gray-700"},null,-1)),P(p,{class:"h-[190px] md:h-full",name:"Top Models",data:s(x),"legend-position":s(i).isGreaterOrEquals("xl")?"bottom":"right"},null,8,["data","legend-position"])])]),_:1}),P(_,{class:"md:h-[192px] xl:h-[368px]"},{default:C(()=>[l("div",nl,[(r(),w(R,null,tt(v,(m,d)=>(r(),w(R,null,[l("div",ol,[l("div",il,h(m.name),1),l("div",rl,h(s(z).byType[m.type]),1)]),s(i).isGreaterOrEquals("xl")||s(i).isLessThan("md")?(r(),w(R,{key:0},[(d+1)%2===0&&d<v.length-1?(r(),w("div",ul)):k("",!0)],64)):(r(),w(R,{key:1},[(d+1)%4===0&&d<v.length-1?(r(),w("div",cl)):k("",!0)],64))],64))),64))])]),_:1}),P(_,{class:"xl:col-span-2"},{default:C(()=>[l("div",ml,[s(I)?(r(),M(V,{key:0,animation:"carousel"})):k("",!0),n[10]||(n[10]=l("div",{class:"text-sm font-semibold"},"Availability last 30 days",-1)),l("div",dl,[P(bt,{modelValue:s(A),"onUpdate:modelValue":n[0]||(n[0]=m=>Mt(A)?A.value=m:null),color:"gray",class:"w-full md:w-96",size:"lg",options:b,"value-attribute":"key","option-attribute":"label"},null,8,["modelValue"]),l("div",bl,[s(lt)==="asc"?(r(),M(L,{key:0,icon:"i-heroicons-bars-arrow-up",size:"lg",color:"gray",variant:"solid",square:"",onClick:n[1]||(n[1]=m=>lt.value="desc")})):(r(),M(L,{key:1,icon:"i-heroicons-bars-arrow-down",size:"lg",color:"gray",variant:"solid",square:"",onClick:n[2]||(n[2]=m=>lt.value="asc")})),P(ft,{modelValue:s(B),"onUpdate:modelValue":n[3]||(n[3]=m=>Mt(B)?B.value=m:null),class:"w-full md:w-auto",icon:"i-heroicons-magnifying-glass-20-solid",size:"lg",color:"gray",trailing:!1,placeholder:"Search..."},null,8,["modelValue"])])]),l("div",fl,[(r(!0),w(R,null,tt(s(Yt).entries(),([m,d])=>(r(),M(at,{model:{...d[0],model:d[0].model},"group-key":m},{default:C(()=>[n[9]||(n[9]=l("div",{class:"h-[0px] border border-gray-700"},null,-1)),me((r(),w("div",pl,[d[0].isExpanded?(r(!0),w(R,{key:0},tt(d.slice(1),$=>(r(),M(at,{model:{...$,model:$.model},"group-key":m,secondary:""},null,8,["model","group-key"]))),256)):k("",!0)])),[[o]]),l("div",gl,[n[8]||(n[8]=l("div",null,null,-1)),d.length>1?(r(),M(L,{key:0,size:"2xs",icon:d[0].isExpanded?"i-heroicons-chevron-up":"i-heroicons-chevron-down",color:"white",variant:"solid",trailing:"",onClick:$=>d[0].isExpanded=!d[0].isExpanded},{default:C(()=>[Tt(h(d[0].isExpanded?"Collapse":"Expand"),1)]),_:2},1032,["icon","onClick"])):k("",!0)])]),_:2},1032,["model","group-key"]))),256)),P(pt,{modelValue:s(X),"onUpdate:modelValue":n[4]||(n[4]=m=>Mt(X)?X.value=m:null),"page-count":Ct,total:s(Et).size},null,8,["modelValue","total"])])])]),_:1})])])}}});export{vl as default};
